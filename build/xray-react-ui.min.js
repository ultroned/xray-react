(function () {
  'use strict';

  const xrayReactElemCN = 'xray-react-element';
  const xrayReactWrapperCN = 'xray-react-elements-wrapper';
  const xrayReactCompPathAttr = 'data-xray-react-components-path';
  const xrayReactFilteredCompPathAttr = 'data-xray-react-filtered-components-path';
  const zIndex = 10000;

  const UI_MODE_FULL = 'full';
  const UI_MODE_SIMPLE = 'simple';
  const AVAILABLE_UI_MODES = [UI_MODE_FULL, UI_MODE_SIMPLE];

  const HTML_ELEMENTS = new Set([
    'div',
    'span',
    'form',
    'button',
    'input',
    'a',
    'img',
    'p',
    'h1',
    'h2',
    'h3',
    'h4',
    'h5',
    'h6',
    'ul',
    'li',
    'ol',
    'table',
    'tr',
    'td',
    'th',
    'thead',
    'tbody',
    'tfoot',
    'section',
    'article',
    'header',
    'footer',
    'nav',
    'main',
    'aside',
    'label',
    'select',
    'option',
    'textarea',
    'fieldset',
    'legend',
    'br',
    'hr',
    'strong',
    'em',
    'b',
    'i',
    'u',
    'small',
    'sub',
    'sup',
    'dl',
    'dt',
    'dd',
    'pre',
    'code',
    'blockquote',
    'cite',
    'canvas',
    'svg',
    'path',
    'circle',
    'rect',
    'line',
    'polyline',
    'polygon',
    'iframe',
    'embed',
    'object',
    'video',
    'audio',
    'source',
    'track',
    'meta',
    'link',
    'style',
    'script',
    'noscript',
    'template',
  ]);

  var css = `
  .xray-react-enabled {
    margin-bottom: 50px !important;
  }
  .xray-react-elements-wrapper {
    bottom: 0;
    font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-style: normal;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
  }
  .xray-react-element {
    background-color: rgba(0, 0, 255, 0.25);
    border: 2px solid blue;
    cursor: pointer;
    position: absolute;
  }
  .xray-react-element::before {
    align-self: center;
    color: white;
    content: attr(data-xray-react-element-name);
    display: table;
    font-size: 18px;
    font-weight: 400;
    left: 50%;
    position: absolute;
    right: 0;
    text-align: center;
    top: 50%;
    transform: translate(-50%, -50%);
  }
  .xray-react-element::after {
    background-color: darkblue;
    color: white;
    content: attr(data-xray-react-element-name);
    display: inline-block;
    font-size: 10px;
    left: 0;
    padding: 0 5px;
    position: absolute;
    top: 0;
  }
  .xray-react-element:hover,
  .xray-react-element.-highlighted {
    background-color: rgba(0, 0, 255, 0.75);
    border-color: cyan;
  }
  .xray-react-element:hover::before,
  .xray-react-element.-highlighted::before {
    color: cyan;
  }
  .xray-react-element:hover::after,
  .xray-react-element.-highlighted::after {
    background-color: cyan;
    color: darkblue;
  }
  .xray-react-element.-highlighted {
    z-index: 99999 !important;
  }
  .xray-react-action-bar {
    align-items: center;
    background-color: darkblue;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-height: 100px;
    min-height: 50px;
    overflow-y: auto;
    padding: 0 10px;
    position: fixed;
    width: 100vw;
    z-index: 999999;
  }
  .xray-react-action-bar::-webkit-scrollbar {
    width: 8px;
  }
  .xray-react-action-bar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
  }
  .xray-react-action-bar::-webkit-scrollbar-thumb {
    background: cyan;
    border-radius: 4px;
  }
  .xray-react-action-bar::-webkit-scrollbar-thumb:hover {
    background: #00ffff;
  }
  .xray-react-actions-wrapper {
    align-items: center;
    display: flex;
    font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-style: normal;
    min-height: 50px;
    padding: 5px 0;
    position: sticky;
    top: 0;
    width: 100%;
  }
  .search-wrapper {
    position: relative;
    align-self: center;
    flex-shrink: 0;
    margin-right: 15px;
    min-width: 200px;
    width: 25%;
  }
  #search-component {
    background-color: lightgray;
    border-radius: 3px;
    border: 0;
    font-size: 14px;
    height: 30px;
    line-height: 20px;
    outline: 0;
    padding: 5px 30px 5px 10px;
    width: 100%;
    box-sizing: border-box;
  }
  .search-clear {
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #666;
    opacity: 0.6;
    transition: opacity 0.2s;
  }
  .search-clear:hover {
    opacity: 1;
  }
  .components-path {
    color: cyan;
    flex: 1;
    font-size: 11px;
    line-height: 1.4;
    min-width: 0;
    overflow-x: auto;
    overflow-y: visible;
    white-space: nowrap;
    word-break: keep-all;
  }
  .components-path::-webkit-scrollbar {
    height: 4px;
  }
  .components-path::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
  }
  .components-path::-webkit-scrollbar-thumb {
    background: cyan;
    border-radius: 2px;
  }
  .components-path::-webkit-scrollbar-thumb:hover {
    background: #00ffff;
  }
  .xray-react-element-temp {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  .xray-react-element-temp::before {
    display: none !important;
  }
  .xray-react-element-temp::after {
    display: none !important;
  }
  .xray-react-spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(0, 255, 255, 0.3);
    border-top-color: cyan;
    border-radius: 50%;
    animation: xray-react-spin 1s linear infinite;
    position: relative;
    z-index: 1;
  }
  @keyframes xray-react-spin {
    to { transform: rotate(360deg); }
  }
  .xray-react-elements-wrapper.-simple-mode .xray-react-element {
    opacity: 0;
    pointer-events: auto;
  }
  .xray-react-elements-wrapper.-simple-mode .xray-react-element:hover {
    opacity: 1;
  }
  .xray-react-elements-wrapper.-simple-mode .xray-react-element.-highlighted {
    opacity: 1;
  }
`;

  const actionBar = `
  <div class="xray-react-action-bar">
    <div class="xray-react-actions-wrapper">
      <div class="search-wrapper">
        <input id="search-component" type="text" placeholder="Search component by name..."/>
        <button type="button" class="search-clear" aria-label="Clear search" style="display: none;">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13 1L1 13M1 1L13 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="components-path"></div>
    </div>
  </div>
`;

  const MAX_FIBER_DEPTH = 50; // Prevent infinite loops

  let projectRoot = null;
  let usageMap = {};
  let importMap = {};
  let projectFilePaths = new Set();
  let normalizedProjectFilePaths = new Set(); // Pre-normalized paths for O(1) lookup
  let componentNameToFilesIndex = new Map(); // componentName -> Set<filePath> for O(1) lookup
  const normalizePathCache = new Map(); // Memoization cache for normalizePath
  let currentMode = UI_MODE_FULL;

  const EXTERNAL_PATTERNS = [
    /node_modules/i,
    /\.next[/\\]/i,
    /dist[/\\]/i,
    /build[/\\]/i,
    /\.git[/\\]/i,
    /\.cache[/\\]/i,
    /coverage[/\\]/i,
  ];

  /**
   * Normalizes a file path for comparison
   * Handles both Unix and Windows paths, relative and absolute
   * Uses memoization cache for repeated calls with same path
   * @param {string} filePath - File path to normalize
   * @returns {string} Normalized path
   */
  const normalizePath = (filePath) => {
    if (!filePath) return '';

    const cached = normalizePathCache.get(filePath);
    if (cached !== undefined) return cached;

    let normalized = String(filePath).replace(/\\/g, '/');
    normalized = normalized.replace(/^\/+|\/+$/g, '');
    normalized = normalized.toLowerCase();

    normalizePathCache.set(filePath, normalized);
    return normalized;
  };

  /**
   * Checks if a file path is external (node_modules, build artifacts, etc.)
   * @param {string} filePath - File path to check
   * @returns {boolean} True if path is external
   */
  const isExternalPath = (filePath) => {
    if (!filePath) return false;

    const normalized = normalizePath(filePath);

    return EXTERNAL_PATTERNS.some((pattern) => pattern.test(normalized));
  };

  /**
   * Detects project root from a file path by finding common base path
   * @param {Array<string>} filePaths - Array of file paths from fibers
   * @returns {string|null} Detected project root or null
   */
  const detectProjectRootFromPaths = (filePaths) => {
    if (!filePaths || filePaths.length === 0) return null;

    const projectPaths = filePaths.filter((path) => path && !isExternalPath(path)).map(normalizePath);

    if (projectPaths.length === 0) return null;

    const pathParts = projectPaths.map((path) => path.split('/'));
    const minLength = Math.min(...pathParts.map((parts) => parts.length));

    let commonParts = [];
    for (let i = 0; i < minLength; i++) {
      const part = pathParts[0][i];
      if (pathParts.every((parts) => parts[i] === part)) {
        commonParts.push(part);
      } else {
        break;
      }
    }

    if (commonParts.length > 0) {
      return '/' + commonParts.join('/');
    }

    const firstPath = projectPaths[0];
    const lastSlash = firstPath.lastIndexOf('/');
    if (lastSlash > 0) {
      return '/' + firstPath.substring(0, lastSlash);
    }

    return null;
  };

  /**
   * Removes consecutive duplicate component names from an array
   * @param {Array<string>} path - Array of component names
   * @returns {Array<string>} Array with consecutive duplicates removed
   */
  const removeConsecutiveDuplicates = (path) => {
    if (path.length === 0) return path;

    const result = [path[0]];
    for (let i = 1; i < path.length; i++) {
      if (path[i].toLowerCase() !== path[i - 1].toLowerCase()) {
        result.push(path[i]);
      }
    }
    return result;
  };

  /**
   * Updates the clear button visibility based on input value
   * @param {HTMLInputElement} input - Search input element
   */
  const updateClearButton = (input) => {
    const clearButton = input?.parentElement?.querySelector('.search-clear');
    if (clearButton) {
      clearButton.style.display = input.value.length > 0 ? 'flex' : 'none';
    }
  };

  /**
   * Handles search input changes to highlight matching components
   * @param {Event} event - Input event
   */
  const handleSearchChange = (event) => {
    const input = event.target;
    const value = input.value.toLowerCase();
    const regExp = new RegExp(`^${value}|${value}$`);
    const elements = document.querySelectorAll(`.${xrayReactElemCN}`);

    updateClearButton(input);

    for (const elem of elements) {
      if (value.length >= 2) {
        const searchName = elem.getAttribute('data-xray-react-element-search-name');
        if (searchName && searchName.match(regExp)) {
          elem.classList.add('-highlighted');
        } else {
          elem.classList.remove('-highlighted');
        }
      } else {
        elem.classList.remove('-highlighted');
      }
    }
  };

  /**
   * Handles clear button click to reset search
   */
  const handleSearchClear = () => {
    const input = document.getElementById('search-component');
    if (input) {
      input.value = '';
      input.focus();
      updateClearButton(input);
      const elements = document.querySelectorAll(`.${xrayReactElemCN}`);
      elements.forEach((elem) => elem.classList.remove('-highlighted'));
    }
  };

  /**
   * Gets the current mode from window or defaults to UI_MODE_FULL
   * @returns {string} Current mode (UI_MODE_FULL or UI_MODE_SIMPLE)
   */
  const getCurrentMode = () => {
    if (typeof window !== 'undefined' && window.__XRAY_REACT_MODE__) {
      const mode = window.__XRAY_REACT_MODE__;
      return AVAILABLE_UI_MODES.includes(mode) ? mode : UI_MODE_FULL;
    }
    return UI_MODE_FULL;
  };

  /**
   * Sets the current mode
   * @param {string} mode - Mode to set (UI_MODE_FULL or UI_MODE_SIMPLE)
   */
  const setMode = (mode) => {
    currentMode = AVAILABLE_UI_MODES.includes(mode) ? mode : UI_MODE_FULL;
    if (typeof window !== 'undefined') {
      window.__XRAY_REACT_MODE__ = currentMode;
    }
  };

  /**
   * Creates an overlay element for a React component
   * @param {HTMLElement} elem - The DOM element
   * @param {string} componentName - Name of the React component
   * @returns {Object} Object containing original element and overlay element
   */
  const createElemForComponent = (elem, componentName) => {
    const xrayReactElem = document.createElement('div');
    const boundingClientRect = elem.getBoundingClientRect();

    xrayReactElem.className = xrayReactElemCN;
    xrayReactElem.setAttribute('data-xray-react-element-name', componentName);
    xrayReactElem.setAttribute('data-xray-react-element-search-name', componentName.toLowerCase());
    xrayReactElem.style.height = `${boundingClientRect.height}px`;
    xrayReactElem.style.width = `${boundingClientRect.width}px`;
    xrayReactElem.style.top = `${boundingClientRect.top + window.scrollY}px`;
    xrayReactElem.style.left = `${boundingClientRect.left + window.scrollX}px`;
    xrayReactElem.style.zIndex = zIndex;

    return { elem, xrayReactElem };
  };

  /**
   * Checks if a name is an HTML element
   * @param {string} name - Component or element name
   * @returns {boolean} True if it's an HTML element
   */
  const isHTMLElement = (name) => {
    if (!name || typeof name !== 'string') return false;
    return HTML_ELEMENTS.has(name.toLowerCase());
  };

  /**
   * Resolves component name from element type and fiber
   * Handles function components, class components, forwardRef, memo, etc.
   * @param {*} elementType - React element type
   * @param {Object} fiber - React fiber node
   * @returns {string|null} Component name or null
   */
  const resolveComponentName = (elementType, fiber = null) => {
    if (!elementType) return null;

    if (typeof elementType === 'function') {
      if (elementType.displayName) {
        return elementType.displayName;
      }

      if (elementType.name && elementType.name !== 'Anonymous') {
        return elementType.name;
      }

      if (elementType.render) {
        return resolveComponentName(elementType.render, fiber);
      }

      if (elementType.$$typeof && elementType.type) {
        return resolveComponentName(elementType.type, fiber);
      }
    }

    if (typeof elementType === 'string') {
      return elementType;
    }

    if (elementType && elementType.$$typeof) {
      if (elementType.type) {
        return resolveComponentName(elementType.type, fiber);
      }
    }

    if (fiber && fiber._debugSource) {
      const fileName = fiber._debugSource.fileName;
      if (fileName) {
        const match = fileName.match(/([^/\\]+)\.(jsx?|tsx?)$/);
        if (match) {
          return match[1];
        }
      }
    }

    return null;
  };

  /**
   * Checks if a component belongs to the project based on its source file path
   * @param {Object} fiber - React fiber node
   * @param {string} projectRootPath - Project root path for comparison
   * @param {string} componentName - Optional component name to check against project files
   * @returns {boolean} True if component belongs to project
   */
  const isProjectComponent = (fiber, projectRootPath, componentName = null) => {
    if (!projectRootPath) {
      return true;
    }

    const filePath = fiber?._debugSource?.fileName;

    if (filePath) {
      if (isExternalPath(filePath)) {
        return false;
      }

      const normalizedFilePath = normalizePath(filePath);
      const normalizedProjectRoot = normalizePath(projectRootPath);

      if (normalizedFilePath.startsWith(normalizedProjectRoot)) {
        return true;
      }

      if (
        !normalizedFilePath.includes('node_modules') &&
        !normalizedFilePath.startsWith('/') &&
        !normalizedFilePath.match(/^[a-z]:/i)
      ) {
        return true;
      }

      return false;
    }

    if (componentName) {
      const normalizedComponentName = componentName.toLowerCase();
      // O(1) lookup using pre-built index instead of O(m) loop through all files
      if (componentNameToFilesIndex.has(normalizedComponentName)) {
        return true;
      }
    }

    return false;
  };

  /**
   * Sets the project root path for filtering
   * @param {string} rootPath - Project root path
   */
  const setProjectRoot = (rootPath) => {
    projectRoot = rootPath ? normalizePath(rootPath) : null;

    if (typeof window !== 'undefined' && window.__XRAY_REACT_PROJECT_ROOT__ && !projectRoot) {
      projectRoot = normalizePath(window.__XRAY_REACT_PROJECT_ROOT__);
    }
  };

  /**
   * Sets the usage map for filtering external components
   * @param {Object} map - Usage map (file path -> Array of component names)
   */
  const setUsageMap = (map) => {
    usageMap = map || {};

    if (
      typeof window !== 'undefined' &&
      window.__XRAY_REACT_USAGE_MAP__ &&
      Object.keys(usageMap).length === 0
    ) {
      usageMap = window.__XRAY_REACT_USAGE_MAP__;
    }

    if (projectFilePaths.size === 0) {
      projectFilePaths = new Set(Object.keys(usageMap || {}));
    } else {
      Object.keys(usageMap || {}).forEach((filePath) => projectFilePaths.add(filePath));
    }
  };

  /**
   * Sets the import map for filtering external components (fallback)
   * @param {Object} map - Import map (file path -> Array of component names)
   */
  const setImportMap = (map) => {
    importMap = map || {};

    if (
      typeof window !== 'undefined' &&
      window.__XRAY_REACT_IMPORT_MAP__ &&
      Object.keys(importMap).length === 0
    ) {
      importMap = window.__XRAY_REACT_IMPORT_MAP__;
    }

    Object.keys(importMap || {}).forEach((filePath) => projectFilePaths.add(filePath));
  };

  /**
   * Sets the list of all project files found in sourcePath folders
   * @param {Array<string>} files - Array of all file paths found in sourcePath
   */
  const setProjectFiles = (files) => {
    let fileList = files || [];

    if (
      typeof window !== 'undefined' &&
      window.__XRAY_REACT_PROJECT_FILES__ &&
      fileList.length === 0
    ) {
      const globalFiles = window.__XRAY_REACT_PROJECT_FILES__;
      if (Array.isArray(globalFiles)) {
        fileList = [...globalFiles];
      }
    }

    projectFilePaths = new Set(fileList);

    // Pre-compute normalized paths and component name index for O(1) lookups
    normalizedProjectFilePaths.clear();
    componentNameToFilesIndex.clear();

    for (const filePath of fileList) {
      const normalized = normalizePath(filePath);
      normalizedProjectFilePaths.add(normalized);

      const pathParts = normalized.split('/');
      const filename = pathParts[pathParts.length - 1] || '';
      const filenameWithoutExt = filename.replace(/\.(tsx?|jsx?)$/, '');

      if (filenameWithoutExt) {
        if (!componentNameToFilesIndex.has(filenameWithoutExt)) {
          componentNameToFilesIndex.set(filenameWithoutExt, new Set());
        }
        componentNameToFilesIndex.get(filenameWithoutExt).add(filePath);
      }

      for (const part of pathParts.slice(0, -1)) {
        if (part && part.length > 1) {
          if (!componentNameToFilesIndex.has(part)) {
            componentNameToFilesIndex.set(part, new Set());
          }
          componentNameToFilesIndex.get(part).add(filePath);
        }
      }
    }
  };

  /**
   * Attempts to detect project root from fiber tree when server is not available
   * Scans DOM for React fibers and extracts file paths to infer project root
   */
  const detectProjectRootFromDOM = () => {
    if (projectRoot) {
      return;
    }

    try {
      const filePaths = [];
      const maxSamples = 50; // Limit samples for performance
      let samples = 0;

      const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_ELEMENT, null, false);

      let node;
      while ((node = walker.nextNode()) && samples < maxSamples) {
        const fiberKey = Object.keys(node).find(
          (key) => key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$'),
        );

        if (fiberKey) {
          const fiber = node[fiberKey];
          let currentFiber = fiber;
          let depth = 0;

          while (currentFiber && depth < 10) {
            if (currentFiber._debugSource && currentFiber._debugSource.fileName) {
              const filePath = currentFiber._debugSource.fileName;
              if (!isExternalPath(filePath)) {
                filePaths.push(filePath);
              }
            }
            currentFiber = currentFiber.return;
            depth++;
            samples++;
          }
        }
      }

      if (filePaths.length > 0) {
        const detectedRoot = detectProjectRootFromPaths(filePaths);
        if (detectedRoot) {
          projectRoot = detectedRoot;
        }
      }
    } catch {
      // Silently fail - project root detection is optional
    }
  };

  /**
   * Checks if an external component is used by any internal component in the seen list
   * Checks usage map first (primary), then import map (fallback)
   * @param {string} componentName - External component name to check
   * @param {Array} seenInternalComponents - Array of internal components seen so far in path
   * @returns {boolean} True if component is used by any seen internal component
   */
  const isUsedByInternalComponents = (componentName, seenInternalComponents) => {
    if (!componentName || seenInternalComponents.length === 0) {
      return false;
    }

    if (Object.keys(usageMap).length === 0 && Object.keys(importMap).length === 0) {
      return true;
    }

    for (const internalComp of seenInternalComponents) {
      const filePath = internalComp.file;
      if (!filePath) continue;

      if (usageMap[filePath] && Array.isArray(usageMap[filePath])) {
        if (usageMap[filePath].includes(componentName)) {
          return true;
        }
      }

      if (importMap[filePath] && Array.isArray(importMap[filePath])) {
        if (importMap[filePath].includes(componentName)) {
          return true;
        }
      }
    }

    return false;
  };

  /**
   * Traverses the fiber tree to find React components, skipping HTML elements
   * Filters out external library components based on usage/import maps
   * @param {Object} fiber - Starting fiber node
   * @param {number} maxDepth - Maximum depth to traverse
   * @returns {Array} Array of component information objects
   */
  const traverseFiberTree = (fiber, maxDepth = MAX_FIBER_DEPTH) => {
    const allComponents = [];
    const internalComponents = [];
    let currentFiber = fiber;
    let depth = 0;
    // Performance improvements
    const visited = new Set();

    while (currentFiber && depth < maxDepth) {
      if (visited.has(currentFiber)) {
        break;
      }
      visited.add(currentFiber);

      const elementType = currentFiber.elementType || currentFiber.type;

      if (elementType) {
        const componentName = resolveComponentName(elementType, currentFiber);

        if (componentName) {
          if (!isHTMLElement(componentName)) {
            const isInternal = isProjectComponent(currentFiber, projectRoot, componentName);

            let filePath = null;
            if (currentFiber._debugSource && currentFiber._debugSource.fileName) {
              filePath = currentFiber._debugSource.fileName;
            }

            allComponents.push({
              name: componentName,
              fiber: currentFiber,
              elementType: elementType,
              depth: depth,
              isInternal: isInternal,
              file: filePath,
            });

            if (isInternal) {
              internalComponents.push({ name: componentName, file: filePath });
            }
          }
        }
      }

      currentFiber = currentFiber.return || currentFiber._owner;
      depth++;
    }

    const filteredComponents = [];
    for (const comp of allComponents) {
      if (comp.isInternal) {
        filteredComponents.push({
          name: comp.name,
          fiber: comp.fiber,
          elementType: comp.elementType,
          depth: comp.depth,
          file: comp.file,
          isInternal: comp.isInternal,
        });
      } else {
        if (isUsedByInternalComponents(comp.name, internalComponents)) {
          filteredComponents.push({
            name: comp.name,
            fiber: comp.fiber,
            elementType: comp.elementType,
            depth: comp.depth,
            file: comp.file,
            isInternal: comp.isInternal,
          });
        }
      }
    }

    return filteredComponents;
  };

  /**
   * Gets React component information from a DOM element using React DevTools protocol
   * Supports React 18+ and falls back to legacy detection for older versions
   * Enhanced to skip HTML elements and find actual React components
   * @param {HTMLElement} elem - The DOM element
   * @returns {Object} Object with component name and optional uid
   */
  const getComponentObj = (elem) => {
    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {
      try {
        const fiberKey = Object.keys(elem).find(
          (key) => key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$'),
        );

        if (fiberKey) {
          const fiber = elem[fiberKey];
          const components = traverseFiberTree(fiber);

          if (components.length > 0) {
            const firstComponent = components[0];
            const uid =
              firstComponent.fiber._debugID ||
              `${firstComponent.fiber.index || ''}${firstComponent.fiber.key || ''}`;
            const reversedHierarchy = components.reverse().map((c) => c.name);
            return { name: firstComponent.name, uid, hierarchy: reversedHierarchy };
          }
        }
      } catch {
        // Silently fall back to legacy detection
      }
    }

    for (const key of Object.keys(elem)) {
      if (key.startsWith('__reactInternalInstance$')) {
        const fiberNode = elem[key];
        if (fiberNode) {
          try {
            const components = traverseFiberTree(fiberNode);
            if (components.length > 0) {
              const firstComponent = components[0];
              const reversedHierarchy = components.reverse().map((c) => c.name);
              return {
                name: firstComponent.name,
                uid: `${fiberNode._mountIndex || ''}${fiberNode._mountOrder || ''}`,
                hierarchy: reversedHierarchy,
              };
            }
          } catch {
            // Continue to old legacy detection
          }
        }

        if (fiberNode && fiberNode._currentElement) {
          const owner = fiberNode._currentElement._owner;
          const fiber = owner && owner._instance;
          if (fiber) {
            const componentName = fiber.constructor.name;
            if (!isHTMLElement(componentName)) {
              return {
                name: componentName,
                uid: `${owner._mountIndex || ''}${owner._mountOrder || ''}`,
              };
            }
          }
        } else if (fiberNode) {
          const fiber = fiberNode.return?.stateNode?._reactInternalFiber;
          if (fiber) {
            const componentName = fiber.type?.name || 'Unknown';
            if (componentName !== 'Unknown' && !isHTMLElement(componentName)) {
              return { name: componentName };
            }
          }
        }
      }
    }

    const tagName = elem.tagName?.toLowerCase();
    if (tagName && isHTMLElement(tagName)) {
      return { name: tagName };
    }

    return {};
  };

  /**
   * Creates a cached function for searching and creating component overlays
   * @returns {Function} Function that creates overlay elements for components
   */
  const searchAndCreateComponentCached = () => {
    // Performance improvements
    const uids = new Set();
    return (elem) => {
      const { name, uid } = getComponentObj(elem);

      if (name && name !== 'Unknown') {
        if (uid) {
          if (!uids.has(uid)) {
            uids.add(uid);
            return createElemForComponent(elem, name);
          }
        } else {
          return createElemForComponent(elem, name);
        }
      }
      return null;
    };
  };

  /**
   * Extracts component objects from React fiber tree
   * @param {HTMLElement} elem - DOM element to extract components from
   * @returns {Array} Array of component objects from fiber tree
   */
  const getComponentsFromElement = (elem) => {
    let components = [];

    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {
      try {
        const fiberKey = Object.keys(elem).find(
          (key) => key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$'),
        );

        if (fiberKey) {
          const fiber = elem[fiberKey];
          components = traverseFiberTree(fiber);
          // Reverse to get parent -> child order (traversal goes child -> parent)
          components = components.reverse();
        }
      } catch {
        // Silently fall back to legacy detection
      }
    }

    if (components.length === 0) {
      for (const key of Object.keys(elem)) {
        if (key.startsWith('__reactInternalInstance$')) {
          const fiberNode = elem[key];
          if (fiberNode) {
            try {
              components = traverseFiberTree(fiberNode);
              // Reverse to get parent -> child order
              components = components.reverse();
              break;
            } catch {
              // Silently continue to next detection method
            }
          }
        }
      }
    }

    return components;
  };

  /**
   * Gets component path from DOM traversal (fallback method)
   * @param {HTMLElement} elem - DOM element to start traversal from
   * @returns {Array} Array of component names from DOM traversal
   */
  const getDomPath = (elem) => {
    let currentElem = elem;
    const domPath = [];
    const seenComponentNames = new Set();

    while (currentElem && currentElem.parentNode && domPath.length < 20) {
      currentElem = currentElem.parentNode;
      const { name: component } = getComponentObj(currentElem);
      if (component && component !== 'Unknown' && !isHTMLElement(component)) {
        const normalizedName = component.toLowerCase();
        if (!seenComponentNames.has(normalizedName)) {
          seenComponentNames.add(normalizedName);
          domPath.unshift(component);
        }
      }
    }

    return domPath;
  };

  /**
   * Builds full component structure path (includes all components)
   * @param {Array} components - Component objects from fiber tree
   * @param {string} currentComponentName - Name of current component
   * @param {HTMLElement} elem - Original DOM element for fallback
   * @returns {string} Full component path structure
   */
  const buildFullStructure = (components, currentComponentName, elem) => {
    if (components.length > 0) {
      const filteredComponents = components.filter(
        (comp) => comp.name !== currentComponentName && !isHTMLElement(comp.name),
      );

      if (filteredComponents.length > 0) {
        const fullPath = filteredComponents.map((comp) => comp.name);
        return [...fullPath, currentComponentName].join(' -> ');
      }

      return currentComponentName;
    }

    const domPath = getDomPath(elem);

    if (domPath.length > 0) {
      return [...domPath, currentComponentName].join(' -> ');
    }

    return currentComponentName;
  };

  /**
   * Builds filtered component structure path (only project-owned components)
   * @param {Array} components - Component objects from fiber tree
   * @param {string} currentComponentName - Name of current component
   * @param {HTMLElement} elem - Original DOM element for fallback
   * @returns {string} Filtered component path structure
   */
  const buildFilteredStructure = (components, currentComponentName, elem) => {
    if (components.length > 0) {
      const filteredComponents = components.filter(
        (comp) => comp.name !== currentComponentName && !isHTMLElement(comp.name),
      );

      const seenComponents = new Set();
      const projectOwnedComponents = [];

      for (const comp of filteredComponents) {
        if (!comp.isInternal) {
          continue;
        }

        const normalizedName = comp.name.toLowerCase();

        if (comp.file) {
          const normalizedFile = comp.file.toLowerCase();
          const pathParts = normalizedFile.split(/[/\\]/);
          const filename = pathParts[pathParts.length - 1];
          const filenameWithoutExt = filename.replace(/\.(tsx?|jsx?)$/, '');

          const nameMatchesFile =
            normalizedFile.includes(`/${normalizedName}`) ||
            normalizedFile.includes(`\\${normalizedName}`) ||
            normalizedFile.endsWith(`/${normalizedName}.tsx`) ||
            normalizedFile.endsWith(`/${normalizedName}.ts`) ||
            normalizedFile.endsWith(`/${normalizedName}.jsx`) ||
            normalizedFile.endsWith(`/${normalizedName}.js`) ||
            normalizedFile.endsWith(`\\${normalizedName}.tsx`) ||
            normalizedFile.endsWith(`\\${normalizedName}.ts`) ||
            normalizedFile.endsWith(`\\${normalizedName}.jsx`) ||
            normalizedFile.endsWith(`\\${normalizedName}.js`) ||
            filenameWithoutExt === normalizedName;

          // O(1) lookup using pre-built index instead of O(m) spread + some + includes
          const inProjectFilePaths = componentNameToFilesIndex.has(normalizedName);

          if (!nameMatchesFile && !inProjectFilePaths) {
            continue;
          }

          // Deduplicate by component identity: use normalized name + normalized file path as unique key
          // This ensures that:
          // 1. The same component (same name, same file) appearing multiple times is only shown once
          //    (e.g., WebAppLayout -> WebAppLayout -> WebAppLayout)
          // 2. Different components with the same name but different files are both shown
          //    (e.g., components_left/Parent.jsx vs components_right/Parent.jsx)
          const normalizedFilePath = normalizePath(comp.file);
          const componentKey = `${normalizedName}:${normalizedFilePath}`;

          if (seenComponents.has(componentKey)) {
            continue;
          }

          seenComponents.add(componentKey);
          projectOwnedComponents.push(comp);
        } else {
          const componentKey = normalizedName;

          if (seenComponents.has(componentKey)) {
            continue;
          }

          seenComponents.add(componentKey);
          projectOwnedComponents.push(comp);
        }
      }

      if (projectOwnedComponents.length > 0) {
        const filteredPath = projectOwnedComponents.map((comp) => comp.name);
        const currentNameLower = currentComponentName.toLowerCase();
        const pathContainsCurrent = filteredPath.some(
          (name) => name.toLowerCase() === currentNameLower,
        );

        let finalPath;
        if (!pathContainsCurrent) {
          finalPath = [...filteredPath, currentComponentName];
        } else {
          finalPath = filteredPath;
        }

        // Remove consecutive duplicates of the same components before joining
        finalPath = removeConsecutiveDuplicates(finalPath);
        return finalPath.join(' -> ');
      }

      return currentComponentName;
    }

    const domPath = getDomPath(elem);

    if (domPath.length > 0) {
      const currentNameLower = currentComponentName.toLowerCase();
      const pathContainsCurrent = domPath.some((name) => name.toLowerCase() === currentNameLower);

      let finalPath;
      if (!pathContainsCurrent) {
        finalPath = [...domPath, currentComponentName];
      } else {
        finalPath = domPath;
      }

      // Remove consecutive duplicates of the same components before joining
      finalPath = removeConsecutiveDuplicates(finalPath);
      return finalPath.join(' -> ');
    }

    return currentComponentName;
  };

  /**
   * Adds the absolute component path to an overlay element
   * Uses fiber-based hierarchy for accurate React component paths
   * @param {HTMLElement} elem - Original DOM element
   * @param {HTMLElement} xrayReactElem - Overlay element
   */
  const addAbsoluteComponentPath = (elem, xrayReactElem) => {
    const currentComponentName = xrayReactElem.getAttribute('data-xray-react-element-name') || '';

    const components = getComponentsFromElement(elem);

    const fullStructure = buildFullStructure(components, currentComponentName, elem);
    const filteredStructure = buildFilteredStructure(components, currentComponentName, elem);

    xrayReactElem.setAttribute(xrayReactCompPathAttr, fullStructure);
    xrayReactElem.setAttribute(xrayReactFilteredCompPathAttr, filteredStructure);
  };

  /**
   * Handles mouseover events on overlay elements
   * @param {Event} event - Mouseover event
   */
  const onXrayReactMouseover = (event) => {
    const { target } = event;
    if (target.classList.contains(xrayReactElemCN)) {
      const componentsPath =
        target.getAttribute(xrayReactFilteredCompPathAttr) ||
        target.getAttribute(xrayReactCompPathAttr) ||
        '';
      const pathElement = document.querySelector('.xray-react-actions-wrapper .components-path');
      if (pathElement) {
        pathElement.innerHTML = componentsPath;
      }
    }
  };

  /**
   * Toggles the xray-react overlay on/off
   */
  const toggleXrayReact = () => {
    const body = document.body;

    if (body.classList.contains('xray-react-enabled')) {
      body.classList.remove('xray-react-enabled');
      const xrayReactElementsWrapper = document.querySelector(`.${xrayReactWrapperCN}`);
      const xrayReactActionBar = document.querySelector('.xray-react-action-bar');
      const xrayReactStyleTag = document.querySelector('.xray-react-style-tag');
      const tempElements = document.querySelectorAll('.xray-react-element-temp');

      if (xrayReactActionBar) {
        xrayReactActionBar.classList.remove('-simple-mode');
      }
      if (xrayReactElementsWrapper) {
        xrayReactElementsWrapper.remove();
      }
      if (xrayReactActionBar) xrayReactActionBar.remove();
      if (xrayReactStyleTag) xrayReactStyleTag.remove();
      tempElements.forEach((el) => el.remove());

      body.removeEventListener('mouseover', onXrayReactMouseover);
    } else {
      body.classList.add('xray-react-enabled');

      currentMode = getCurrentMode();

      let styleElement = document.querySelector('.xray-react-style-tag');
      if (!styleElement) {
        styleElement = document.createElement('style');
        styleElement.className = 'xray-react-style-tag';
        styleElement.textContent = css;
        document.head.appendChild(styleElement);
      }

      const existingActionBar = document.querySelector('.xray-react-action-bar');
      if (!existingActionBar) {
        body.insertAdjacentHTML('beforeend', actionBar);
      } else {
        const existingClearButton = existingActionBar.querySelector('.search-clear');
        if (existingClearButton && !existingClearButton.hasAttribute('data-listener-attached')) {
          existingClearButton.setAttribute('data-listener-attached', 'true');
          existingClearButton.addEventListener('click', handleSearchClear);
        }
      }
      if (currentMode === UI_MODE_SIMPLE && existingActionBar) {
        existingActionBar.classList.add('-simple-mode');
      } else if (currentMode === UI_MODE_SIMPLE && !existingActionBar) {
        setTimeout(() => {
          const actionBar = document.querySelector('.xray-react-action-bar');
          if (actionBar) {
            actionBar.classList.add('-simple-mode');
          }
        }, 0);
      } else if (currentMode !== UI_MODE_SIMPLE && existingActionBar) {
        existingActionBar.classList.remove('-simple-mode');
      }
      const searchInput = document.getElementById('search-component');
      if (searchInput) {
        searchInput.addEventListener('input', handleSearchChange);
        updateClearButton(searchInput);
      }
      const clearButton = document.querySelector('.search-clear');
      if (clearButton && !clearButton.hasAttribute('data-listener-attached')) {
        clearButton.setAttribute('data-listener-attached', 'true');
        clearButton.addEventListener('click', handleSearchClear);
      }
      body.addEventListener('mouseover', onXrayReactMouseover);

      const existingWrapper = document.querySelector(`.${xrayReactWrapperCN}`);
      if (existingWrapper) {
        existingWrapper.remove();
      }

      const xrayReactElementsWrapper = document.createElement('div');
      xrayReactElementsWrapper.className = xrayReactWrapperCN;
      if (currentMode === UI_MODE_SIMPLE) {
        xrayReactElementsWrapper.classList.add('-simple-mode');
      }
      body.append(xrayReactElementsWrapper);
      if (currentMode === UI_MODE_SIMPLE) {
        const actionBar = document.querySelector('.xray-react-action-bar');
        if (actionBar) {
          actionBar.classList.add('-simple-mode');
        }
      }
      const existingLoading = document.querySelectorAll('.xray-react-element-temp');
      existingLoading.forEach((el) => el.remove());

      const loadingElement = document.createElement('div');
      loadingElement.className = 'xray-react-element xray-react-element-temp';
      loadingElement.style.height = `${window.innerHeight}px`;
      loadingElement.style.width = `${window.innerWidth}px`;
      loadingElement.style.top = `${window.scrollY}px`;
      loadingElement.style.left = `${window.scrollX}px`;
      loadingElement.style.zIndex = '10000';
      loadingElement.innerHTML = '<div class="xray-react-spinner xray-react-element-temp"></div>';
      xrayReactElementsWrapper.appendChild(loadingElement);

      // Performance improvements
      const processElementsAsync = () => {
        const xrayReactObjects = [];
        const searchAndCreateComponent = searchAndCreateComponentCached();
        const allElements = Array.from(body.getElementsByTagName('*')).filter((elem) => {
          return (
            !elem.classList.contains('xray-react-element-temp') &&
            !elem.closest('.xray-react-action-bar') &&
            !elem.closest(`.${xrayReactWrapperCN}`)
          );
        });
        const batchSize = 20;
        let index = 0;

        const processBatch = () => {
          const endIndex = Math.min(index + batchSize, allElements.length);

          for (let i = index; i < endIndex; i++) {
            const elem = allElements[i];
            const xrayReactObj = searchAndCreateComponent(elem);
            if (xrayReactObj) {
              xrayReactObjects.push(xrayReactObj);
            }
          }

          index = endIndex;

          if (index < allElements.length) {
            setTimeout(processBatch, 1);
          } else {
            let pathIndex = 0;
            const pathBatchSize = 10;

            const processPaths = () => {
              const endIndex = Math.min(pathIndex + pathBatchSize, xrayReactObjects.length);

              for (let i = pathIndex; i < endIndex; i++) {
                const { elem, xrayReactElem } = xrayReactObjects[i];
                addAbsoluteComponentPath(elem, xrayReactElem);
              }

              pathIndex = endIndex;

              if (pathIndex < xrayReactObjects.length) {
                setTimeout(processPaths, 1);
              } else {
                const wrapper = document.querySelector(`.${xrayReactWrapperCN}`);
                if (wrapper) {
                  const tempElements = wrapper.querySelectorAll('.xray-react-element-temp');
                  tempElements.forEach((el) => el.remove());
                  wrapper.append(...xrayReactObjects.map((obj) => obj.xrayReactElem));
                }
              }
            };

            setTimeout(processPaths, 1);
          }
        };

        setTimeout(processBatch, 1);
      };

      processElementsAsync();
    }
  };

  /**
   * Keydown event handler for xray-react shortcuts
   * Matches xray-rails: Cmd+Shift+X (Mac) / Ctrl+Shift+X (Windows/Linux)
   */
  let keydownHandler = null;
  let isHandlerRegistered = false;

  const createKeydownHandler = () => {
    return (event) => {
      if (event.key === 'Escape') {
        const body = document.body;
        if (body && body.classList.contains('xray-react-enabled')) {
          toggleXrayReact();
          event.preventDefault();
        }
        return;
      }

      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
      const isMetaOrCtrl = isMac ? event.metaKey : event.ctrlKey;
      const isShift = event.shiftKey;
      const isX = event.key === 'x' || event.key === 'X' || event.keyCode === 88;

      if (isMetaOrCtrl && isShift && isX) {
        toggleXrayReact();
        event.preventDefault();
        event.stopPropagation();
      }
    };
  };

  /**
   * Handles keyboard shortcut to toggle xray-react
   * Ensures the listener is only registered once
   */
  const handleXrayReactToggle = () => {
    if (isHandlerRegistered) {
      return;
    }

    if (!keydownHandler) {
      keydownHandler = createKeydownHandler();
    }

    document.addEventListener('keydown', keydownHandler, true);
    isHandlerRegistered = true;
  };

  /**
   * Enables xray-react functionality
   */
  const enableXrayReact = () => {
    currentMode = getCurrentMode();

    if (!projectRoot) {
      if (typeof window !== 'undefined' && window.__XRAY_REACT_PROJECT_ROOT__) {
        projectRoot = normalizePath(window.__XRAY_REACT_PROJECT_ROOT__);
      } else {
        setTimeout(() => {
          detectProjectRootFromDOM();
        }, 1000);
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', handleXrayReactToggle);
    } else {
      handleXrayReactToggle();
    }
  };

  // Expose functions globally for client bundle to use
  if (typeof window !== 'undefined') {
    window.xrayReactSetProjectRoot = setProjectRoot;
    window.xrayReactSetUsageMap = setUsageMap;
    window.xrayReactSetImportMap = setImportMap;
    window.xrayReactSetProjectFiles = setProjectFiles;
    window.xrayReactSetMode = setMode;
  }

  enableXrayReact();

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieHJheS1yZWFjdC11aS5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb25zdGFudHMuanMiLCIuLi9zcmMvY3NzLmpzIiwiLi4vc3JjL3BhcnRpYWxzLmpzIiwiLi4vc3JjL3VpLXV0aWxzLmpzIiwiLi4vbGliL3hyYXktcmVhY3QtdWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHhyYXlSZWFjdEVsZW1DTiA9ICd4cmF5LXJlYWN0LWVsZW1lbnQnO1xuZXhwb3J0IGNvbnN0IHhyYXlSZWFjdFdyYXBwZXJDTiA9ICd4cmF5LXJlYWN0LWVsZW1lbnRzLXdyYXBwZXInO1xuZXhwb3J0IGNvbnN0IHhyYXlSZWFjdENvbXBQYXRoQXR0ciA9ICdkYXRhLXhyYXktcmVhY3QtY29tcG9uZW50cy1wYXRoJztcbmV4cG9ydCBjb25zdCB4cmF5UmVhY3RGaWx0ZXJlZENvbXBQYXRoQXR0ciA9ICdkYXRhLXhyYXktcmVhY3QtZmlsdGVyZWQtY29tcG9uZW50cy1wYXRoJztcbmV4cG9ydCBjb25zdCB6SW5kZXggPSAxMDAwMDtcblxuZXhwb3J0IGNvbnN0IFVJX01PREVfRlVMTCA9ICdmdWxsJztcbmV4cG9ydCBjb25zdCBVSV9NT0RFX1NJTVBMRSA9ICdzaW1wbGUnO1xuZXhwb3J0IGNvbnN0IEFWQUlMQUJMRV9VSV9NT0RFUyA9IFtVSV9NT0RFX0ZVTEwsIFVJX01PREVfU0lNUExFXTtcblxuZXhwb3J0IGNvbnN0IEhUTUxfRUxFTUVOVFMgPSBuZXcgU2V0KFtcbiAgJ2RpdicsXG4gICdzcGFuJyxcbiAgJ2Zvcm0nLFxuICAnYnV0dG9uJyxcbiAgJ2lucHV0JyxcbiAgJ2EnLFxuICAnaW1nJyxcbiAgJ3AnLFxuICAnaDEnLFxuICAnaDInLFxuICAnaDMnLFxuICAnaDQnLFxuICAnaDUnLFxuICAnaDYnLFxuICAndWwnLFxuICAnbGknLFxuICAnb2wnLFxuICAndGFibGUnLFxuICAndHInLFxuICAndGQnLFxuICAndGgnLFxuICAndGhlYWQnLFxuICAndGJvZHknLFxuICAndGZvb3QnLFxuICAnc2VjdGlvbicsXG4gICdhcnRpY2xlJyxcbiAgJ2hlYWRlcicsXG4gICdmb290ZXInLFxuICAnbmF2JyxcbiAgJ21haW4nLFxuICAnYXNpZGUnLFxuICAnbGFiZWwnLFxuICAnc2VsZWN0JyxcbiAgJ29wdGlvbicsXG4gICd0ZXh0YXJlYScsXG4gICdmaWVsZHNldCcsXG4gICdsZWdlbmQnLFxuICAnYnInLFxuICAnaHInLFxuICAnc3Ryb25nJyxcbiAgJ2VtJyxcbiAgJ2InLFxuICAnaScsXG4gICd1JyxcbiAgJ3NtYWxsJyxcbiAgJ3N1YicsXG4gICdzdXAnLFxuICAnZGwnLFxuICAnZHQnLFxuICAnZGQnLFxuICAncHJlJyxcbiAgJ2NvZGUnLFxuICAnYmxvY2txdW90ZScsXG4gICdjaXRlJyxcbiAgJ2NhbnZhcycsXG4gICdzdmcnLFxuICAncGF0aCcsXG4gICdjaXJjbGUnLFxuICAncmVjdCcsXG4gICdsaW5lJyxcbiAgJ3BvbHlsaW5lJyxcbiAgJ3BvbHlnb24nLFxuICAnaWZyYW1lJyxcbiAgJ2VtYmVkJyxcbiAgJ29iamVjdCcsXG4gICd2aWRlbycsXG4gICdhdWRpbycsXG4gICdzb3VyY2UnLFxuICAndHJhY2snLFxuICAnbWV0YScsXG4gICdsaW5rJyxcbiAgJ3N0eWxlJyxcbiAgJ3NjcmlwdCcsXG4gICdub3NjcmlwdCcsXG4gICd0ZW1wbGF0ZScsXG5dKTtcbiIsImV4cG9ydCBkZWZhdWx0IGBcbiAgLnhyYXktcmVhY3QtZW5hYmxlZCB7XG4gICAgbWFyZ2luLWJvdHRvbTogNTBweCAhaW1wb3J0YW50O1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnRzLXdyYXBwZXIge1xuICAgIGJvdHRvbTogMDtcbiAgICBmb250LWZhbWlseTogXCJTZWdvZSBVSVwiLCBSb2JvdG8sIFwiSGVsdmV0aWNhIE5ldWVcIiwgQXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIGxlZnQ6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAwO1xuICAgIHRvcDogMDtcbiAgfVxuICAueHJheS1yZWFjdC1lbGVtZW50IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDI1NSwgMC4yNSk7XG4gICAgYm9yZGVyOiAycHggc29saWQgYmx1ZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQ6OmJlZm9yZSB7XG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBjb250ZW50OiBhdHRyKGRhdGEteHJheS1yZWFjdC1lbGVtZW50LW5hbWUpO1xuICAgIGRpc3BsYXk6IHRhYmxlO1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGxlZnQ6IDUwJTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHRvcDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQ6OmFmdGVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgY29udGVudDogYXR0cihkYXRhLXhyYXktcmVhY3QtZWxlbWVudC1uYW1lKTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgZm9udC1zaXplOiAxMHB4O1xuICAgIGxlZnQ6IDA7XG4gICAgcGFkZGluZzogMCA1cHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgfVxuICAueHJheS1yZWFjdC1lbGVtZW50OmhvdmVyLFxuICAueHJheS1yZWFjdC1lbGVtZW50Li1oaWdobGlnaHRlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAyNTUsIDAuNzUpO1xuICAgIGJvcmRlci1jb2xvcjogY3lhbjtcbiAgfVxuICAueHJheS1yZWFjdC1lbGVtZW50OmhvdmVyOjpiZWZvcmUsXG4gIC54cmF5LXJlYWN0LWVsZW1lbnQuLWhpZ2hsaWdodGVkOjpiZWZvcmUge1xuICAgIGNvbG9yOiBjeWFuO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQ6aG92ZXI6OmFmdGVyLFxuICAueHJheS1yZWFjdC1lbGVtZW50Li1oaWdobGlnaHRlZDo6YWZ0ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGN5YW47XG4gICAgY29sb3I6IGRhcmtibHVlO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQuLWhpZ2hsaWdodGVkIHtcbiAgICB6LWluZGV4OiA5OTk5OSAhaW1wb3J0YW50O1xuICB9XG4gIC54cmF5LXJlYWN0LWFjdGlvbi1iYXIge1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2JsdWU7XG4gICAgYm90dG9tOiAwO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBtYXgtaGVpZ2h0OiAxMDBweDtcbiAgICBtaW4taGVpZ2h0OiA1MHB4O1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgcGFkZGluZzogMCAxMHB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB3aWR0aDogMTAwdnc7XG4gICAgei1pbmRleDogOTk5OTk5O1xuICB9XG4gIC54cmF5LXJlYWN0LWFjdGlvbi1iYXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICB3aWR0aDogOHB4O1xuICB9XG4gIC54cmF5LXJlYWN0LWFjdGlvbi1iYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgIGJhY2tncm91bmQ6IGN5YW47XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB9XG4gIC54cmF5LXJlYWN0LWFjdGlvbi1iYXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjMDBmZmZmO1xuICB9XG4gIC54cmF5LXJlYWN0LWFjdGlvbnMtd3JhcHBlciB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZvbnQtZmFtaWx5OiBcIlNlZ29lIFVJXCIsIFJvYm90bywgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgbWluLWhlaWdodDogNTBweDtcbiAgICBwYWRkaW5nOiA1cHggMDtcbiAgICBwb3NpdGlvbjogc3RpY2t5O1xuICAgIHRvcDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuICAuc2VhcmNoLXdyYXBwZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICAgIG1pbi13aWR0aDogMjAwcHg7XG4gICAgd2lkdGg6IDI1JTtcbiAgfVxuICAjc2VhcmNoLWNvbXBvbmVudCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBib3JkZXI6IDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGhlaWdodDogMzBweDtcbiAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICBvdXRsaW5lOiAwO1xuICAgIHBhZGRpbmc6IDVweCAzMHB4IDVweCAxMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIH1cbiAgLnNlYXJjaC1jbGVhciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiA0cHg7XG4gICAgdG9wOiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICAgIGJhY2tncm91bmQ6IG5vbmU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBwYWRkaW5nOiA0cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGNvbG9yOiAjNjY2O1xuICAgIG9wYWNpdHk6IDAuNjtcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7XG4gIH1cbiAgLnNlYXJjaC1jbGVhcjpob3ZlciB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuICAuY29tcG9uZW50cy1wYXRoIHtcbiAgICBjb2xvcjogY3lhbjtcbiAgICBmbGV4OiAxO1xuICAgIGZvbnQtc2l6ZTogMTFweDtcbiAgICBsaW5lLWhlaWdodDogMS40O1xuICAgIG1pbi13aWR0aDogMDtcbiAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgIG92ZXJmbG93LXk6IHZpc2libGU7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB3b3JkLWJyZWFrOiBrZWVwLWFsbDtcbiAgfVxuICAuY29tcG9uZW50cy1wYXRoOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgaGVpZ2h0OiA0cHg7XG4gIH1cbiAgLmNvbXBvbmVudHMtcGF0aDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgfVxuICAuY29tcG9uZW50cy1wYXRoOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgYmFja2dyb3VuZDogY3lhbjtcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XG4gIH1cbiAgLmNvbXBvbmVudHMtcGF0aDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6ICMwMGZmZmY7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudC10ZW1wIHtcbiAgICBkaXNwbGF5OiBmbGV4ICFpbXBvcnRhbnQ7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlciAhaW1wb3J0YW50O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudC10ZW1wOjpiZWZvcmUge1xuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgfVxuICAueHJheS1yZWFjdC1lbGVtZW50LXRlbXA6OmFmdGVyIHtcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnhyYXktcmVhY3Qtc3Bpbm5lciB7XG4gICAgd2lkdGg6IDUwcHg7XG4gICAgaGVpZ2h0OiA1MHB4O1xuICAgIGJvcmRlcjogNHB4IHNvbGlkIHJnYmEoMCwgMjU1LCAyNTUsIDAuMyk7XG4gICAgYm9yZGVyLXRvcC1jb2xvcjogY3lhbjtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYW5pbWF0aW9uOiB4cmF5LXJlYWN0LXNwaW4gMXMgbGluZWFyIGluZmluaXRlO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAxO1xuICB9XG4gIEBrZXlmcmFtZXMgeHJheS1yZWFjdC1zcGluIHtcbiAgICB0byB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAgfVxuICAueHJheS1yZWFjdC1lbGVtZW50cy13cmFwcGVyLi1zaW1wbGUtbW9kZSAueHJheS1yZWFjdC1lbGVtZW50IHtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnRzLXdyYXBwZXIuLXNpbXBsZS1tb2RlIC54cmF5LXJlYWN0LWVsZW1lbnQ6aG92ZXIge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudHMtd3JhcHBlci4tc2ltcGxlLW1vZGUgLnhyYXktcmVhY3QtZWxlbWVudC4taGlnaGxpZ2h0ZWQge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbmA7XG4iLCJpbXBvcnQgY3NzIGZyb20gJy4vY3NzLmpzJztcblxuZXhwb3J0IGNvbnN0IHN0eWxlVGFnID0gYDxzdHlsZSBjbGFzcz1cInhyYXktcmVhY3Qtc3R5bGUtdGFnXCI+JHtjc3N9PC9zdHlsZT5gO1xuZXhwb3J0IGNvbnN0IGFjdGlvbkJhciA9IGBcbiAgPGRpdiBjbGFzcz1cInhyYXktcmVhY3QtYWN0aW9uLWJhclwiPlxuICAgIDxkaXYgY2xhc3M9XCJ4cmF5LXJlYWN0LWFjdGlvbnMtd3JhcHBlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInNlYXJjaC13cmFwcGVyXCI+XG4gICAgICAgIDxpbnB1dCBpZD1cInNlYXJjaC1jb21wb25lbnRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGNvbXBvbmVudCBieSBuYW1lLi4uXCIvPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNlYXJjaC1jbGVhclwiIGFyaWEtbGFiZWw9XCJDbGVhciBzZWFyY2hcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XG4gICAgICAgICAgPHN2ZyB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB2aWV3Qm94PVwiMCAwIDE0IDE0XCIgZmlsbD1cIm5vbmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XG4gICAgICAgICAgICA8cGF0aCBkPVwiTTEzIDFMMSAxM00xIDFMMTMgMTNcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb21wb25lbnRzLXBhdGhcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5gO1xuIiwiaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCB7IGFjdGlvbkJhciB9IGZyb20gJy4vcGFydGlhbHMuanMnO1xuaW1wb3J0IGNzcyBmcm9tICcuL2Nzcy5qcyc7XG5pbXBvcnQgeyBVSV9NT0RFX0ZVTEwsIFVJX01PREVfU0lNUExFLCBBVkFJTEFCTEVfVUlfTU9ERVMgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbmNvbnN0IE1BWF9GSUJFUl9ERVBUSCA9IDUwOyAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3BzXG5cbmxldCBwcm9qZWN0Um9vdCA9IG51bGw7XG5sZXQgdXNhZ2VNYXAgPSB7fTtcbmxldCBpbXBvcnRNYXAgPSB7fTtcbmxldCBwcm9qZWN0RmlsZVBhdGhzID0gbmV3IFNldCgpO1xubGV0IG5vcm1hbGl6ZWRQcm9qZWN0RmlsZVBhdGhzID0gbmV3IFNldCgpOyAvLyBQcmUtbm9ybWFsaXplZCBwYXRocyBmb3IgTygxKSBsb29rdXBcbmxldCBjb21wb25lbnROYW1lVG9GaWxlc0luZGV4ID0gbmV3IE1hcCgpOyAvLyBjb21wb25lbnROYW1lIC0+IFNldDxmaWxlUGF0aD4gZm9yIE8oMSkgbG9va3VwXG5jb25zdCBub3JtYWxpemVQYXRoQ2FjaGUgPSBuZXcgTWFwKCk7IC8vIE1lbW9pemF0aW9uIGNhY2hlIGZvciBub3JtYWxpemVQYXRoXG5sZXQgY3VycmVudE1vZGUgPSBVSV9NT0RFX0ZVTEw7XG5cbmNvbnN0IEVYVEVSTkFMX1BBVFRFUk5TID0gW1xuICAvbm9kZV9tb2R1bGVzL2ksXG4gIC9cXC5uZXh0Wy9cXFxcXS9pLFxuICAvZGlzdFsvXFxcXF0vaSxcbiAgL2J1aWxkWy9cXFxcXS9pLFxuICAvXFwuZ2l0Wy9cXFxcXS9pLFxuICAvXFwuY2FjaGVbL1xcXFxdL2ksXG4gIC9jb3ZlcmFnZVsvXFxcXF0vaSxcbl07XG5cbi8qKlxuICogTm9ybWFsaXplcyBhIGZpbGUgcGF0aCBmb3IgY29tcGFyaXNvblxuICogSGFuZGxlcyBib3RoIFVuaXggYW5kIFdpbmRvd3MgcGF0aHMsIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZVxuICogVXNlcyBtZW1vaXphdGlvbiBjYWNoZSBmb3IgcmVwZWF0ZWQgY2FsbHMgd2l0aCBzYW1lIHBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlUGF0aCAtIEZpbGUgcGF0aCB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IE5vcm1hbGl6ZWQgcGF0aFxuICovXG5jb25zdCBub3JtYWxpemVQYXRoID0gKGZpbGVQYXRoKSA9PiB7XG4gIGlmICghZmlsZVBhdGgpIHJldHVybiAnJztcblxuICBjb25zdCBjYWNoZWQgPSBub3JtYWxpemVQYXRoQ2FjaGUuZ2V0KGZpbGVQYXRoKTtcbiAgaWYgKGNhY2hlZCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gY2FjaGVkO1xuXG4gIGxldCBub3JtYWxpemVkID0gU3RyaW5nKGZpbGVQYXRoKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnJlcGxhY2UoL15cXC8rfFxcLyskL2csICcnKTtcbiAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQudG9Mb3dlckNhc2UoKTtcblxuICBub3JtYWxpemVQYXRoQ2FjaGUuc2V0KGZpbGVQYXRoLCBub3JtYWxpemVkKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGZpbGUgcGF0aCBpcyBleHRlcm5hbCAobm9kZV9tb2R1bGVzLCBidWlsZCBhcnRpZmFjdHMsIGV0Yy4pXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZVBhdGggLSBGaWxlIHBhdGggdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHBhdGggaXMgZXh0ZXJuYWxcbiAqL1xuY29uc3QgaXNFeHRlcm5hbFBhdGggPSAoZmlsZVBhdGgpID0+IHtcbiAgaWYgKCFmaWxlUGF0aCkgcmV0dXJuIGZhbHNlO1xuXG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYXRoKGZpbGVQYXRoKTtcblxuICByZXR1cm4gRVhURVJOQUxfUEFUVEVSTlMuc29tZSgocGF0dGVybikgPT4gcGF0dGVybi50ZXN0KG5vcm1hbGl6ZWQpKTtcbn07XG5cbi8qKlxuICogRGV0ZWN0cyBwcm9qZWN0IHJvb3QgZnJvbSBhIGZpbGUgcGF0aCBieSBmaW5kaW5nIGNvbW1vbiBiYXNlIHBhdGhcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZmlsZVBhdGhzIC0gQXJyYXkgb2YgZmlsZSBwYXRocyBmcm9tIGZpYmVyc1xuICogQHJldHVybnMge3N0cmluZ3xudWxsfSBEZXRlY3RlZCBwcm9qZWN0IHJvb3Qgb3IgbnVsbFxuICovXG5jb25zdCBkZXRlY3RQcm9qZWN0Um9vdEZyb21QYXRocyA9IChmaWxlUGF0aHMpID0+IHtcbiAgaWYgKCFmaWxlUGF0aHMgfHwgZmlsZVBhdGhzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgcHJvamVjdFBhdGhzID0gZmlsZVBhdGhzLmZpbHRlcigocGF0aCkgPT4gcGF0aCAmJiAhaXNFeHRlcm5hbFBhdGgocGF0aCkpLm1hcChub3JtYWxpemVQYXRoKTtcblxuICBpZiAocHJvamVjdFBhdGhzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgcGF0aFBhcnRzID0gcHJvamVjdFBhdGhzLm1hcCgocGF0aCkgPT4gcGF0aC5zcGxpdCgnLycpKTtcbiAgY29uc3QgbWluTGVuZ3RoID0gTWF0aC5taW4oLi4ucGF0aFBhcnRzLm1hcCgocGFydHMpID0+IHBhcnRzLmxlbmd0aCkpO1xuXG4gIGxldCBjb21tb25QYXJ0cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1pbkxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcGFydCA9IHBhdGhQYXJ0c1swXVtpXTtcbiAgICBpZiAocGF0aFBhcnRzLmV2ZXJ5KChwYXJ0cykgPT4gcGFydHNbaV0gPT09IHBhcnQpKSB7XG4gICAgICBjb21tb25QYXJ0cy5wdXNoKHBhcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoY29tbW9uUGFydHMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiAnLycgKyBjb21tb25QYXJ0cy5qb2luKCcvJyk7XG4gIH1cblxuICBjb25zdCBmaXJzdFBhdGggPSBwcm9qZWN0UGF0aHNbMF07XG4gIGNvbnN0IGxhc3RTbGFzaCA9IGZpcnN0UGF0aC5sYXN0SW5kZXhPZignLycpO1xuICBpZiAobGFzdFNsYXNoID4gMCkge1xuICAgIHJldHVybiAnLycgKyBmaXJzdFBhdGguc3Vic3RyaW5nKDAsIGxhc3RTbGFzaCk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBjb25zZWN1dGl2ZSBkdXBsaWNhdGUgY29tcG9uZW50IG5hbWVzIGZyb20gYW4gYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gcGF0aCAtIEFycmF5IG9mIGNvbXBvbmVudCBuYW1lc1xuICogQHJldHVybnMge0FycmF5PHN0cmluZz59IEFycmF5IHdpdGggY29uc2VjdXRpdmUgZHVwbGljYXRlcyByZW1vdmVkXG4gKi9cbmNvbnN0IHJlbW92ZUNvbnNlY3V0aXZlRHVwbGljYXRlcyA9IChwYXRoKSA9PiB7XG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHBhdGg7XG5cbiAgY29uc3QgcmVzdWx0ID0gW3BhdGhbMF1dO1xuICBmb3IgKGxldCBpID0gMTsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocGF0aFtpXS50b0xvd2VyQ2FzZSgpICE9PSBwYXRoW2kgLSAxXS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICByZXN1bHQucHVzaChwYXRoW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgY2xlYXIgYnV0dG9uIHZpc2liaWxpdHkgYmFzZWQgb24gaW5wdXQgdmFsdWVcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaW5wdXQgLSBTZWFyY2ggaW5wdXQgZWxlbWVudFxuICovXG5jb25zdCB1cGRhdGVDbGVhckJ1dHRvbiA9IChpbnB1dCkgPT4ge1xuICBjb25zdCBjbGVhckJ1dHRvbiA9IGlucHV0Py5wYXJlbnRFbGVtZW50Py5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWNsZWFyJyk7XG4gIGlmIChjbGVhckJ1dHRvbikge1xuICAgIGNsZWFyQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBpbnB1dC52YWx1ZS5sZW5ndGggPiAwID8gJ2ZsZXgnIDogJ25vbmUnO1xuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgc2VhcmNoIGlucHV0IGNoYW5nZXMgdG8gaGlnaGxpZ2h0IG1hdGNoaW5nIGNvbXBvbmVudHNcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gSW5wdXQgZXZlbnRcbiAqL1xuY29uc3QgaGFuZGxlU2VhcmNoQ2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gIGNvbnN0IGlucHV0ID0gZXZlbnQudGFyZ2V0O1xuICBjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoYF4ke3ZhbHVlfXwke3ZhbHVlfSRgKTtcbiAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjb25zdGFudHMueHJheVJlYWN0RWxlbUNOfWApO1xuXG4gIHVwZGF0ZUNsZWFyQnV0dG9uKGlucHV0KTtcblxuICBmb3IgKGNvbnN0IGVsZW0gb2YgZWxlbWVudHMpIHtcbiAgICBpZiAodmFsdWUubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbnN0IHNlYXJjaE5hbWUgPSBlbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtc2VhcmNoLW5hbWUnKTtcbiAgICAgIGlmIChzZWFyY2hOYW1lICYmIHNlYXJjaE5hbWUubWF0Y2gocmVnRXhwKSkge1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJy1oaWdobGlnaHRlZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCctaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCctaGlnaGxpZ2h0ZWQnKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogSGFuZGxlcyBjbGVhciBidXR0b24gY2xpY2sgdG8gcmVzZXQgc2VhcmNoXG4gKi9cbmNvbnN0IGhhbmRsZVNlYXJjaENsZWFyID0gKCkgPT4ge1xuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtY29tcG9uZW50Jyk7XG4gIGlmIChpbnB1dCkge1xuICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgaW5wdXQuZm9jdXMoKTtcbiAgICB1cGRhdGVDbGVhckJ1dHRvbihpbnB1dCk7XG4gICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjb25zdGFudHMueHJheVJlYWN0RWxlbUNOfWApO1xuICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnLWhpZ2hsaWdodGVkJykpO1xuICB9XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnQgbW9kZSBmcm9tIHdpbmRvdyBvciBkZWZhdWx0cyB0byBVSV9NT0RFX0ZVTExcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEN1cnJlbnQgbW9kZSAoVUlfTU9ERV9GVUxMIG9yIFVJX01PREVfU0lNUExFKVxuICovXG5jb25zdCBnZXRDdXJyZW50TW9kZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX1hSQVlfUkVBQ1RfTU9ERV9fKSB7XG4gICAgY29uc3QgbW9kZSA9IHdpbmRvdy5fX1hSQVlfUkVBQ1RfTU9ERV9fO1xuICAgIHJldHVybiBBVkFJTEFCTEVfVUlfTU9ERVMuaW5jbHVkZXMobW9kZSkgPyBtb2RlIDogVUlfTU9ERV9GVUxMO1xuICB9XG4gIHJldHVybiBVSV9NT0RFX0ZVTEw7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGN1cnJlbnQgbW9kZVxuICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBNb2RlIHRvIHNldCAoVUlfTU9ERV9GVUxMIG9yIFVJX01PREVfU0lNUExFKVxuICovXG5leHBvcnQgY29uc3Qgc2V0TW9kZSA9IChtb2RlKSA9PiB7XG4gIGN1cnJlbnRNb2RlID0gQVZBSUxBQkxFX1VJX01PREVTLmluY2x1ZGVzKG1vZGUpID8gbW9kZSA6IFVJX01PREVfRlVMTDtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93Ll9fWFJBWV9SRUFDVF9NT0RFX18gPSBjdXJyZW50TW9kZTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBjdXJyZW50IG1vZGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEN1cnJlbnQgbW9kZVxuICovXG5leHBvcnQgY29uc3QgZ2V0TW9kZSA9ICgpID0+IHtcbiAgcmV0dXJuIGN1cnJlbnRNb2RlO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG92ZXJsYXkgZWxlbWVudCBmb3IgYSBSZWFjdCBjb21wb25lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBUaGUgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIC0gTmFtZSBvZiB0aGUgUmVhY3QgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3QgY29udGFpbmluZyBvcmlnaW5hbCBlbGVtZW50IGFuZCBvdmVybGF5IGVsZW1lbnRcbiAqL1xuY29uc3QgY3JlYXRlRWxlbUZvckNvbXBvbmVudCA9IChlbGVtLCBjb21wb25lbnROYW1lKSA9PiB7XG4gIGNvbnN0IHhyYXlSZWFjdEVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29uc3QgYm91bmRpbmdDbGllbnRSZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICB4cmF5UmVhY3RFbGVtLmNsYXNzTmFtZSA9IGNvbnN0YW50cy54cmF5UmVhY3RFbGVtQ047XG4gIHhyYXlSZWFjdEVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLXhyYXktcmVhY3QtZWxlbWVudC1uYW1lJywgY29tcG9uZW50TmFtZSk7XG4gIHhyYXlSZWFjdEVsZW0uc2V0QXR0cmlidXRlKCdkYXRhLXhyYXktcmVhY3QtZWxlbWVudC1zZWFyY2gtbmFtZScsIGNvbXBvbmVudE5hbWUudG9Mb3dlckNhc2UoKSk7XG4gIHhyYXlSZWFjdEVsZW0uc3R5bGUuaGVpZ2h0ID0gYCR7Ym91bmRpbmdDbGllbnRSZWN0LmhlaWdodH1weGA7XG4gIHhyYXlSZWFjdEVsZW0uc3R5bGUud2lkdGggPSBgJHtib3VuZGluZ0NsaWVudFJlY3Qud2lkdGh9cHhgO1xuICB4cmF5UmVhY3RFbGVtLnN0eWxlLnRvcCA9IGAke2JvdW5kaW5nQ2xpZW50UmVjdC50b3AgKyB3aW5kb3cuc2Nyb2xsWX1weGA7XG4gIHhyYXlSZWFjdEVsZW0uc3R5bGUubGVmdCA9IGAke2JvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0ICsgd2luZG93LnNjcm9sbFh9cHhgO1xuICB4cmF5UmVhY3RFbGVtLnN0eWxlLnpJbmRleCA9IGNvbnN0YW50cy56SW5kZXg7XG5cbiAgcmV0dXJuIHsgZWxlbSwgeHJheVJlYWN0RWxlbSB9O1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBuYW1lIGlzIGFuIEhUTUwgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBDb21wb25lbnQgb3IgZWxlbWVudCBuYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBpdCdzIGFuIEhUTUwgZWxlbWVudFxuICovXG5jb25zdCBpc0hUTUxFbGVtZW50ID0gKG5hbWUpID0+IHtcbiAgaWYgKCFuYW1lIHx8IHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gY29uc3RhbnRzLkhUTUxfRUxFTUVOVFMuaGFzKG5hbWUudG9Mb3dlckNhc2UoKSk7XG59O1xuXG4vKipcbiAqIFJlc29sdmVzIGNvbXBvbmVudCBuYW1lIGZyb20gZWxlbWVudCB0eXBlIGFuZCBmaWJlclxuICogSGFuZGxlcyBmdW5jdGlvbiBjb21wb25lbnRzLCBjbGFzcyBjb21wb25lbnRzLCBmb3J3YXJkUmVmLCBtZW1vLCBldGMuXG4gKiBAcGFyYW0geyp9IGVsZW1lbnRUeXBlIC0gUmVhY3QgZWxlbWVudCB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gZmliZXIgLSBSZWFjdCBmaWJlciBub2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IENvbXBvbmVudCBuYW1lIG9yIG51bGxcbiAqL1xuY29uc3QgcmVzb2x2ZUNvbXBvbmVudE5hbWUgPSAoZWxlbWVudFR5cGUsIGZpYmVyID0gbnVsbCkgPT4ge1xuICBpZiAoIWVsZW1lbnRUeXBlKSByZXR1cm4gbnVsbDtcblxuICBpZiAodHlwZW9mIGVsZW1lbnRUeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGVsZW1lbnRUeXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICByZXR1cm4gZWxlbWVudFR5cGUuZGlzcGxheU5hbWU7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRUeXBlLm5hbWUgJiYgZWxlbWVudFR5cGUubmFtZSAhPT0gJ0Fub255bW91cycpIHtcbiAgICAgIHJldHVybiBlbGVtZW50VHlwZS5uYW1lO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50VHlwZS5yZW5kZXIpIHtcbiAgICAgIHJldHVybiByZXNvbHZlQ29tcG9uZW50TmFtZShlbGVtZW50VHlwZS5yZW5kZXIsIGZpYmVyKTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudFR5cGUuJCR0eXBlb2YgJiYgZWxlbWVudFR5cGUudHlwZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVDb21wb25lbnROYW1lKGVsZW1lbnRUeXBlLnR5cGUsIGZpYmVyKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIGVsZW1lbnRUeXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBlbGVtZW50VHlwZTtcbiAgfVxuXG4gIGlmIChlbGVtZW50VHlwZSAmJiBlbGVtZW50VHlwZS4kJHR5cGVvZikge1xuICAgIGlmIChlbGVtZW50VHlwZS50eXBlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUNvbXBvbmVudE5hbWUoZWxlbWVudFR5cGUudHlwZSwgZmliZXIpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChmaWJlciAmJiBmaWJlci5fZGVidWdTb3VyY2UpIHtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGZpYmVyLl9kZWJ1Z1NvdXJjZS5maWxlTmFtZTtcbiAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZmlsZU5hbWUubWF0Y2goLyhbXi9cXFxcXSspXFwuKGpzeD98dHN4PykkLyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoWzFdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjb21wb25lbnQgYmVsb25ncyB0byB0aGUgcHJvamVjdCBiYXNlZCBvbiBpdHMgc291cmNlIGZpbGUgcGF0aFxuICogQHBhcmFtIHtPYmplY3R9IGZpYmVyIC0gUmVhY3QgZmliZXIgbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb2plY3RSb290UGF0aCAtIFByb2plY3Qgcm9vdCBwYXRoIGZvciBjb21wYXJpc29uXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSAtIE9wdGlvbmFsIGNvbXBvbmVudCBuYW1lIHRvIGNoZWNrIGFnYWluc3QgcHJvamVjdCBmaWxlc1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY29tcG9uZW50IGJlbG9uZ3MgdG8gcHJvamVjdFxuICovXG5jb25zdCBpc1Byb2plY3RDb21wb25lbnQgPSAoZmliZXIsIHByb2plY3RSb290UGF0aCwgY29tcG9uZW50TmFtZSA9IG51bGwpID0+IHtcbiAgaWYgKCFwcm9qZWN0Um9vdFBhdGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IGZpbGVQYXRoID0gZmliZXI/Ll9kZWJ1Z1NvdXJjZT8uZmlsZU5hbWU7XG5cbiAgaWYgKGZpbGVQYXRoKSB7XG4gICAgaWYgKGlzRXh0ZXJuYWxQYXRoKGZpbGVQYXRoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IG5vcm1hbGl6ZWRGaWxlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoZmlsZVBhdGgpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQcm9qZWN0Um9vdCA9IG5vcm1hbGl6ZVBhdGgocHJvamVjdFJvb3RQYXRoKTtcblxuICAgIGlmIChub3JtYWxpemVkRmlsZVBhdGguc3RhcnRzV2l0aChub3JtYWxpemVkUHJvamVjdFJvb3QpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhbm9ybWFsaXplZEZpbGVQYXRoLmluY2x1ZGVzKCdub2RlX21vZHVsZXMnKSAmJlxuICAgICAgIW5vcm1hbGl6ZWRGaWxlUGF0aC5zdGFydHNXaXRoKCcvJykgJiZcbiAgICAgICFub3JtYWxpemVkRmlsZVBhdGgubWF0Y2goL15bYS16XTovaSlcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChjb21wb25lbnROYW1lKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZENvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gTygxKSBsb29rdXAgdXNpbmcgcHJlLWJ1aWx0IGluZGV4IGluc3RlYWQgb2YgTyhtKSBsb29wIHRocm91Z2ggYWxsIGZpbGVzXG4gICAgaWYgKGNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguaGFzKG5vcm1hbGl6ZWRDb21wb25lbnROYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBwcm9qZWN0IHJvb3QgcGF0aCBmb3IgZmlsdGVyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gcm9vdFBhdGggLSBQcm9qZWN0IHJvb3QgcGF0aFxuICovXG5leHBvcnQgY29uc3Qgc2V0UHJvamVjdFJvb3QgPSAocm9vdFBhdGgpID0+IHtcbiAgcHJvamVjdFJvb3QgPSByb290UGF0aCA/IG5vcm1hbGl6ZVBhdGgocm9vdFBhdGgpIDogbnVsbDtcblxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX1JPT1RfXyAmJiAhcHJvamVjdFJvb3QpIHtcbiAgICBwcm9qZWN0Um9vdCA9IG5vcm1hbGl6ZVBhdGgod2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX1JPT1RfXyk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBwcm9qZWN0IHJvb3QgcGF0aFxuICogQHJldHVybnMge3N0cmluZ3xudWxsfSBQcm9qZWN0IHJvb3QgcGF0aCBvciBudWxsXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0Um9vdCA9ICgpID0+IHtcbiAgcmV0dXJuIHByb2plY3RSb290O1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB1c2FnZSBtYXAgZm9yIGZpbHRlcmluZyBleHRlcm5hbCBjb21wb25lbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gVXNhZ2UgbWFwIChmaWxlIHBhdGggLT4gQXJyYXkgb2YgY29tcG9uZW50IG5hbWVzKVxuICovXG5leHBvcnQgY29uc3Qgc2V0VXNhZ2VNYXAgPSAobWFwKSA9PiB7XG4gIHVzYWdlTWFwID0gbWFwIHx8IHt9O1xuXG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHdpbmRvdy5fX1hSQVlfUkVBQ1RfVVNBR0VfTUFQX18gJiZcbiAgICBPYmplY3Qua2V5cyh1c2FnZU1hcCkubGVuZ3RoID09PSAwXG4gICkge1xuICAgIHVzYWdlTWFwID0gd2luZG93Ll9fWFJBWV9SRUFDVF9VU0FHRV9NQVBfXztcbiAgfVxuXG4gIGlmIChwcm9qZWN0RmlsZVBhdGhzLnNpemUgPT09IDApIHtcbiAgICBwcm9qZWN0RmlsZVBhdGhzID0gbmV3IFNldChPYmplY3Qua2V5cyh1c2FnZU1hcCB8fCB7fSkpO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdC5rZXlzKHVzYWdlTWFwIHx8IHt9KS5mb3JFYWNoKChmaWxlUGF0aCkgPT4gcHJvamVjdEZpbGVQYXRocy5hZGQoZmlsZVBhdGgpKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBpbXBvcnQgbWFwIGZvciBmaWx0ZXJpbmcgZXh0ZXJuYWwgY29tcG9uZW50cyAoZmFsbGJhY2spXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gSW1wb3J0IG1hcCAoZmlsZSBwYXRoIC0+IEFycmF5IG9mIGNvbXBvbmVudCBuYW1lcylcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEltcG9ydE1hcCA9IChtYXApID0+IHtcbiAgaW1wb3J0TWFwID0gbWFwIHx8IHt9O1xuXG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHdpbmRvdy5fX1hSQVlfUkVBQ1RfSU1QT1JUX01BUF9fICYmXG4gICAgT2JqZWN0LmtleXMoaW1wb3J0TWFwKS5sZW5ndGggPT09IDBcbiAgKSB7XG4gICAgaW1wb3J0TWFwID0gd2luZG93Ll9fWFJBWV9SRUFDVF9JTVBPUlRfTUFQX187XG4gIH1cblxuICBPYmplY3Qua2V5cyhpbXBvcnRNYXAgfHwge30pLmZvckVhY2goKGZpbGVQYXRoKSA9PiBwcm9qZWN0RmlsZVBhdGhzLmFkZChmaWxlUGF0aCkpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IG9mIGFsbCBwcm9qZWN0IGZpbGVzIGZvdW5kIGluIHNvdXJjZVBhdGggZm9sZGVyc1xuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBmaWxlcyAtIEFycmF5IG9mIGFsbCBmaWxlIHBhdGhzIGZvdW5kIGluIHNvdXJjZVBhdGhcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFByb2plY3RGaWxlcyA9IChmaWxlcykgPT4ge1xuICBsZXQgZmlsZUxpc3QgPSBmaWxlcyB8fCBbXTtcblxuICBpZiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB3aW5kb3cuX19YUkFZX1JFQUNUX1BST0pFQ1RfRklMRVNfXyAmJlxuICAgIGZpbGVMaXN0Lmxlbmd0aCA9PT0gMFxuICApIHtcbiAgICBjb25zdCBnbG9iYWxGaWxlcyA9IHdpbmRvdy5fX1hSQVlfUkVBQ1RfUFJPSkVDVF9GSUxFU19fO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGdsb2JhbEZpbGVzKSkge1xuICAgICAgZmlsZUxpc3QgPSBbLi4uZ2xvYmFsRmlsZXNdO1xuICAgIH1cbiAgfVxuXG4gIHByb2plY3RGaWxlUGF0aHMgPSBuZXcgU2V0KGZpbGVMaXN0KTtcblxuICAvLyBQcmUtY29tcHV0ZSBub3JtYWxpemVkIHBhdGhzIGFuZCBjb21wb25lbnQgbmFtZSBpbmRleCBmb3IgTygxKSBsb29rdXBzXG4gIG5vcm1hbGl6ZWRQcm9qZWN0RmlsZVBhdGhzLmNsZWFyKCk7XG4gIGNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguY2xlYXIoKTtcblxuICBmb3IgKGNvbnN0IGZpbGVQYXRoIG9mIGZpbGVMaXN0KSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhdGgoZmlsZVBhdGgpO1xuICAgIG5vcm1hbGl6ZWRQcm9qZWN0RmlsZVBhdGhzLmFkZChub3JtYWxpemVkKTtcblxuICAgIGNvbnN0IHBhdGhQYXJ0cyA9IG5vcm1hbGl6ZWQuc3BsaXQoJy8nKTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IHBhdGhQYXJ0c1twYXRoUGFydHMubGVuZ3RoIC0gMV0gfHwgJyc7XG4gICAgY29uc3QgZmlsZW5hbWVXaXRob3V0RXh0ID0gZmlsZW5hbWUucmVwbGFjZSgvXFwuKHRzeD98anN4PykkLywgJycpO1xuXG4gICAgaWYgKGZpbGVuYW1lV2l0aG91dEV4dCkge1xuICAgICAgaWYgKCFjb21wb25lbnROYW1lVG9GaWxlc0luZGV4LmhhcyhmaWxlbmFtZVdpdGhvdXRFeHQpKSB7XG4gICAgICAgIGNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguc2V0KGZpbGVuYW1lV2l0aG91dEV4dCwgbmV3IFNldCgpKTtcbiAgICAgIH1cbiAgICAgIGNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguZ2V0KGZpbGVuYW1lV2l0aG91dEV4dCkuYWRkKGZpbGVQYXRoKTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGF0aFBhcnRzLnNsaWNlKDAsIC0xKSkge1xuICAgICAgaWYgKHBhcnQgJiYgcGFydC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICghY29tcG9uZW50TmFtZVRvRmlsZXNJbmRleC5oYXMocGFydCkpIHtcbiAgICAgICAgICBjb21wb25lbnROYW1lVG9GaWxlc0luZGV4LnNldChwYXJ0LCBuZXcgU2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguZ2V0KHBhcnQpLmFkZChmaWxlUGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGRldGVjdCBwcm9qZWN0IHJvb3QgZnJvbSBmaWJlciB0cmVlIHdoZW4gc2VydmVyIGlzIG5vdCBhdmFpbGFibGVcbiAqIFNjYW5zIERPTSBmb3IgUmVhY3QgZmliZXJzIGFuZCBleHRyYWN0cyBmaWxlIHBhdGhzIHRvIGluZmVyIHByb2plY3Qgcm9vdFxuICovXG5jb25zdCBkZXRlY3RQcm9qZWN0Um9vdEZyb21ET00gPSAoKSA9PiB7XG4gIGlmIChwcm9qZWN0Um9vdCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgZmlsZVBhdGhzID0gW107XG4gICAgY29uc3QgbWF4U2FtcGxlcyA9IDUwOyAvLyBMaW1pdCBzYW1wbGVzIGZvciBwZXJmb3JtYW5jZVxuICAgIGxldCBzYW1wbGVzID0gMDtcblxuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZG9jdW1lbnQuYm9keSwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIG51bGwsIGZhbHNlKTtcblxuICAgIGxldCBub2RlO1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSAmJiBzYW1wbGVzIDwgbWF4U2FtcGxlcykge1xuICAgICAgY29uc3QgZmliZXJLZXkgPSBPYmplY3Qua2V5cyhub2RlKS5maW5kKFxuICAgICAgICAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEZpYmVyJCcpIHx8IGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChmaWJlcktleSkge1xuICAgICAgICBjb25zdCBmaWJlciA9IG5vZGVbZmliZXJLZXldO1xuICAgICAgICBsZXQgY3VycmVudEZpYmVyID0gZmliZXI7XG4gICAgICAgIGxldCBkZXB0aCA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGN1cnJlbnRGaWJlciAmJiBkZXB0aCA8IDEwKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRGaWJlci5fZGVidWdTb3VyY2UgJiYgY3VycmVudEZpYmVyLl9kZWJ1Z1NvdXJjZS5maWxlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgZmlsZVBhdGggPSBjdXJyZW50RmliZXIuX2RlYnVnU291cmNlLmZpbGVOYW1lO1xuICAgICAgICAgICAgaWYgKCFpc0V4dGVybmFsUGF0aChmaWxlUGF0aCkpIHtcbiAgICAgICAgICAgICAgZmlsZVBhdGhzLnB1c2goZmlsZVBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50RmliZXIgPSBjdXJyZW50RmliZXIucmV0dXJuO1xuICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgc2FtcGxlcysrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZpbGVQYXRocy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBkZXRlY3RlZFJvb3QgPSBkZXRlY3RQcm9qZWN0Um9vdEZyb21QYXRocyhmaWxlUGF0aHMpO1xuICAgICAgaWYgKGRldGVjdGVkUm9vdCkge1xuICAgICAgICBwcm9qZWN0Um9vdCA9IGRldGVjdGVkUm9vdDtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIC8vIFNpbGVudGx5IGZhaWwgLSBwcm9qZWN0IHJvb3QgZGV0ZWN0aW9uIGlzIG9wdGlvbmFsXG4gIH1cbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGFuIGV4dGVybmFsIGNvbXBvbmVudCBpcyB1c2VkIGJ5IGFueSBpbnRlcm5hbCBjb21wb25lbnQgaW4gdGhlIHNlZW4gbGlzdFxuICogQ2hlY2tzIHVzYWdlIG1hcCBmaXJzdCAocHJpbWFyeSksIHRoZW4gaW1wb3J0IG1hcCAoZmFsbGJhY2spXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSAtIEV4dGVybmFsIGNvbXBvbmVudCBuYW1lIHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5fSBzZWVuSW50ZXJuYWxDb21wb25lbnRzIC0gQXJyYXkgb2YgaW50ZXJuYWwgY29tcG9uZW50cyBzZWVuIHNvIGZhciBpbiBwYXRoXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBjb21wb25lbnQgaXMgdXNlZCBieSBhbnkgc2VlbiBpbnRlcm5hbCBjb21wb25lbnRcbiAqL1xuY29uc3QgaXNVc2VkQnlJbnRlcm5hbENvbXBvbmVudHMgPSAoY29tcG9uZW50TmFtZSwgc2VlbkludGVybmFsQ29tcG9uZW50cykgPT4ge1xuICBpZiAoIWNvbXBvbmVudE5hbWUgfHwgc2VlbkludGVybmFsQ29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoT2JqZWN0LmtleXModXNhZ2VNYXApLmxlbmd0aCA9PT0gMCAmJiBPYmplY3Qua2V5cyhpbXBvcnRNYXApLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZm9yIChjb25zdCBpbnRlcm5hbENvbXAgb2Ygc2VlbkludGVybmFsQ29tcG9uZW50cykge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gaW50ZXJuYWxDb21wLmZpbGU7XG4gICAgaWYgKCFmaWxlUGF0aCkgY29udGludWU7XG5cbiAgICBpZiAodXNhZ2VNYXBbZmlsZVBhdGhdICYmIEFycmF5LmlzQXJyYXkodXNhZ2VNYXBbZmlsZVBhdGhdKSkge1xuICAgICAgaWYgKHVzYWdlTWFwW2ZpbGVQYXRoXS5pbmNsdWRlcyhjb21wb25lbnROYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW1wb3J0TWFwW2ZpbGVQYXRoXSAmJiBBcnJheS5pc0FycmF5KGltcG9ydE1hcFtmaWxlUGF0aF0pKSB7XG4gICAgICBpZiAoaW1wb3J0TWFwW2ZpbGVQYXRoXS5pbmNsdWRlcyhjb21wb25lbnROYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFRyYXZlcnNlcyB0aGUgZmliZXIgdHJlZSB0byBmaW5kIFJlYWN0IGNvbXBvbmVudHMsIHNraXBwaW5nIEhUTUwgZWxlbWVudHNcbiAqIEZpbHRlcnMgb3V0IGV4dGVybmFsIGxpYnJhcnkgY29tcG9uZW50cyBiYXNlZCBvbiB1c2FnZS9pbXBvcnQgbWFwc1xuICogQHBhcmFtIHtPYmplY3R9IGZpYmVyIC0gU3RhcnRpbmcgZmliZXIgbm9kZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlcHRoIC0gTWF4aW11bSBkZXB0aCB0byB0cmF2ZXJzZVxuICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBjb21wb25lbnQgaW5mb3JtYXRpb24gb2JqZWN0c1xuICovXG5jb25zdCB0cmF2ZXJzZUZpYmVyVHJlZSA9IChmaWJlciwgbWF4RGVwdGggPSBNQVhfRklCRVJfREVQVEgpID0+IHtcbiAgY29uc3QgYWxsQ29tcG9uZW50cyA9IFtdO1xuICBjb25zdCBpbnRlcm5hbENvbXBvbmVudHMgPSBbXTtcbiAgbGV0IGN1cnJlbnRGaWJlciA9IGZpYmVyO1xuICBsZXQgZGVwdGggPSAwO1xuICAvLyBQZXJmb3JtYW5jZSBpbXByb3ZlbWVudHNcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoKTtcblxuICB3aGlsZSAoY3VycmVudEZpYmVyICYmIGRlcHRoIDwgbWF4RGVwdGgpIHtcbiAgICBpZiAodmlzaXRlZC5oYXMoY3VycmVudEZpYmVyKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZpc2l0ZWQuYWRkKGN1cnJlbnRGaWJlcik7XG5cbiAgICBjb25zdCBlbGVtZW50VHlwZSA9IGN1cnJlbnRGaWJlci5lbGVtZW50VHlwZSB8fCBjdXJyZW50RmliZXIudHlwZTtcblxuICAgIGlmIChlbGVtZW50VHlwZSkge1xuICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IHJlc29sdmVDb21wb25lbnROYW1lKGVsZW1lbnRUeXBlLCBjdXJyZW50RmliZXIpO1xuXG4gICAgICBpZiAoY29tcG9uZW50TmFtZSkge1xuICAgICAgICBpZiAoIWlzSFRNTEVsZW1lbnQoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICBjb25zdCBpc0ludGVybmFsID0gaXNQcm9qZWN0Q29tcG9uZW50KGN1cnJlbnRGaWJlciwgcHJvamVjdFJvb3QsIGNvbXBvbmVudE5hbWUpO1xuXG4gICAgICAgICAgbGV0IGZpbGVQYXRoID0gbnVsbDtcbiAgICAgICAgICBpZiAoY3VycmVudEZpYmVyLl9kZWJ1Z1NvdXJjZSAmJiBjdXJyZW50RmliZXIuX2RlYnVnU291cmNlLmZpbGVOYW1lKSB7XG4gICAgICAgICAgICBmaWxlUGF0aCA9IGN1cnJlbnRGaWJlci5fZGVidWdTb3VyY2UuZmlsZU5hbWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWxsQ29tcG9uZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICBmaWJlcjogY3VycmVudEZpYmVyLFxuICAgICAgICAgICAgZWxlbWVudFR5cGU6IGVsZW1lbnRUeXBlLFxuICAgICAgICAgICAgZGVwdGg6IGRlcHRoLFxuICAgICAgICAgICAgaXNJbnRlcm5hbDogaXNJbnRlcm5hbCxcbiAgICAgICAgICAgIGZpbGU6IGZpbGVQYXRoLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGlzSW50ZXJuYWwpIHtcbiAgICAgICAgICAgIGludGVybmFsQ29tcG9uZW50cy5wdXNoKHsgbmFtZTogY29tcG9uZW50TmFtZSwgZmlsZTogZmlsZVBhdGggfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY3VycmVudEZpYmVyID0gY3VycmVudEZpYmVyLnJldHVybiB8fCBjdXJyZW50RmliZXIuX293bmVyO1xuICAgIGRlcHRoKys7XG4gIH1cblxuICBjb25zdCBmaWx0ZXJlZENvbXBvbmVudHMgPSBbXTtcbiAgZm9yIChjb25zdCBjb21wIG9mIGFsbENvbXBvbmVudHMpIHtcbiAgICBpZiAoY29tcC5pc0ludGVybmFsKSB7XG4gICAgICBmaWx0ZXJlZENvbXBvbmVudHMucHVzaCh7XG4gICAgICAgIG5hbWU6IGNvbXAubmFtZSxcbiAgICAgICAgZmliZXI6IGNvbXAuZmliZXIsXG4gICAgICAgIGVsZW1lbnRUeXBlOiBjb21wLmVsZW1lbnRUeXBlLFxuICAgICAgICBkZXB0aDogY29tcC5kZXB0aCxcbiAgICAgICAgZmlsZTogY29tcC5maWxlLFxuICAgICAgICBpc0ludGVybmFsOiBjb21wLmlzSW50ZXJuYWwsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzVXNlZEJ5SW50ZXJuYWxDb21wb25lbnRzKGNvbXAubmFtZSwgaW50ZXJuYWxDb21wb25lbnRzKSkge1xuICAgICAgICBmaWx0ZXJlZENvbXBvbmVudHMucHVzaCh7XG4gICAgICAgICAgbmFtZTogY29tcC5uYW1lLFxuICAgICAgICAgIGZpYmVyOiBjb21wLmZpYmVyLFxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBjb21wLmVsZW1lbnRUeXBlLFxuICAgICAgICAgIGRlcHRoOiBjb21wLmRlcHRoLFxuICAgICAgICAgIGZpbGU6IGNvbXAuZmlsZSxcbiAgICAgICAgICBpc0ludGVybmFsOiBjb21wLmlzSW50ZXJuYWwsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmaWx0ZXJlZENvbXBvbmVudHM7XG59O1xuXG4vKipcbiAqIEdldHMgUmVhY3QgY29tcG9uZW50IGluZm9ybWF0aW9uIGZyb20gYSBET00gZWxlbWVudCB1c2luZyBSZWFjdCBEZXZUb29scyBwcm90b2NvbFxuICogU3VwcG9ydHMgUmVhY3QgMTgrIGFuZCBmYWxscyBiYWNrIHRvIGxlZ2FjeSBkZXRlY3Rpb24gZm9yIG9sZGVyIHZlcnNpb25zXG4gKiBFbmhhbmNlZCB0byBza2lwIEhUTUwgZWxlbWVudHMgYW5kIGZpbmQgYWN0dWFsIFJlYWN0IGNvbXBvbmVudHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBUaGUgRE9NIGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IE9iamVjdCB3aXRoIGNvbXBvbmVudCBuYW1lIGFuZCBvcHRpb25hbCB1aWRcbiAqL1xuY29uc3QgZ2V0Q29tcG9uZW50T2JqID0gKGVsZW0pID0+IHtcbiAgaWYgKHdpbmRvdy5fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmliZXJLZXkgPSBPYmplY3Qua2V5cyhlbGVtKS5maW5kKFxuICAgICAgICAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEZpYmVyJCcpIHx8IGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChmaWJlcktleSkge1xuICAgICAgICBjb25zdCBmaWJlciA9IGVsZW1bZmliZXJLZXldO1xuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gdHJhdmVyc2VGaWJlclRyZWUoZmliZXIpO1xuXG4gICAgICAgIGlmIChjb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmaXJzdENvbXBvbmVudCA9IGNvbXBvbmVudHNbMF07XG4gICAgICAgICAgY29uc3QgdWlkID1cbiAgICAgICAgICAgIGZpcnN0Q29tcG9uZW50LmZpYmVyLl9kZWJ1Z0lEIHx8XG4gICAgICAgICAgICBgJHtmaXJzdENvbXBvbmVudC5maWJlci5pbmRleCB8fCAnJ30ke2ZpcnN0Q29tcG9uZW50LmZpYmVyLmtleSB8fCAnJ31gO1xuICAgICAgICAgIGNvbnN0IHJldmVyc2VkSGllcmFyY2h5ID0gY29tcG9uZW50cy5yZXZlcnNlKCkubWFwKChjKSA9PiBjLm5hbWUpO1xuICAgICAgICAgIHJldHVybiB7IG5hbWU6IGZpcnN0Q29tcG9uZW50Lm5hbWUsIHVpZCwgaGllcmFyY2h5OiByZXZlcnNlZEhpZXJhcmNoeSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBTaWxlbnRseSBmYWxsIGJhY2sgdG8gbGVnYWN5IGRldGVjdGlvblxuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGVsZW0pKSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKSkge1xuICAgICAgY29uc3QgZmliZXJOb2RlID0gZWxlbVtrZXldO1xuICAgICAgaWYgKGZpYmVyTm9kZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0cmF2ZXJzZUZpYmVyVHJlZShmaWJlck5vZGUpO1xuICAgICAgICAgIGlmIChjb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q29tcG9uZW50ID0gY29tcG9uZW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IHJldmVyc2VkSGllcmFyY2h5ID0gY29tcG9uZW50cy5yZXZlcnNlKCkubWFwKChjKSA9PiBjLm5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgbmFtZTogZmlyc3RDb21wb25lbnQubmFtZSxcbiAgICAgICAgICAgICAgdWlkOiBgJHtmaWJlck5vZGUuX21vdW50SW5kZXggfHwgJyd9JHtmaWJlck5vZGUuX21vdW50T3JkZXIgfHwgJyd9YCxcbiAgICAgICAgICAgICAgaGllcmFyY2h5OiByZXZlcnNlZEhpZXJhcmNoeSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvLyBDb250aW51ZSB0byBvbGQgbGVnYWN5IGRldGVjdGlvblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaWJlck5vZGUgJiYgZmliZXJOb2RlLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICBjb25zdCBvd25lciA9IGZpYmVyTm9kZS5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICBjb25zdCBmaWJlciA9IG93bmVyICYmIG93bmVyLl9pbnN0YW5jZTtcbiAgICAgICAgaWYgKGZpYmVyKSB7XG4gICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGZpYmVyLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgaWYgKCFpc0hUTUxFbGVtZW50KGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBuYW1lOiBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgICB1aWQ6IGAke293bmVyLl9tb3VudEluZGV4IHx8ICcnfSR7b3duZXIuX21vdW50T3JkZXIgfHwgJyd9YCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGZpYmVyTm9kZSkge1xuICAgICAgICBjb25zdCBmaWJlciA9IGZpYmVyTm9kZS5yZXR1cm4/LnN0YXRlTm9kZT8uX3JlYWN0SW50ZXJuYWxGaWJlcjtcbiAgICAgICAgaWYgKGZpYmVyKSB7XG4gICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGZpYmVyLnR5cGU/Lm5hbWUgfHwgJ1Vua25vd24nO1xuICAgICAgICAgIGlmIChjb21wb25lbnROYW1lICE9PSAnVW5rbm93bicgJiYgIWlzSFRNTEVsZW1lbnQoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IGNvbXBvbmVudE5hbWUgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCB0YWdOYW1lID0gZWxlbS50YWdOYW1lPy50b0xvd2VyQ2FzZSgpO1xuICBpZiAodGFnTmFtZSAmJiBpc0hUTUxFbGVtZW50KHRhZ05hbWUpKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogdGFnTmFtZSB9O1xuICB9XG5cbiAgcmV0dXJuIHt9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2FjaGVkIGZ1bmN0aW9uIGZvciBzZWFyY2hpbmcgYW5kIGNyZWF0aW5nIGNvbXBvbmVudCBvdmVybGF5c1xuICogQHJldHVybnMge0Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGNyZWF0ZXMgb3ZlcmxheSBlbGVtZW50cyBmb3IgY29tcG9uZW50c1xuICovXG5jb25zdCBzZWFyY2hBbmRDcmVhdGVDb21wb25lbnRDYWNoZWQgPSAoKSA9PiB7XG4gIC8vIFBlcmZvcm1hbmNlIGltcHJvdmVtZW50c1xuICBjb25zdCB1aWRzID0gbmV3IFNldCgpO1xuICByZXR1cm4gKGVsZW0pID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIHVpZCB9ID0gZ2V0Q29tcG9uZW50T2JqKGVsZW0pO1xuXG4gICAgaWYgKG5hbWUgJiYgbmFtZSAhPT0gJ1Vua25vd24nKSB7XG4gICAgICBpZiAodWlkKSB7XG4gICAgICAgIGlmICghdWlkcy5oYXModWlkKSkge1xuICAgICAgICAgIHVpZHMuYWRkKHVpZCk7XG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1Gb3JDb21wb25lbnQoZWxlbSwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtRm9yQ29tcG9uZW50KGVsZW0sIG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbn07XG5cbi8qKlxuICogRXh0cmFjdHMgY29tcG9uZW50IG9iamVjdHMgZnJvbSBSZWFjdCBmaWJlciB0cmVlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gRE9NIGVsZW1lbnQgdG8gZXh0cmFjdCBjb21wb25lbnRzIGZyb21cbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgY29tcG9uZW50IG9iamVjdHMgZnJvbSBmaWJlciB0cmVlXG4gKi9cbmNvbnN0IGdldENvbXBvbmVudHNGcm9tRWxlbWVudCA9IChlbGVtKSA9PiB7XG4gIGxldCBjb21wb25lbnRzID0gW107XG5cbiAgaWYgKHdpbmRvdy5fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmliZXJLZXkgPSBPYmplY3Qua2V5cyhlbGVtKS5maW5kKFxuICAgICAgICAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEZpYmVyJCcpIHx8IGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKSxcbiAgICAgICk7XG5cbiAgICAgIGlmIChmaWJlcktleSkge1xuICAgICAgICBjb25zdCBmaWJlciA9IGVsZW1bZmliZXJLZXldO1xuICAgICAgICBjb21wb25lbnRzID0gdHJhdmVyc2VGaWJlclRyZWUoZmliZXIpO1xuICAgICAgICAvLyBSZXZlcnNlIHRvIGdldCBwYXJlbnQgLT4gY2hpbGQgb3JkZXIgKHRyYXZlcnNhbCBnb2VzIGNoaWxkIC0+IHBhcmVudClcbiAgICAgICAgY29tcG9uZW50cyA9IGNvbXBvbmVudHMucmV2ZXJzZSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gU2lsZW50bHkgZmFsbCBiYWNrIHRvIGxlZ2FjeSBkZXRlY3Rpb25cbiAgICB9XG4gIH1cblxuICBpZiAoY29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhlbGVtKSkge1xuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKSkge1xuICAgICAgICBjb25zdCBmaWJlck5vZGUgPSBlbGVtW2tleV07XG4gICAgICAgIGlmIChmaWJlck5vZGUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29tcG9uZW50cyA9IHRyYXZlcnNlRmliZXJUcmVlKGZpYmVyTm9kZSk7XG4gICAgICAgICAgICAvLyBSZXZlcnNlIHRvIGdldCBwYXJlbnQgLT4gY2hpbGQgb3JkZXJcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSBjb21wb25lbnRzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgLy8gU2lsZW50bHkgY29udGludWUgdG8gbmV4dCBkZXRlY3Rpb24gbWV0aG9kXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbXBvbmVudHM7XG59O1xuXG4vKipcbiAqIEdldHMgY29tcG9uZW50IHBhdGggZnJvbSBET00gdHJhdmVyc2FsIChmYWxsYmFjayBtZXRob2QpXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gRE9NIGVsZW1lbnQgdG8gc3RhcnQgdHJhdmVyc2FsIGZyb21cbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgY29tcG9uZW50IG5hbWVzIGZyb20gRE9NIHRyYXZlcnNhbFxuICovXG5jb25zdCBnZXREb21QYXRoID0gKGVsZW0pID0+IHtcbiAgbGV0IGN1cnJlbnRFbGVtID0gZWxlbTtcbiAgY29uc3QgZG9tUGF0aCA9IFtdO1xuICBjb25zdCBzZWVuQ29tcG9uZW50TmFtZXMgPSBuZXcgU2V0KCk7XG5cbiAgd2hpbGUgKGN1cnJlbnRFbGVtICYmIGN1cnJlbnRFbGVtLnBhcmVudE5vZGUgJiYgZG9tUGF0aC5sZW5ndGggPCAyMCkge1xuICAgIGN1cnJlbnRFbGVtID0gY3VycmVudEVsZW0ucGFyZW50Tm9kZTtcbiAgICBjb25zdCB7IG5hbWU6IGNvbXBvbmVudCB9ID0gZ2V0Q29tcG9uZW50T2JqKGN1cnJlbnRFbGVtKTtcbiAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudCAhPT0gJ1Vua25vd24nICYmICFpc0hUTUxFbGVtZW50KGNvbXBvbmVudCkpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWROYW1lID0gY29tcG9uZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIXNlZW5Db21wb25lbnROYW1lcy5oYXMobm9ybWFsaXplZE5hbWUpKSB7XG4gICAgICAgIHNlZW5Db21wb25lbnROYW1lcy5hZGQobm9ybWFsaXplZE5hbWUpO1xuICAgICAgICBkb21QYXRoLnVuc2hpZnQoY29tcG9uZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZG9tUGF0aDtcbn07XG5cbi8qKlxuICogQnVpbGRzIGZ1bGwgY29tcG9uZW50IHN0cnVjdHVyZSBwYXRoIChpbmNsdWRlcyBhbGwgY29tcG9uZW50cylcbiAqIEBwYXJhbSB7QXJyYXl9IGNvbXBvbmVudHMgLSBDb21wb25lbnQgb2JqZWN0cyBmcm9tIGZpYmVyIHRyZWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjdXJyZW50Q29tcG9uZW50TmFtZSAtIE5hbWUgb2YgY3VycmVudCBjb21wb25lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBPcmlnaW5hbCBET00gZWxlbWVudCBmb3IgZmFsbGJhY2tcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZ1bGwgY29tcG9uZW50IHBhdGggc3RydWN0dXJlXG4gKi9cbmNvbnN0IGJ1aWxkRnVsbFN0cnVjdHVyZSA9IChjb21wb25lbnRzLCBjdXJyZW50Q29tcG9uZW50TmFtZSwgZWxlbSkgPT4ge1xuICBpZiAoY29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZmlsdGVyZWRDb21wb25lbnRzID0gY29tcG9uZW50cy5maWx0ZXIoXG4gICAgICAoY29tcCkgPT4gY29tcC5uYW1lICE9PSBjdXJyZW50Q29tcG9uZW50TmFtZSAmJiAhaXNIVE1MRWxlbWVudChjb21wLm5hbWUpLFxuICAgICk7XG5cbiAgICBpZiAoZmlsdGVyZWRDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZ1bGxQYXRoID0gZmlsdGVyZWRDb21wb25lbnRzLm1hcCgoY29tcCkgPT4gY29tcC5uYW1lKTtcbiAgICAgIHJldHVybiBbLi4uZnVsbFBhdGgsIGN1cnJlbnRDb21wb25lbnROYW1lXS5qb2luKCcgLT4gJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRDb21wb25lbnROYW1lO1xuICB9XG5cbiAgY29uc3QgZG9tUGF0aCA9IGdldERvbVBhdGgoZWxlbSk7XG5cbiAgaWYgKGRvbVBhdGgubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBbLi4uZG9tUGF0aCwgY3VycmVudENvbXBvbmVudE5hbWVdLmpvaW4oJyAtPiAnKTtcbiAgfVxuXG4gIHJldHVybiBjdXJyZW50Q29tcG9uZW50TmFtZTtcbn07XG5cbi8qKlxuICogQnVpbGRzIGZpbHRlcmVkIGNvbXBvbmVudCBzdHJ1Y3R1cmUgcGF0aCAob25seSBwcm9qZWN0LW93bmVkIGNvbXBvbmVudHMpXG4gKiBAcGFyYW0ge0FycmF5fSBjb21wb25lbnRzIC0gQ29tcG9uZW50IG9iamVjdHMgZnJvbSBmaWJlciB0cmVlXG4gKiBAcGFyYW0ge3N0cmluZ30gY3VycmVudENvbXBvbmVudE5hbWUgLSBOYW1lIG9mIGN1cnJlbnQgY29tcG9uZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gT3JpZ2luYWwgRE9NIGVsZW1lbnQgZm9yIGZhbGxiYWNrXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGaWx0ZXJlZCBjb21wb25lbnQgcGF0aCBzdHJ1Y3R1cmVcbiAqL1xuY29uc3QgYnVpbGRGaWx0ZXJlZFN0cnVjdHVyZSA9IChjb21wb25lbnRzLCBjdXJyZW50Q29tcG9uZW50TmFtZSwgZWxlbSkgPT4ge1xuICBpZiAoY29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZmlsdGVyZWRDb21wb25lbnRzID0gY29tcG9uZW50cy5maWx0ZXIoXG4gICAgICAoY29tcCkgPT4gY29tcC5uYW1lICE9PSBjdXJyZW50Q29tcG9uZW50TmFtZSAmJiAhaXNIVE1MRWxlbWVudChjb21wLm5hbWUpLFxuICAgICk7XG5cbiAgICBjb25zdCBzZWVuQ29tcG9uZW50cyA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBwcm9qZWN0T3duZWRDb21wb25lbnRzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGNvbXAgb2YgZmlsdGVyZWRDb21wb25lbnRzKSB7XG4gICAgICBpZiAoIWNvbXAuaXNJbnRlcm5hbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBjb21wLm5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKGNvbXAuZmlsZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkRmlsZSA9IGNvbXAuZmlsZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBub3JtYWxpemVkRmlsZS5zcGxpdCgvWy9cXFxcXS8pO1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHBhdGhQYXJ0c1twYXRoUGFydHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lV2l0aG91dEV4dCA9IGZpbGVuYW1lLnJlcGxhY2UoL1xcLih0c3g/fGpzeD8pJC8sICcnKTtcblxuICAgICAgICBjb25zdCBuYW1lTWF0Y2hlc0ZpbGUgPVxuICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmluY2x1ZGVzKGAvJHtub3JtYWxpemVkTmFtZX1gKSB8fFxuICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmluY2x1ZGVzKGBcXFxcJHtub3JtYWxpemVkTmFtZX1gKSB8fFxuICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmVuZHNXaXRoKGAvJHtub3JtYWxpemVkTmFtZX0udHN4YCkgfHxcbiAgICAgICAgICBub3JtYWxpemVkRmlsZS5lbmRzV2l0aChgLyR7bm9ybWFsaXplZE5hbWV9LnRzYCkgfHxcbiAgICAgICAgICBub3JtYWxpemVkRmlsZS5lbmRzV2l0aChgLyR7bm9ybWFsaXplZE5hbWV9LmpzeGApIHx8XG4gICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYC8ke25vcm1hbGl6ZWROYW1lfS5qc2ApIHx8XG4gICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYFxcXFwke25vcm1hbGl6ZWROYW1lfS50c3hgKSB8fFxuICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmVuZHNXaXRoKGBcXFxcJHtub3JtYWxpemVkTmFtZX0udHNgKSB8fFxuICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmVuZHNXaXRoKGBcXFxcJHtub3JtYWxpemVkTmFtZX0uanN4YCkgfHxcbiAgICAgICAgICBub3JtYWxpemVkRmlsZS5lbmRzV2l0aChgXFxcXCR7bm9ybWFsaXplZE5hbWV9LmpzYCkgfHxcbiAgICAgICAgICBmaWxlbmFtZVdpdGhvdXRFeHQgPT09IG5vcm1hbGl6ZWROYW1lO1xuXG4gICAgICAgIC8vIE8oMSkgbG9va3VwIHVzaW5nIHByZS1idWlsdCBpbmRleCBpbnN0ZWFkIG9mIE8obSkgc3ByZWFkICsgc29tZSArIGluY2x1ZGVzXG4gICAgICAgIGNvbnN0IGluUHJvamVjdEZpbGVQYXRocyA9IGNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguaGFzKG5vcm1hbGl6ZWROYW1lKTtcblxuICAgICAgICBpZiAoIW5hbWVNYXRjaGVzRmlsZSAmJiAhaW5Qcm9qZWN0RmlsZVBhdGhzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWR1cGxpY2F0ZSBieSBjb21wb25lbnQgaWRlbnRpdHk6IHVzZSBub3JtYWxpemVkIG5hbWUgKyBub3JtYWxpemVkIGZpbGUgcGF0aCBhcyB1bmlxdWUga2V5XG4gICAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxuICAgICAgICAvLyAxLiBUaGUgc2FtZSBjb21wb25lbnQgKHNhbWUgbmFtZSwgc2FtZSBmaWxlKSBhcHBlYXJpbmcgbXVsdGlwbGUgdGltZXMgaXMgb25seSBzaG93biBvbmNlXG4gICAgICAgIC8vICAgIChlLmcuLCBXZWJBcHBMYXlvdXQgLT4gV2ViQXBwTGF5b3V0IC0+IFdlYkFwcExheW91dClcbiAgICAgICAgLy8gMi4gRGlmZmVyZW50IGNvbXBvbmVudHMgd2l0aCB0aGUgc2FtZSBuYW1lIGJ1dCBkaWZmZXJlbnQgZmlsZXMgYXJlIGJvdGggc2hvd25cbiAgICAgICAgLy8gICAgKGUuZy4sIGNvbXBvbmVudHNfbGVmdC9QYXJlbnQuanN4IHZzIGNvbXBvbmVudHNfcmlnaHQvUGFyZW50LmpzeClcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZEZpbGVQYXRoID0gbm9ybWFsaXplUGF0aChjb21wLmZpbGUpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRLZXkgPSBgJHtub3JtYWxpemVkTmFtZX06JHtub3JtYWxpemVkRmlsZVBhdGh9YDtcblxuICAgICAgICBpZiAoc2VlbkNvbXBvbmVudHMuaGFzKGNvbXBvbmVudEtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlZW5Db21wb25lbnRzLmFkZChjb21wb25lbnRLZXkpO1xuICAgICAgICBwcm9qZWN0T3duZWRDb21wb25lbnRzLnB1c2goY29tcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjb21wb25lbnRLZXkgPSBub3JtYWxpemVkTmFtZTtcblxuICAgICAgICBpZiAoc2VlbkNvbXBvbmVudHMuaGFzKGNvbXBvbmVudEtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlZW5Db21wb25lbnRzLmFkZChjb21wb25lbnRLZXkpO1xuICAgICAgICBwcm9qZWN0T3duZWRDb21wb25lbnRzLnB1c2goY29tcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb2plY3RPd25lZENvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZmlsdGVyZWRQYXRoID0gcHJvamVjdE93bmVkQ29tcG9uZW50cy5tYXAoKGNvbXApID0+IGNvbXAubmFtZSk7XG4gICAgICBjb25zdCBjdXJyZW50TmFtZUxvd2VyID0gY3VycmVudENvbXBvbmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHBhdGhDb250YWluc0N1cnJlbnQgPSBmaWx0ZXJlZFBhdGguc29tZShcbiAgICAgICAgKG5hbWUpID0+IG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gY3VycmVudE5hbWVMb3dlcixcbiAgICAgICk7XG5cbiAgICAgIGxldCBmaW5hbFBhdGg7XG4gICAgICBpZiAoIXBhdGhDb250YWluc0N1cnJlbnQpIHtcbiAgICAgICAgZmluYWxQYXRoID0gWy4uLmZpbHRlcmVkUGF0aCwgY3VycmVudENvbXBvbmVudE5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxQYXRoID0gZmlsdGVyZWRQYXRoO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgY29uc2VjdXRpdmUgZHVwbGljYXRlcyBvZiB0aGUgc2FtZSBjb21wb25lbnRzIGJlZm9yZSBqb2luaW5nXG4gICAgICBmaW5hbFBhdGggPSByZW1vdmVDb25zZWN1dGl2ZUR1cGxpY2F0ZXMoZmluYWxQYXRoKTtcbiAgICAgIHJldHVybiBmaW5hbFBhdGguam9pbignIC0+ICcpO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50Q29tcG9uZW50TmFtZTtcbiAgfVxuXG4gIGNvbnN0IGRvbVBhdGggPSBnZXREb21QYXRoKGVsZW0pO1xuXG4gIGlmIChkb21QYXRoLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBjdXJyZW50TmFtZUxvd2VyID0gY3VycmVudENvbXBvbmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBwYXRoQ29udGFpbnNDdXJyZW50ID0gZG9tUGF0aC5zb21lKChuYW1lKSA9PiBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IGN1cnJlbnROYW1lTG93ZXIpO1xuXG4gICAgbGV0IGZpbmFsUGF0aDtcbiAgICBpZiAoIXBhdGhDb250YWluc0N1cnJlbnQpIHtcbiAgICAgIGZpbmFsUGF0aCA9IFsuLi5kb21QYXRoLCBjdXJyZW50Q29tcG9uZW50TmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmFsUGF0aCA9IGRvbVBhdGg7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGNvbnNlY3V0aXZlIGR1cGxpY2F0ZXMgb2YgdGhlIHNhbWUgY29tcG9uZW50cyBiZWZvcmUgam9pbmluZ1xuICAgIGZpbmFsUGF0aCA9IHJlbW92ZUNvbnNlY3V0aXZlRHVwbGljYXRlcyhmaW5hbFBhdGgpO1xuICAgIHJldHVybiBmaW5hbFBhdGguam9pbignIC0+ICcpO1xuICB9XG5cbiAgcmV0dXJuIGN1cnJlbnRDb21wb25lbnROYW1lO1xufTtcblxuLyoqXG4gKiBBZGRzIHRoZSBhYnNvbHV0ZSBjb21wb25lbnQgcGF0aCB0byBhbiBvdmVybGF5IGVsZW1lbnRcbiAqIFVzZXMgZmliZXItYmFzZWQgaGllcmFyY2h5IGZvciBhY2N1cmF0ZSBSZWFjdCBjb21wb25lbnQgcGF0aHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBPcmlnaW5hbCBET00gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0geHJheVJlYWN0RWxlbSAtIE92ZXJsYXkgZWxlbWVudFxuICovXG5jb25zdCBhZGRBYnNvbHV0ZUNvbXBvbmVudFBhdGggPSAoZWxlbSwgeHJheVJlYWN0RWxlbSkgPT4ge1xuICBjb25zdCBjdXJyZW50Q29tcG9uZW50TmFtZSA9IHhyYXlSZWFjdEVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXhyYXktcmVhY3QtZWxlbWVudC1uYW1lJykgfHwgJyc7XG5cbiAgY29uc3QgY29tcG9uZW50cyA9IGdldENvbXBvbmVudHNGcm9tRWxlbWVudChlbGVtKTtcblxuICBjb25zdCBmdWxsU3RydWN0dXJlID0gYnVpbGRGdWxsU3RydWN0dXJlKGNvbXBvbmVudHMsIGN1cnJlbnRDb21wb25lbnROYW1lLCBlbGVtKTtcbiAgY29uc3QgZmlsdGVyZWRTdHJ1Y3R1cmUgPSBidWlsZEZpbHRlcmVkU3RydWN0dXJlKGNvbXBvbmVudHMsIGN1cnJlbnRDb21wb25lbnROYW1lLCBlbGVtKTtcblxuICB4cmF5UmVhY3RFbGVtLnNldEF0dHJpYnV0ZShjb25zdGFudHMueHJheVJlYWN0Q29tcFBhdGhBdHRyLCBmdWxsU3RydWN0dXJlKTtcbiAgeHJheVJlYWN0RWxlbS5zZXRBdHRyaWJ1dGUoY29uc3RhbnRzLnhyYXlSZWFjdEZpbHRlcmVkQ29tcFBhdGhBdHRyLCBmaWx0ZXJlZFN0cnVjdHVyZSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgbW91c2VvdmVyIGV2ZW50cyBvbiBvdmVybGF5IGVsZW1lbnRzXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIE1vdXNlb3ZlciBldmVudFxuICovXG5jb25zdCBvblhyYXlSZWFjdE1vdXNlb3ZlciA9IChldmVudCkgPT4ge1xuICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7XG4gIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNvbnN0YW50cy54cmF5UmVhY3RFbGVtQ04pKSB7XG4gICAgY29uc3QgY29tcG9uZW50c1BhdGggPVxuICAgICAgdGFyZ2V0LmdldEF0dHJpYnV0ZShjb25zdGFudHMueHJheVJlYWN0RmlsdGVyZWRDb21wUGF0aEF0dHIpIHx8XG4gICAgICB0YXJnZXQuZ2V0QXR0cmlidXRlKGNvbnN0YW50cy54cmF5UmVhY3RDb21wUGF0aEF0dHIpIHx8XG4gICAgICAnJztcbiAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LWFjdGlvbnMtd3JhcHBlciAuY29tcG9uZW50cy1wYXRoJyk7XG4gICAgaWYgKHBhdGhFbGVtZW50KSB7XG4gICAgICBwYXRoRWxlbWVudC5pbm5lckhUTUwgPSBjb21wb25lbnRzUGF0aDtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgeHJheS1yZWFjdCBvdmVybGF5IG9uL29mZlxuICovXG5jb25zdCB0b2dnbGVYcmF5UmVhY3QgPSAoKSA9PiB7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuXG4gIGlmIChib2R5LmNsYXNzTGlzdC5jb250YWlucygneHJheS1yZWFjdC1lbmFibGVkJykpIHtcbiAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3hyYXktcmVhY3QtZW5hYmxlZCcpO1xuICAgIGNvbnN0IHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NvbnN0YW50cy54cmF5UmVhY3RXcmFwcGVyQ059YCk7XG4gICAgY29uc3QgeHJheVJlYWN0QWN0aW9uQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhyYXktcmVhY3QtYWN0aW9uLWJhcicpO1xuICAgIGNvbnN0IHhyYXlSZWFjdFN0eWxlVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhyYXktcmVhY3Qtc3R5bGUtdGFnJyk7XG4gICAgY29uc3QgdGVtcEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnhyYXktcmVhY3QtZWxlbWVudC10ZW1wJyk7XG5cbiAgICBpZiAoeHJheVJlYWN0QWN0aW9uQmFyKSB7XG4gICAgICB4cmF5UmVhY3RBY3Rpb25CYXIuY2xhc3NMaXN0LnJlbW92ZSgnLXNpbXBsZS1tb2RlJyk7XG4gICAgfVxuICAgIGlmICh4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIpIHtcbiAgICAgIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHhyYXlSZWFjdEFjdGlvbkJhcikgeHJheVJlYWN0QWN0aW9uQmFyLnJlbW92ZSgpO1xuICAgIGlmICh4cmF5UmVhY3RTdHlsZVRhZykgeHJheVJlYWN0U3R5bGVUYWcucmVtb3ZlKCk7XG4gICAgdGVtcEVsZW1lbnRzLmZvckVhY2goKGVsKSA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICBib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIG9uWHJheVJlYWN0TW91c2VvdmVyKTtcbiAgfSBlbHNlIHtcbiAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ3hyYXktcmVhY3QtZW5hYmxlZCcpO1xuXG4gICAgY3VycmVudE1vZGUgPSBnZXRDdXJyZW50TW9kZSgpO1xuXG4gICAgbGV0IHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LXN0eWxlLXRhZycpO1xuICAgIGlmICghc3R5bGVFbGVtZW50KSB7XG4gICAgICBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbGVtZW50LmNsYXNzTmFtZSA9ICd4cmF5LXJlYWN0LXN0eWxlLXRhZyc7XG4gICAgICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBjc3M7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG4gICAgfVxuXG4gICAgY29uc3QgZXhpc3RpbmdBY3Rpb25CYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueHJheS1yZWFjdC1hY3Rpb24tYmFyJyk7XG4gICAgaWYgKCFleGlzdGluZ0FjdGlvbkJhcikge1xuICAgICAgYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGFjdGlvbkJhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ2xlYXJCdXR0b24gPSBleGlzdGluZ0FjdGlvbkJhci5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWNsZWFyJyk7XG4gICAgICBpZiAoZXhpc3RpbmdDbGVhckJ1dHRvbiAmJiAhZXhpc3RpbmdDbGVhckJ1dHRvbi5oYXNBdHRyaWJ1dGUoJ2RhdGEtbGlzdGVuZXItYXR0YWNoZWQnKSkge1xuICAgICAgICBleGlzdGluZ0NsZWFyQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1saXN0ZW5lci1hdHRhY2hlZCcsICd0cnVlJyk7XG4gICAgICAgIGV4aXN0aW5nQ2xlYXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWFyY2hDbGVhcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50TW9kZSA9PT0gVUlfTU9ERV9TSU1QTEUgJiYgZXhpc3RpbmdBY3Rpb25CYXIpIHtcbiAgICAgIGV4aXN0aW5nQWN0aW9uQmFyLmNsYXNzTGlzdC5hZGQoJy1zaW1wbGUtbW9kZScpO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudE1vZGUgPT09IFVJX01PREVfU0lNUExFICYmICFleGlzdGluZ0FjdGlvbkJhcikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LWFjdGlvbi1iYXInKTtcbiAgICAgICAgaWYgKGFjdGlvbkJhcikge1xuICAgICAgICAgIGFjdGlvbkJhci5jbGFzc0xpc3QuYWRkKCctc2ltcGxlLW1vZGUnKTtcbiAgICAgICAgfVxuICAgICAgfSwgMCk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50TW9kZSAhPT0gVUlfTU9ERV9TSU1QTEUgJiYgZXhpc3RpbmdBY3Rpb25CYXIpIHtcbiAgICAgIGV4aXN0aW5nQWN0aW9uQmFyLmNsYXNzTGlzdC5yZW1vdmUoJy1zaW1wbGUtbW9kZScpO1xuICAgIH1cbiAgICBjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtY29tcG9uZW50Jyk7XG4gICAgaWYgKHNlYXJjaElucHV0KSB7XG4gICAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGhhbmRsZVNlYXJjaENoYW5nZSk7XG4gICAgICB1cGRhdGVDbGVhckJ1dHRvbihzZWFyY2hJbnB1dCk7XG4gICAgfVxuICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC1jbGVhcicpO1xuICAgIGlmIChjbGVhckJ1dHRvbiAmJiAhY2xlYXJCdXR0b24uaGFzQXR0cmlidXRlKCdkYXRhLWxpc3RlbmVyLWF0dGFjaGVkJykpIHtcbiAgICAgIGNsZWFyQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1saXN0ZW5lci1hdHRhY2hlZCcsICd0cnVlJyk7XG4gICAgICBjbGVhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlYXJjaENsZWFyKTtcbiAgICB9XG4gICAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvblhyYXlSZWFjdE1vdXNlb3Zlcik7XG5cbiAgICBjb25zdCBleGlzdGluZ1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOfWApO1xuICAgIGlmIChleGlzdGluZ1dyYXBwZXIpIHtcbiAgICAgIGV4aXN0aW5nV3JhcHBlci5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBjb25zdCB4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIuY2xhc3NOYW1lID0gY29uc3RhbnRzLnhyYXlSZWFjdFdyYXBwZXJDTjtcbiAgICBpZiAoY3VycmVudE1vZGUgPT09IFVJX01PREVfU0lNUExFKSB7XG4gICAgICB4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIuY2xhc3NMaXN0LmFkZCgnLXNpbXBsZS1tb2RlJyk7XG4gICAgfVxuICAgIGJvZHkuYXBwZW5kKHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlcik7XG4gICAgaWYgKGN1cnJlbnRNb2RlID09PSBVSV9NT0RFX1NJTVBMRSkge1xuICAgICAgY29uc3QgYWN0aW9uQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhyYXktcmVhY3QtYWN0aW9uLWJhcicpO1xuICAgICAgaWYgKGFjdGlvbkJhcikge1xuICAgICAgICBhY3Rpb25CYXIuY2xhc3NMaXN0LmFkZCgnLXNpbXBsZS1tb2RlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGV4aXN0aW5nTG9hZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy54cmF5LXJlYWN0LWVsZW1lbnQtdGVtcCcpO1xuICAgIGV4aXN0aW5nTG9hZGluZy5mb3JFYWNoKChlbCkgPT4gZWwucmVtb3ZlKCkpO1xuXG4gICAgY29uc3QgbG9hZGluZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2FkaW5nRWxlbWVudC5jbGFzc05hbWUgPSAneHJheS1yZWFjdC1lbGVtZW50IHhyYXktcmVhY3QtZWxlbWVudC10ZW1wJztcbiAgICBsb2FkaW5nRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHR9cHhgO1xuICAgIGxvYWRpbmdFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7d2luZG93LmlubmVyV2lkdGh9cHhgO1xuICAgIGxvYWRpbmdFbGVtZW50LnN0eWxlLnRvcCA9IGAke3dpbmRvdy5zY3JvbGxZfXB4YDtcbiAgICBsb2FkaW5nRWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7d2luZG93LnNjcm9sbFh9cHhgO1xuICAgIGxvYWRpbmdFbGVtZW50LnN0eWxlLnpJbmRleCA9ICcxMDAwMCc7XG4gICAgbG9hZGluZ0VsZW1lbnQuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJ4cmF5LXJlYWN0LXNwaW5uZXIgeHJheS1yZWFjdC1lbGVtZW50LXRlbXBcIj48L2Rpdj4nO1xuICAgIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5hcHBlbmRDaGlsZChsb2FkaW5nRWxlbWVudCk7XG5cbiAgICAvLyBQZXJmb3JtYW5jZSBpbXByb3ZlbWVudHNcbiAgICBjb25zdCBwcm9jZXNzRWxlbWVudHNBc3luYyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHhyYXlSZWFjdE9iamVjdHMgPSBbXTtcbiAgICAgIGNvbnN0IHNlYXJjaEFuZENyZWF0ZUNvbXBvbmVudCA9IHNlYXJjaEFuZENyZWF0ZUNvbXBvbmVudENhY2hlZCgpO1xuICAgICAgY29uc3QgYWxsRWxlbWVudHMgPSBBcnJheS5mcm9tKGJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSkuZmlsdGVyKChlbGVtKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCd4cmF5LXJlYWN0LWVsZW1lbnQtdGVtcCcpICYmXG4gICAgICAgICAgIWVsZW0uY2xvc2VzdCgnLnhyYXktcmVhY3QtYWN0aW9uLWJhcicpICYmXG4gICAgICAgICAgIWVsZW0uY2xvc2VzdChgLiR7Y29uc3RhbnRzLnhyYXlSZWFjdFdyYXBwZXJDTn1gKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBiYXRjaFNpemUgPSAyMDtcbiAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgIGNvbnN0IHByb2Nlc3NCYXRjaCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSBNYXRoLm1pbihpbmRleCArIGJhdGNoU2l6ZSwgYWxsRWxlbWVudHMubGVuZ3RoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZWxlbSA9IGFsbEVsZW1lbnRzW2ldO1xuICAgICAgICAgIGNvbnN0IHhyYXlSZWFjdE9iaiA9IHNlYXJjaEFuZENyZWF0ZUNvbXBvbmVudChlbGVtKTtcbiAgICAgICAgICBpZiAoeHJheVJlYWN0T2JqKSB7XG4gICAgICAgICAgICB4cmF5UmVhY3RPYmplY3RzLnB1c2goeHJheVJlYWN0T2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleCA9IGVuZEluZGV4O1xuXG4gICAgICAgIGlmIChpbmRleCA8IGFsbEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHNldFRpbWVvdXQocHJvY2Vzc0JhdGNoLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgcGF0aEluZGV4ID0gMDtcbiAgICAgICAgICBjb25zdCBwYXRoQmF0Y2hTaXplID0gMTA7XG5cbiAgICAgICAgICBjb25zdCBwcm9jZXNzUGF0aHMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IE1hdGgubWluKHBhdGhJbmRleCArIHBhdGhCYXRjaFNpemUsIHhyYXlSZWFjdE9iamVjdHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBhdGhJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgeyBlbGVtLCB4cmF5UmVhY3RFbGVtIH0gPSB4cmF5UmVhY3RPYmplY3RzW2ldO1xuICAgICAgICAgICAgICBhZGRBYnNvbHV0ZUNvbXBvbmVudFBhdGgoZWxlbSwgeHJheVJlYWN0RWxlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhdGhJbmRleCA9IGVuZEluZGV4O1xuXG4gICAgICAgICAgICBpZiAocGF0aEluZGV4IDwgeHJheVJlYWN0T2JqZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChwcm9jZXNzUGF0aHMsIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NvbnN0YW50cy54cmF5UmVhY3RXcmFwcGVyQ059YCk7XG4gICAgICAgICAgICAgIGlmICh3cmFwcGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcEVsZW1lbnRzID0gd3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCcueHJheS1yZWFjdC1lbGVtZW50LXRlbXAnKTtcbiAgICAgICAgICAgICAgICB0ZW1wRWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZCguLi54cmF5UmVhY3RPYmplY3RzLm1hcCgob2JqKSA9PiBvYmoueHJheVJlYWN0RWxlbSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHNldFRpbWVvdXQocHJvY2Vzc1BhdGhzLCAxKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgc2V0VGltZW91dChwcm9jZXNzQmF0Y2gsIDEpO1xuICAgIH07XG5cbiAgICBwcm9jZXNzRWxlbWVudHNBc3luYygpO1xuICB9XG59O1xuXG4vKipcbiAqIEtleWRvd24gZXZlbnQgaGFuZGxlciBmb3IgeHJheS1yZWFjdCBzaG9ydGN1dHNcbiAqIE1hdGNoZXMgeHJheS1yYWlsczogQ21kK1NoaWZ0K1ggKE1hYykgLyBDdHJsK1NoaWZ0K1ggKFdpbmRvd3MvTGludXgpXG4gKi9cbmxldCBrZXlkb3duSGFuZGxlciA9IG51bGw7XG5sZXQgaXNIYW5kbGVyUmVnaXN0ZXJlZCA9IGZhbHNlO1xuXG5jb25zdCBjcmVhdGVLZXlkb3duSGFuZGxlciA9ICgpID0+IHtcbiAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgIGlmIChib2R5ICYmIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCd4cmF5LXJlYWN0LWVuYWJsZWQnKSkge1xuICAgICAgICB0b2dnbGVYcmF5UmVhY3QoKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpc01hYyA9IG5hdmlnYXRvci5wbGF0Zm9ybS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ01BQycpID49IDA7XG4gICAgY29uc3QgaXNNZXRhT3JDdHJsID0gaXNNYWMgPyBldmVudC5tZXRhS2V5IDogZXZlbnQuY3RybEtleTtcbiAgICBjb25zdCBpc1NoaWZ0ID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgY29uc3QgaXNYID0gZXZlbnQua2V5ID09PSAneCcgfHwgZXZlbnQua2V5ID09PSAnWCcgfHwgZXZlbnQua2V5Q29kZSA9PT0gODg7XG5cbiAgICBpZiAoaXNNZXRhT3JDdHJsICYmIGlzU2hpZnQgJiYgaXNYKSB7XG4gICAgICB0b2dnbGVYcmF5UmVhY3QoKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIEhhbmRsZXMga2V5Ym9hcmQgc2hvcnRjdXQgdG8gdG9nZ2xlIHhyYXktcmVhY3RcbiAqIEVuc3VyZXMgdGhlIGxpc3RlbmVyIGlzIG9ubHkgcmVnaXN0ZXJlZCBvbmNlXG4gKi9cbmNvbnN0IGhhbmRsZVhyYXlSZWFjdFRvZ2dsZSA9ICgpID0+IHtcbiAgaWYgKGlzSGFuZGxlclJlZ2lzdGVyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWtleWRvd25IYW5kbGVyKSB7XG4gICAga2V5ZG93bkhhbmRsZXIgPSBjcmVhdGVLZXlkb3duSGFuZGxlcigpO1xuICB9XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25IYW5kbGVyLCB0cnVlKTtcbiAgaXNIYW5kbGVyUmVnaXN0ZXJlZCA9IHRydWU7XG59O1xuXG4vKipcbiAqIEVuYWJsZXMgeHJheS1yZWFjdCBmdW5jdGlvbmFsaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBlbmFibGVYcmF5UmVhY3QgPSAoKSA9PiB7XG4gIGN1cnJlbnRNb2RlID0gZ2V0Q3VycmVudE1vZGUoKTtcblxuICBpZiAoIXByb2plY3RSb290KSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX1hSQVlfUkVBQ1RfUFJPSkVDVF9ST09UX18pIHtcbiAgICAgIHByb2plY3RSb290ID0gbm9ybWFsaXplUGF0aCh3aW5kb3cuX19YUkFZX1JFQUNUX1BST0pFQ1RfUk9PVF9fKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRldGVjdFByb2plY3RSb290RnJvbURPTSgpO1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdsb2FkaW5nJykge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBoYW5kbGVYcmF5UmVhY3RUb2dnbGUpO1xuICB9IGVsc2Uge1xuICAgIGhhbmRsZVhyYXlSZWFjdFRvZ2dsZSgpO1xuICB9XG59O1xuIiwiaW1wb3J0IHtcbiAgZW5hYmxlWHJheVJlYWN0LFxuICBzZXRQcm9qZWN0Um9vdCxcbiAgc2V0VXNhZ2VNYXAsXG4gIHNldEltcG9ydE1hcCxcbiAgc2V0UHJvamVjdEZpbGVzLFxuICBzZXRNb2RlLFxufSBmcm9tICcuLi9zcmMvdWktdXRpbHMuanMnO1xuXG4vLyBFeHBvc2UgZnVuY3Rpb25zIGdsb2JhbGx5IGZvciBjbGllbnQgYnVuZGxlIHRvIHVzZVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHdpbmRvdy54cmF5UmVhY3RTZXRQcm9qZWN0Um9vdCA9IHNldFByb2plY3RSb290O1xuICB3aW5kb3cueHJheVJlYWN0U2V0VXNhZ2VNYXAgPSBzZXRVc2FnZU1hcDtcbiAgd2luZG93LnhyYXlSZWFjdFNldEltcG9ydE1hcCA9IHNldEltcG9ydE1hcDtcbiAgd2luZG93LnhyYXlSZWFjdFNldFByb2plY3RGaWxlcyA9IHNldFByb2plY3RGaWxlcztcbiAgd2luZG93LnhyYXlSZWFjdFNldE1vZGUgPSBzZXRNb2RlO1xufVxuXG5lbmFibGVYcmF5UmVhY3QoKTtcbiJdLCJuYW1lcyI6WyJjb25zdGFudHMueHJheVJlYWN0RWxlbUNOIiwiY29uc3RhbnRzLnpJbmRleCIsImNvbnN0YW50cy5IVE1MX0VMRU1FTlRTIiwiY29uc3RhbnRzLnhyYXlSZWFjdENvbXBQYXRoQXR0ciIsImNvbnN0YW50cy54cmF5UmVhY3RGaWx0ZXJlZENvbXBQYXRoQXR0ciIsImNvbnN0YW50cy54cmF5UmVhY3RXcmFwcGVyQ04iXSwibWFwcGluZ3MiOiI7OztFQUFPLE1BQU0sZUFBZSxHQUFHLG9CQUFvQjtFQUM1QyxNQUFNLGtCQUFrQixHQUFHLDZCQUE2QjtFQUN4RCxNQUFNLHFCQUFxQixHQUFHLGlDQUFpQztFQUMvRCxNQUFNLDZCQUE2QixHQUFHLDBDQUEwQztFQUNoRixNQUFNLE1BQU0sR0FBRyxLQUFLOztFQUVwQixNQUFNLFlBQVksR0FBRyxNQUFNO0VBQzNCLE1BQU0sY0FBYyxHQUFHLFFBQVE7RUFDL0IsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLFlBQVksRUFBRSxjQUFjLENBQUM7O0VBRXpELE1BQU0sYUFBYSxHQUFHLElBQUksR0FBRyxDQUFDO0VBQ3JDLEVBQUUsS0FBSztFQUNQLEVBQUUsTUFBTTtFQUNSLEVBQUUsTUFBTTtFQUNSLEVBQUUsUUFBUTtFQUNWLEVBQUUsT0FBTztFQUNULEVBQUUsR0FBRztFQUNMLEVBQUUsS0FBSztFQUNQLEVBQUUsR0FBRztFQUNMLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsT0FBTztFQUNULEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsT0FBTztFQUNULEVBQUUsT0FBTztFQUNULEVBQUUsT0FBTztFQUNULEVBQUUsU0FBUztFQUNYLEVBQUUsU0FBUztFQUNYLEVBQUUsUUFBUTtFQUNWLEVBQUUsUUFBUTtFQUNWLEVBQUUsS0FBSztFQUNQLEVBQUUsTUFBTTtFQUNSLEVBQUUsT0FBTztFQUNULEVBQUUsT0FBTztFQUNULEVBQUUsUUFBUTtFQUNWLEVBQUUsUUFBUTtFQUNWLEVBQUUsVUFBVTtFQUNaLEVBQUUsVUFBVTtFQUNaLEVBQUUsUUFBUTtFQUNWLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsUUFBUTtFQUNWLEVBQUUsSUFBSTtFQUNOLEVBQUUsR0FBRztFQUNMLEVBQUUsR0FBRztFQUNMLEVBQUUsR0FBRztFQUNMLEVBQUUsT0FBTztFQUNULEVBQUUsS0FBSztFQUNQLEVBQUUsS0FBSztFQUNQLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsSUFBSTtFQUNOLEVBQUUsS0FBSztFQUNQLEVBQUUsTUFBTTtFQUNSLEVBQUUsWUFBWTtFQUNkLEVBQUUsTUFBTTtFQUNSLEVBQUUsUUFBUTtFQUNWLEVBQUUsS0FBSztFQUNQLEVBQUUsTUFBTTtFQUNSLEVBQUUsUUFBUTtFQUNWLEVBQUUsTUFBTTtFQUNSLEVBQUUsTUFBTTtFQUNSLEVBQUUsVUFBVTtFQUNaLEVBQUUsU0FBUztFQUNYLEVBQUUsUUFBUTtFQUNWLEVBQUUsT0FBTztFQUNULEVBQUUsUUFBUTtFQUNWLEVBQUUsT0FBTztFQUNULEVBQUUsT0FBTztFQUNULEVBQUUsUUFBUTtFQUNWLEVBQUUsT0FBTztFQUNULEVBQUUsTUFBTTtFQUNSLEVBQUUsTUFBTTtFQUNSLEVBQUUsT0FBTztFQUNULEVBQUUsUUFBUTtFQUNWLEVBQUUsVUFBVTtFQUNaLEVBQUUsVUFBVTtFQUNaLENBQUMsQ0FBQzs7QUN0RkYsWUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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
