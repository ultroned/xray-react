(function () {
  'use strict';

  const xrayReactElemCN = 'xray-react-element';
  const xrayReactWrapperCN = 'xray-react-elements-wrapper';
  const xrayReactCompPathAttr = 'data-xray-react-components-path';
  const xrayReactFilteredCompPathAttr = 'data-xray-react-filtered-components-path';
  const zIndex = 10000;

  const UI_MODE_FULL = 'full';
  const UI_MODE_SIMPLE = 'simple';
  const AVAILABLE_UI_MODES = [UI_MODE_FULL, UI_MODE_SIMPLE];

  const HTML_ELEMENTS = new Set([
    'div', 'span', 'form', 'button', 'input', 'a', 'img', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',
    'ul', 'li', 'ol', 'table', 'tr', 'td', 'th', 'thead', 'tbody', 'tfoot',
    'section', 'article', 'header', 'footer', 'nav', 'main', 'aside',
    'label', 'select', 'option', 'textarea', 'fieldset', 'legend',
    'br', 'hr', 'strong', 'em', 'b', 'i', 'u', 'small', 'sub', 'sup',
    'dl', 'dt', 'dd', 'pre', 'code', 'blockquote', 'cite',
    'canvas', 'svg', 'path', 'circle', 'rect', 'line', 'polyline', 'polygon',
    'iframe', 'embed', 'object', 'video', 'audio', 'source', 'track',
    'meta', 'link', 'style', 'script', 'noscript', 'template'
  ]);

  var css = `
  .xray-react-enabled {
    margin-bottom: 50px !important;
  }
  .xray-react-elements-wrapper {
    bottom: 0;
    font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-style: normal;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    min-height: 100vh;
    height: 100%;
  }
  html.xray-react-enabled,
  html.xray-react-enabled body {
    height: 100%;
  }
  .xray-react-element {
    background-color: rgba(0, 0, 255, 0.25);
    border: 2px solid blue;
    cursor: pointer;
    position: absolute;
  }
  .xray-react-element::before {
    align-self: center;
    color: white;
    content: attr(data-xray-react-element-name);
    display: table;
    font-size: 18px;
    font-weight: 400;
    left: 50%;
    position: absolute;
    right: 0;
    text-align: center;
    top: 50%;
    transform: translate(-50%, -50%);
  }
  .xray-react-element::after {
    background-color: darkblue;
    color: white;
    content: attr(data-xray-react-element-name);
    display: inline-block;
    font-size: 10px;
    left: 0;
    padding: 0 5px;
    position: absolute;
    top: 0;
  }
  .xray-react-element:hover,
  .xray-react-element.-highlighted {
    background-color: rgba(0, 0, 255, 0.75);
    border-color: cyan;
  }
  .xray-react-element:hover::before,
  .xray-react-element.-highlighted::before {
    color: cyan;
  }
  .xray-react-element:hover::after,
  .xray-react-element.-highlighted::after {
    background-color: cyan;
    color: darkblue;
  }
  .xray-react-element.-highlighted {
    z-index: 99999 !important;
  }
  .xray-react-action-bar {
    align-items: center;
    background-color: darkblue;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-height: 100px;
    min-height: 50px;
    overflow-y: auto;
    padding: 0 10px;
    position: fixed;
    width: 100vw;
    z-index: 999999;
  }
  .xray-react-action-bar::-webkit-scrollbar {
    width: 8px;
  }
  .xray-react-action-bar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
  }
  .xray-react-action-bar::-webkit-scrollbar-thumb {
    background: cyan;
    border-radius: 4px;
  }
  .xray-react-action-bar::-webkit-scrollbar-thumb:hover {
    background: #00ffff;
  }
  .xray-react-actions-wrapper {
    align-items: center;
    display: flex;
    font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-style: normal;
    min-height: 50px;
    padding: 5px 0;
    position: sticky;
    top: 0;
    width: 100%;
  }
  .search-wrapper {
    position: relative;
    align-self: center;
    flex-shrink: 0;
    margin-right: 15px;
    min-width: 200px;
    width: 25%;
  }
  #search-component {
    background-color: lightgray;
    border-radius: 3px;
    border: 0;
    font-size: 14px;
    height: 30px;
    line-height: 20px;
    outline: 0;
    padding: 5px 30px 5px 10px;
    width: 100%;
    box-sizing: border-box;
  }
  .search-clear {
    position: absolute;
    right: 4px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #666;
    opacity: 0.6;
    transition: opacity 0.2s;
  }
  .search-clear:hover {
    opacity: 1;
  }
  .components-path {
    color: cyan;
    flex: 1;
    font-size: 11px;
    line-height: 1.4;
    min-width: 0;
    overflow-x: auto;
    overflow-y: visible;
    white-space: nowrap;
    word-break: keep-all;
  }
  .components-path::-webkit-scrollbar {
    height: 4px;
  }
  .components-path::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
  }
  .components-path::-webkit-scrollbar-thumb {
    background: cyan;
    border-radius: 2px;
  }
  .components-path::-webkit-scrollbar-thumb:hover {
    background: #00ffff;
  }
  .xray-react-element-temp {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  .xray-react-element-temp::before {
    display: none !important;
  }
  .xray-react-element-temp::after {
    display: none !important;
  }
  .xray-react-spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(0, 255, 255, 0.3);
    border-top-color: cyan;
    border-radius: 50%;
    animation: xray-react-spin 1s linear infinite;
    position: relative;
    z-index: 1;
  }
  @keyframes xray-react-spin {
    to { transform: rotate(360deg); }
  }
  .xray-react-elements-wrapper.-simple-mode .xray-react-element {
    opacity: 0;
    pointer-events: auto;
  }
  .xray-react-elements-wrapper.-simple-mode .xray-react-element:hover {
    opacity: 1;
  }
  .xray-react-elements-wrapper.-simple-mode .xray-react-element.-highlighted {
    opacity: 1;
  }
`;

  const actionBar = `
  <div class="xray-react-action-bar">
    <div class="xray-react-actions-wrapper">
      <div class="search-wrapper">
        <input id="search-component" type="text" placeholder="Search component by name..."/>
        <button type="button" class="search-clear" aria-label="Clear search" style="display: none;">
          <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13 1L1 13M1 1L13 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="components-path"></div>
    </div>
  </div>
`;

  const MAX_FIBER_DEPTH = 50; // Prevent infinite loops

  let projectRoot = null;
  let usageMap = {};
  let importMap = {};
  let projectFilePaths = new Set();
  let normalizedProjectFilePaths = new Set();           // Pre-normalized paths for O(1) lookup
  let componentNameToFilesIndex = new Map();            // componentName -> Set<filePath> for O(1) lookup
  const normalizePathCache = new Map();                 // Memoization cache for normalizePath
  let currentMode = UI_MODE_FULL;

  const EXTERNAL_PATTERNS = [
    /node_modules/i,
    /\.next[\/\\]/i,
    /dist[\/\\]/i,
    /build[\/\\]/i,
    /\.git[\/\\]/i,
    /\.cache[\/\\]/i,
    /coverage[\/\\]/i,
  ];

  /**
   * Normalizes a file path for comparison
   * Handles both Unix and Windows paths, relative and absolute
   * Uses memoization cache for repeated calls with same path
   * @param {string} filePath - File path to normalize
   * @returns {string} Normalized path
   */
  const normalizePath = (filePath) => {
    if (!filePath) return '';
    
    const cached = normalizePathCache.get(filePath);
    if (cached !== undefined) return cached;
    
    let normalized = String(filePath).replace(/\\/g, '/');
    normalized = normalized.replace(/^\/+|\/+$/g, '');
    normalized = normalized.toLowerCase();
    
    normalizePathCache.set(filePath, normalized);
    return normalized;
  };

  /**
   * Checks if a file path is external (node_modules, build artifacts, etc.)
   * @param {string} filePath - File path to check
   * @returns {boolean} True if path is external
   */
  const isExternalPath = (filePath) => {
    if (!filePath) return false;
    
    const normalized = normalizePath(filePath);
    
    return EXTERNAL_PATTERNS.some(pattern => pattern.test(normalized));
  };

  /**
   * Detects project root from a file path by finding common base path
   * @param {Array<string>} filePaths - Array of file paths from fibers
   * @returns {string|null} Detected project root or null
   */
  const detectProjectRootFromPaths = (filePaths) => {
    if (!filePaths || filePaths.length === 0) return null;
    
    const projectPaths = filePaths
      .filter(path => path && !isExternalPath(path))
      .map(normalizePath);
    
    if (projectPaths.length === 0) return null;
    
    const pathParts = projectPaths.map(path => path.split('/'));
    const minLength = Math.min(...pathParts.map(parts => parts.length));
    
    let commonParts = [];
    for (let i = 0; i < minLength; i++) {
      const part = pathParts[0][i];
      if (pathParts.every(parts => parts[i] === part)) {
        commonParts.push(part);
      } else {
        break;
      }
    }
    
    if (commonParts.length > 0) {
      return '/' + commonParts.join('/');
    }
    
    const firstPath = projectPaths[0];
    const lastSlash = firstPath.lastIndexOf('/');
    if (lastSlash > 0) {
      return '/' + firstPath.substring(0, lastSlash);
    }
    
    return null;
  };

  /**
   * Removes consecutive duplicate component names from an array
   * @param {Array<string>} path - Array of component names
   * @returns {Array<string>} Array with consecutive duplicates removed
   */
  const removeConsecutiveDuplicates = (path) => {
    if (path.length === 0) return path;
    
    const result = [path[0]];
    for (let i = 1; i < path.length; i++) {
      if (path[i].toLowerCase() !== path[i - 1].toLowerCase()) {
        result.push(path[i]);
      }
    }
    return result;
  };

  /**
   * Updates the clear button visibility based on input value
   * @param {HTMLInputElement} input - Search input element
   */
  const updateClearButton = (input) => {
    const clearButton = input?.parentElement?.querySelector('.search-clear');
    if (clearButton) {
      clearButton.style.display = input.value.length > 0 ? 'flex' : 'none';
    }
  };

  /**
   * Handles search input changes to highlight matching components
   * @param {Event} event - Input event
   */
  const handleSearchChange = (event) => {
    const input = event.target;
    const value = input.value.toLowerCase();
    const regExp = new RegExp(`^${value}|${value}$`);
    const elements = document.querySelectorAll(`.${xrayReactElemCN}`);
    
    updateClearButton(input);
    
    for (const elem of elements) {
      if (value.length >= 2) {
        const searchName = elem.getAttribute('data-xray-react-element-search-name');
        if (searchName && searchName.match(regExp)) {
      elem.classList.add('-highlighted');
        } else {
          elem.classList.remove('-highlighted');
        }
      } else {
        elem.classList.remove('-highlighted');
      }
    }
  };

  /**
   * Handles clear button click to reset search
   * @param {Event} event - Click event
   */
  const handleSearchClear = (event) => {
    const input = document.getElementById('search-component');
    if (input) {
      input.value = '';
      input.focus();
      updateClearButton(input);
      const elements = document.querySelectorAll(`.${xrayReactElemCN}`);
      elements.forEach(elem => elem.classList.remove('-highlighted'));
    }
  };

  /**
   * Gets the current mode from window or defaults to UI_MODE_FULL
   * @returns {string} Current mode (UI_MODE_FULL or UI_MODE_SIMPLE)
   */
  const getCurrentMode = () => {
    if (typeof window !== 'undefined' && window.__XRAY_REACT_MODE__) {
      const mode = window.__XRAY_REACT_MODE__;
      return AVAILABLE_UI_MODES.includes(mode) ? mode : UI_MODE_FULL;
    }
    return UI_MODE_FULL;
  };

  /**
   * Sets the current mode
   * @param {string} mode - Mode to set (UI_MODE_FULL or UI_MODE_SIMPLE)
   */
  const setMode = (mode) => {
    currentMode = AVAILABLE_UI_MODES.includes(mode) ? mode : UI_MODE_FULL;
    if (typeof window !== 'undefined') {
      window.__XRAY_REACT_MODE__ = currentMode;
    }
  };

  /**
   * Creates an overlay element for a React component
   * @param {HTMLElement} elem - The DOM element
   * @param {string} componentName - Name of the React component
   * @returns {Object} Object containing original element and overlay element
   */
  const createElemForComponent = (elem, componentName) => {
    const xrayReactElem = document.createElement('div');
    const boundingClientRect = elem.getBoundingClientRect();
    
    xrayReactElem.className = xrayReactElemCN;
    xrayReactElem.setAttribute('data-xray-react-element-name', componentName);
    xrayReactElem.setAttribute('data-xray-react-element-search-name', componentName.toLowerCase());
    xrayReactElem.style.height = `${boundingClientRect.height}px`;
    xrayReactElem.style.width = `${boundingClientRect.width}px`;
    xrayReactElem.style.top = `${boundingClientRect.top + window.scrollY}px`;
    xrayReactElem.style.left = `${boundingClientRect.left + window.scrollX}px`;
    xrayReactElem.style.zIndex = zIndex;
    
    return { elem, xrayReactElem };
  };

  /**
   * Checks if a name is an HTML element
   * @param {string} name - Component or element name
   * @returns {boolean} True if it's an HTML element
   */
  const isHTMLElement = (name) => {
    if (!name || typeof name !== 'string') return false;
    return HTML_ELEMENTS.has(name.toLowerCase());
  };

  /**
   * Resolves component name from element type and fiber
   * Handles function components, class components, forwardRef, memo, etc.
   * @param {*} elementType - React element type
   * @param {Object} fiber - React fiber node
   * @returns {string|null} Component name or null
   */
  const resolveComponentName = (elementType, fiber = null) => {
    if (!elementType) return null;

    if (typeof elementType === 'function') {
      if (elementType.displayName) {
        return elementType.displayName;
      }
      
      if (elementType.name && elementType.name !== 'Anonymous') {
        return elementType.name;
      }
      
      if (elementType.render) {
        return resolveComponentName(elementType.render, fiber);
      }
      
      if (elementType.$$typeof && elementType.type) {
        return resolveComponentName(elementType.type, fiber);
      }
    }
    
    if (typeof elementType === 'string') {
      return elementType;
    }
    
    if (elementType && elementType.$$typeof) {
      if (elementType.type) {
        return resolveComponentName(elementType.type, fiber);
      }
    }
    
    if (fiber && fiber._debugSource) {
      const fileName = fiber._debugSource.fileName;
      if (fileName) {
        const match = fileName.match(/([^/\\]+)\.(jsx?|tsx?)$/);
        if (match) {
          return match[1];
        }
      }
    }
    
    return null;
  };

  /**
   * Checks if a component belongs to the project based on its source file path
   * @param {Object} fiber - React fiber node
   * @param {string} projectRootPath - Project root path for comparison
   * @param {string} componentName - Optional component name to check against project files
   * @returns {boolean} True if component belongs to project
   */
  const isProjectComponent = (fiber, projectRootPath, componentName = null) => {
    if (!projectRootPath) {
      return true;
    }

    const filePath = fiber?._debugSource?.fileName;

    if (filePath) {
      if (isExternalPath(filePath)) {
        return false;
      }
      
      const normalizedFilePath = normalizePath(filePath);
      const normalizedProjectRoot = normalizePath(projectRootPath);
      
      if (normalizedFilePath.startsWith(normalizedProjectRoot)) {
        return true;
      }
      
      if (!normalizedFilePath.includes('node_modules') && 
          !normalizedFilePath.startsWith('/') &&
          !normalizedFilePath.match(/^[a-z]:/i)) {
        return true;
      }
      
      return false;
    }
    
    if (componentName) {
      const normalizedComponentName = componentName.toLowerCase();
      // O(1) lookup using pre-built index instead of O(m) loop through all files
      if (componentNameToFilesIndex.has(normalizedComponentName)) {
        return true;
      }
    }
    
    return false;
  };

  /**
   * Sets the project root path for filtering
   * @param {string} rootPath - Project root path
   */
  const setProjectRoot = (rootPath) => {
    projectRoot = rootPath ? normalizePath(rootPath) : null;
    
    if (typeof window !== 'undefined' && window.__XRAY_REACT_PROJECT_ROOT__ && !projectRoot) {
      projectRoot = normalizePath(window.__XRAY_REACT_PROJECT_ROOT__);
    }
  };

  /**
   * Sets the usage map for filtering external components
   * @param {Object} map - Usage map (file path -> Array of component names)
   */
  const setUsageMap = (map) => {
    usageMap = map || {};
    
    if (typeof window !== 'undefined' && window.__XRAY_REACT_USAGE_MAP__ && Object.keys(usageMap).length === 0) {
      usageMap = window.__XRAY_REACT_USAGE_MAP__;
    }
    
    if (projectFilePaths.size === 0) {
      projectFilePaths = new Set(Object.keys(usageMap || {}));
    } else {
      Object.keys(usageMap || {}).forEach(filePath => projectFilePaths.add(filePath));
    }
  };

  /**
   * Sets the import map for filtering external components (fallback)
   * @param {Object} map - Import map (file path -> Array of component names)
   */
  const setImportMap = (map) => {
    importMap = map || {};
    
    if (typeof window !== 'undefined' && window.__XRAY_REACT_IMPORT_MAP__ && Object.keys(importMap).length === 0) {
      importMap = window.__XRAY_REACT_IMPORT_MAP__;
    }
    
    Object.keys(importMap || {}).forEach(filePath => projectFilePaths.add(filePath));
  };

  /**
   * Sets the list of all project files found in sourcePath folders
   * @param {Array<string>} files - Array of all file paths found in sourcePath
   */
  const setProjectFiles = (files) => {
    let fileList = files || [];
    
    if (typeof window !== 'undefined' && window.__XRAY_REACT_PROJECT_FILES__ && fileList.length === 0) {
      const globalFiles = window.__XRAY_REACT_PROJECT_FILES__;
      if (Array.isArray(globalFiles)) {
        fileList = [...globalFiles];
      }
    }
    
    projectFilePaths = new Set(fileList);
    
    // Pre-compute normalized paths and component name index for O(1) lookups
    normalizedProjectFilePaths.clear();
    componentNameToFilesIndex.clear();
    
    for (const filePath of fileList) {
      const normalized = normalizePath(filePath);
      normalizedProjectFilePaths.add(normalized);
      
      const pathParts = normalized.split('/');
      const filename = pathParts[pathParts.length - 1] || '';
      const filenameWithoutExt = filename.replace(/\.(tsx?|jsx?)$/, '');
      
      if (filenameWithoutExt) {
        if (!componentNameToFilesIndex.has(filenameWithoutExt)) {
          componentNameToFilesIndex.set(filenameWithoutExt, new Set());
        }
        componentNameToFilesIndex.get(filenameWithoutExt).add(filePath);
      }
      
      for (const part of pathParts.slice(0, -1)) {
        if (part && part.length > 1) {
          if (!componentNameToFilesIndex.has(part)) {
            componentNameToFilesIndex.set(part, new Set());
          }
          componentNameToFilesIndex.get(part).add(filePath);
        }
      }
    }
  };

  /**
   * Attempts to detect project root from fiber tree when server is not available
   * Scans DOM for React fibers and extracts file paths to infer project root
   */
  const detectProjectRootFromDOM = () => {
    if (projectRoot) {
      return;
    }
    
    try {
      const filePaths = [];
      const maxSamples = 50; // Limit samples for performance
      let samples = 0;
      
      const walker = document.createTreeWalker(
        document.body,
        NodeFilter.SHOW_ELEMENT,
        null,
        false
      );
      
      let node;
      while ((node = walker.nextNode()) && samples < maxSamples) {
        const fiberKey = Object.keys(node).find(key =>
          key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$')
        );
        
        if (fiberKey) {
          const fiber = node[fiberKey];
          let currentFiber = fiber;
          let depth = 0;
          
          while (currentFiber && depth < 10) {
            if (currentFiber._debugSource && currentFiber._debugSource.fileName) {
              const filePath = currentFiber._debugSource.fileName;
              if (!isExternalPath(filePath)) {
                filePaths.push(filePath);
              }
            }
            currentFiber = currentFiber.return;
            depth++;
            samples++;
          }
        }
      }
      
      if (filePaths.length > 0) {
        const detectedRoot = detectProjectRootFromPaths(filePaths);
        if (detectedRoot) {
          projectRoot = detectedRoot;
        }
      }
    } catch (error) {
      // Silently fail - project root detection is optional
    }
  };

  /**
   * Checks if an external component is used by any internal component in the seen list
   * Checks usage map first (primary), then import map (fallback)
   * @param {string} componentName - External component name to check
   * @param {Array} seenInternalComponents - Array of internal components seen so far in path
   * @returns {boolean} True if component is used by any seen internal component
   */
  const isUsedByInternalComponents = (componentName, seenInternalComponents) => {
    if (!componentName || seenInternalComponents.length === 0) {
      return false;
    }
    
    if (Object.keys(usageMap).length === 0 && Object.keys(importMap).length === 0) {
      return true;
    }
    
    for (const internalComp of seenInternalComponents) {
      const filePath = internalComp.file;
      if (!filePath) continue;
      
      if (usageMap[filePath] && Array.isArray(usageMap[filePath])) {
        if (usageMap[filePath].includes(componentName)) {
          return true;
        }
      }
      
      if (importMap[filePath] && Array.isArray(importMap[filePath])) {
        if (importMap[filePath].includes(componentName)) {
          return true;
        }
      }
    }
    
    return false;
  };

  /**
   * Traverses the fiber tree to find React components, skipping HTML elements
   * Filters out external library components based on usage/import maps
   * @param {Object} fiber - Starting fiber node
   * @param {number} maxDepth - Maximum depth to traverse
   * @returns {Array} Array of component information objects
   */
  const traverseFiberTree = (fiber, maxDepth = MAX_FIBER_DEPTH) => {
    const allComponents = [];
    const internalComponents = [];
    let currentFiber = fiber;
    let depth = 0;
    // Performance improvements
    const visited = new Set();
    
    while (currentFiber && depth < maxDepth) {
      if (visited.has(currentFiber)) {
        break;
      }
      visited.add(currentFiber);
      
      const elementType = currentFiber.elementType || currentFiber.type;
      
      if (elementType) {
        const componentName = resolveComponentName(elementType, currentFiber);
        
        if (componentName) {
          if (!isHTMLElement(componentName)) {
            const isInternal = isProjectComponent(currentFiber, projectRoot, componentName);
            
            let filePath = null;
            if (currentFiber._debugSource && currentFiber._debugSource.fileName) {
              filePath = currentFiber._debugSource.fileName;
            }
            
            allComponents.push({
              name: componentName,
              fiber: currentFiber,
              elementType: elementType,
              depth: depth,
              isInternal: isInternal,
              file: filePath
            });
            
            if (isInternal) {
              internalComponents.push({
                name: componentName,
                file: filePath
              });
            }
          }
        }
      }
      
      currentFiber = currentFiber.return || currentFiber._owner;
      depth++;
    }
    
    const filteredComponents = [];
    for (const comp of allComponents) {
      if (comp.isInternal) {
        filteredComponents.push({
          name: comp.name,
          fiber: comp.fiber,
          elementType: comp.elementType,
          depth: comp.depth,
          file: comp.file,
          isInternal: comp.isInternal
        });
      } else {
        if (isUsedByInternalComponents(comp.name, internalComponents)) {
          filteredComponents.push({
            name: comp.name,
            fiber: comp.fiber,
            elementType: comp.elementType,
            depth: comp.depth,
            file: comp.file,
            isInternal: comp.isInternal
          });
        }
      }
    }
    
    return filteredComponents;
  };

  /**
   * Gets React component information from a DOM element using React DevTools protocol
   * Supports React 18+ and falls back to legacy detection for older versions
   * Enhanced to skip HTML elements and find actual React components
   * @param {HTMLElement} elem - The DOM element
   * @returns {Object} Object with component name and optional uid
   */
  const getComponentObj = (elem) => {
    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {
      try {
        const fiberKey = Object.keys(elem).find(key => 
          key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$')
        );
        
        if (fiberKey) {
          const fiber = elem[fiberKey];
          const components = traverseFiberTree(fiber);
          
          if (components.length > 0) {
            const firstComponent = components[0];
            const uid = firstComponent.fiber._debugID || 
                       `${firstComponent.fiber.index || ''}${firstComponent.fiber.key || ''}`;
            const reversedHierarchy = components.reverse().map(c => c.name);
            return { 
              name: firstComponent.name, 
              uid,
              hierarchy: reversedHierarchy
            };
          }
        }
      } catch (error) {
        // Silently fall back to legacy detection
      }
    }
    
    for (const key of Object.keys(elem)) {
      if (key.startsWith('__reactInternalInstance$')) {
        const fiberNode = elem[key];
        if (fiberNode) {
          try {
            const components = traverseFiberTree(fiberNode);
            if (components.length > 0) {
              const firstComponent = components[0];
              const reversedHierarchy = components.reverse().map(c => c.name);
              return { 
                name: firstComponent.name,
                uid: `${fiberNode._mountIndex || ''}${fiberNode._mountOrder || ''}`,
                hierarchy: reversedHierarchy
              };
            }
          } catch (error) {
            // Continue to old legacy detection
          }
        }
        
        if (fiberNode && fiberNode._currentElement) {
          const owner = fiberNode._currentElement._owner;
          const fiber = owner && owner._instance;
          if (fiber) {
            const componentName = fiber.constructor.name;
            if (!isHTMLElement(componentName)) {
              return { 
                name: componentName, 
                uid: `${owner._mountIndex || ''}${owner._mountOrder || ''}` 
              };
            }
          }
        } else if (fiberNode) {
          const fiber = fiberNode.return?.stateNode?._reactInternalFiber;
          if (fiber) {
            const componentName = fiber.type?.name || 'Unknown';
            if (componentName !== 'Unknown' && !isHTMLElement(componentName)) {
              return { name: componentName };
            }
          }
        }
      }
    }
    
    const tagName = elem.tagName?.toLowerCase();
    if (tagName && isHTMLElement(tagName)) {
      return { name: tagName };
    }
    
    return {};
  };

  /**
   * Creates a cached function for searching and creating component overlays
   * @returns {Function} Function that creates overlay elements for components
   */
  const searchAndCreateComponentCached = () => {
    // Performance improvements
    const uids = new Set();
    return (elem) => {
      const { name, uid } = getComponentObj(elem);
      
      if (name && name !== 'Unknown') {
        if (uid) {
          if (!uids.has(uid)) {
            uids.add(uid);
            return createElemForComponent(elem, name);
          }
        } else {
          return createElemForComponent(elem, name);
        }
      }
      return null;
    };
  };

  /**
   * Extracts component objects from React fiber tree
   * @param {HTMLElement} elem - DOM element to extract components from
   * @returns {Array} Array of component objects from fiber tree
   */
  const getComponentsFromElement = (elem) => {
    let components = [];
    
    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {
      try {
        const fiberKey = Object.keys(elem).find(key => 
          key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$')
        );
        
        if (fiberKey) {
          const fiber = elem[fiberKey];
          components = traverseFiberTree(fiber);
          // Reverse to get parent -> child order (traversal goes child -> parent)
          components = components.reverse();
        }
      } catch (error) {
        // Silently fall back to legacy detection
      }
    }
    
    if (components.length === 0) {
      for (const key of Object.keys(elem)) {
        if (key.startsWith('__reactInternalInstance$')) {
          const fiberNode = elem[key];
          if (fiberNode) {
            try {
              components = traverseFiberTree(fiberNode);
              // Reverse to get parent -> child order
              components = components.reverse();
              break;
            } catch (error) {
              // Silently continue to next detection method
            }
          }
        }
      }
    }
    
    return components;
  };

  /**
   * Gets component path from DOM traversal (fallback method)
   * @param {HTMLElement} elem - DOM element to start traversal from
   * @returns {Array} Array of component names from DOM traversal
   */
  const getDomPath = (elem) => {
    let currentElem = elem;
    const domPath = [];
    const seenComponentNames = new Set();
    
    while (currentElem && currentElem.parentNode && domPath.length < 20) {
      currentElem = currentElem.parentNode;
      const { name: component } = getComponentObj(currentElem);
      if (component && component !== 'Unknown' && !isHTMLElement(component)) {
        const normalizedName = component.toLowerCase();
        if (!seenComponentNames.has(normalizedName)) {
          seenComponentNames.add(normalizedName);
          domPath.unshift(component);
        }
      }
    }
    
    return domPath;
  };

  /**
   * Builds full component structure path (includes all components)
   * @param {Array} components - Component objects from fiber tree
   * @param {string} currentComponentName - Name of current component
   * @param {HTMLElement} elem - Original DOM element for fallback
   * @returns {string} Full component path structure
   */
  const buildFullStructure = (components, currentComponentName, elem) => {
    if (components.length > 0) {
      const filteredComponents = components.filter(comp => 
        comp.name !== currentComponentName && !isHTMLElement(comp.name)
      );
      
      if (filteredComponents.length > 0) {
        const fullPath = filteredComponents.map(comp => comp.name);
        return [...fullPath, currentComponentName].join(' -> ');
      }
      
      return currentComponentName;
    }
    
    const domPath = getDomPath(elem);
    
    if (domPath.length > 0) {
      return [...domPath, currentComponentName].join(' -> ');
    }
    
    return currentComponentName;
  };

  /**
   * Builds filtered component structure path (only project-owned components)
   * @param {Array} components - Component objects from fiber tree
   * @param {string} currentComponentName - Name of current component
   * @param {HTMLElement} elem - Original DOM element for fallback
   * @returns {string} Filtered component path structure
   */
  const buildFilteredStructure = (components, currentComponentName, elem) => {
    if (components.length > 0) {
      const filteredComponents = components.filter(comp => 
        comp.name !== currentComponentName && !isHTMLElement(comp.name)
      );
      
      const seenComponents = new Set();
      const projectOwnedComponents = [];
      
      for (const comp of filteredComponents) {
        if (!comp.isInternal) {
          continue;
        }

        const normalizedName = comp.name.toLowerCase();
        
        if (comp.file) {
          const normalizedFile = comp.file.toLowerCase();
          const pathParts = normalizedFile.split(/[\/\\]/);
          const filename = pathParts[pathParts.length - 1];
          const filenameWithoutExt = filename.replace(/\.(tsx?|jsx?)$/, '');

          const nameMatchesFile = normalizedFile.includes(`/${normalizedName}`) || 
                                  normalizedFile.includes(`\\${normalizedName}`) ||
                                  normalizedFile.endsWith(`/${normalizedName}.tsx`) ||
                                  normalizedFile.endsWith(`/${normalizedName}.ts`) ||
                                  normalizedFile.endsWith(`/${normalizedName}.jsx`) ||
                                  normalizedFile.endsWith(`/${normalizedName}.js`) ||
                                  normalizedFile.endsWith(`\\${normalizedName}.tsx`) ||
                                  normalizedFile.endsWith(`\\${normalizedName}.ts`) ||
                                  normalizedFile.endsWith(`\\${normalizedName}.jsx`) ||
                                  normalizedFile.endsWith(`\\${normalizedName}.js`) ||
                                  filenameWithoutExt === normalizedName;
          
          // O(1) lookup using pre-built index instead of O(m) spread + some + includes
          const inProjectFilePaths = componentNameToFilesIndex.has(normalizedName);

          if (!nameMatchesFile && !inProjectFilePaths) {
            continue;
          }
          
          // Deduplicate by component identity: use normalized name + normalized file path as unique key
          // This ensures that:
          // 1. The same component (same name, same file) appearing multiple times is only shown once
          //    (e.g., WebAppLayout -> WebAppLayout -> WebAppLayout)
          // 2. Different components with the same name but different files are both shown
          //    (e.g., components_left/Parent.jsx vs components_right/Parent.jsx)
          const normalizedFilePath = normalizePath(comp.file);
          const componentKey = `${normalizedName}:${normalizedFilePath}`;
          
          if (seenComponents.has(componentKey)) {
            continue;
          }
          
          seenComponents.add(componentKey);
          projectOwnedComponents.push(comp);
        } else {
          const componentKey = normalizedName;
          
          if (seenComponents.has(componentKey)) {
            continue;
          }

          seenComponents.add(componentKey);
          projectOwnedComponents.push(comp);
        }
      }

      if (projectOwnedComponents.length > 0) {
        const filteredPath = projectOwnedComponents.map(comp => comp.name);
        const currentNameLower = currentComponentName.toLowerCase();
        const pathContainsCurrent = filteredPath.some(name => name.toLowerCase() === currentNameLower);
        
        let finalPath;
        if (!pathContainsCurrent) {
          finalPath = [...filteredPath, currentComponentName];
        } else {
          finalPath = filteredPath;
        }
        
        // Remove consecutive duplicates of the same components before joining
        finalPath = removeConsecutiveDuplicates(finalPath);
        return finalPath.join(' -> ');
      }
      
      return currentComponentName;
    }
    
    const domPath = getDomPath(elem);
    
    if (domPath.length > 0) {
      const currentNameLower = currentComponentName.toLowerCase();
      const pathContainsCurrent = domPath.some(name => name.toLowerCase() === currentNameLower);
      
      let finalPath;
      if (!pathContainsCurrent) {
        finalPath = [...domPath, currentComponentName];
      } else {
        finalPath = domPath;
      }
      
      // Remove consecutive duplicates of the same components before joining
      finalPath = removeConsecutiveDuplicates(finalPath);
      return finalPath.join(' -> ');
    }
    
    return currentComponentName;
  };

  /**
   * Adds the absolute component path to an overlay element
   * Uses fiber-based hierarchy for accurate React component paths
   * @param {HTMLElement} elem - Original DOM element
   * @param {HTMLElement} xrayReactElem - Overlay element
   */
  const addAbsoluteComponentPath = (elem, xrayReactElem) => {
    const currentComponentName = xrayReactElem.getAttribute('data-xray-react-element-name') || '';
    
    const components = getComponentsFromElement(elem);
    
    const fullStructure = buildFullStructure(components, currentComponentName, elem);
    const filteredStructure = buildFilteredStructure(components, currentComponentName, elem);
    
    xrayReactElem.setAttribute(xrayReactCompPathAttr, fullStructure);
    xrayReactElem.setAttribute(xrayReactFilteredCompPathAttr, filteredStructure);
  };

  /**
   * Handles mouseover events on overlay elements
   * @param {Event} event - Mouseover event
   */
  const onXrayReactMouseover = (event) => {
    const { target } = event;
    if (target.classList.contains(xrayReactElemCN)) {
      const componentsPath = target.getAttribute(xrayReactFilteredCompPathAttr) || 
                             target.getAttribute(xrayReactCompPathAttr) || '';
      const pathElement = document.querySelector('.xray-react-actions-wrapper .components-path');
      if (pathElement) {
        pathElement.innerHTML = componentsPath;
      }
    }
  };


  /**
   * Toggles the xray-react overlay on/off
   */
  const toggleXrayReact = () => {
    const body = document.body;
    
    if (body.classList.contains('xray-react-enabled')) {
      body.classList.remove('xray-react-enabled');
      const xrayReactElementsWrapper = document.querySelector(`.${xrayReactWrapperCN}`);
      const xrayReactActionBar = document.querySelector('.xray-react-action-bar');
      const xrayReactStyleTag = document.querySelector('.xray-react-style-tag');
      const tempElements = document.querySelectorAll('.xray-react-element-temp');
      
      if (xrayReactActionBar) {
        xrayReactActionBar.classList.remove('-simple-mode');
      }
      if (xrayReactElementsWrapper) {
        if (xrayReactElementsWrapper._heightObserver) {
          xrayReactElementsWrapper._heightObserver.disconnect();
        }
        if (xrayReactElementsWrapper._heightUpdate) {
          window.removeEventListener('resize', xrayReactElementsWrapper._heightUpdate);
        }
        xrayReactElementsWrapper.remove();
      }
      if (xrayReactActionBar) xrayReactActionBar.remove();
      if (xrayReactStyleTag) xrayReactStyleTag.remove();
      tempElements.forEach(el => el.remove());
      
      body.removeEventListener('mouseover', onXrayReactMouseover);
    } else {
      body.classList.add('xray-react-enabled');

      currentMode = getCurrentMode();

      let styleElement = document.querySelector('.xray-react-style-tag');
      if (!styleElement) {
        styleElement = document.createElement('style');
        styleElement.className = 'xray-react-style-tag';
        styleElement.textContent = css;
        document.head.appendChild(styleElement);
      }
      
      const existingActionBar = document.querySelector('.xray-react-action-bar');
      if (!existingActionBar) {
        body.insertAdjacentHTML('beforeend', actionBar);
      } else {
        const existingClearButton = existingActionBar.querySelector('.search-clear');
        if (existingClearButton && !existingClearButton.hasAttribute('data-listener-attached')) {
          existingClearButton.setAttribute('data-listener-attached', 'true');
          existingClearButton.addEventListener('click', handleSearchClear);
        }
      }
      if (currentMode === UI_MODE_SIMPLE && existingActionBar) {
        existingActionBar.classList.add('-simple-mode');
      } else if (currentMode === UI_MODE_SIMPLE && !existingActionBar) {
        setTimeout(() => {
          const actionBar = document.querySelector('.xray-react-action-bar');
          if (actionBar) {
            actionBar.classList.add('-simple-mode');
          }
        }, 0);
      } else if (currentMode !== UI_MODE_SIMPLE && existingActionBar) {
        existingActionBar.classList.remove('-simple-mode');
      }
      const searchInput = document.getElementById('search-component');
      if (searchInput) {
        searchInput.addEventListener('input', handleSearchChange);
        updateClearButton(searchInput);
      }
      const clearButton = document.querySelector('.search-clear');
      if (clearButton && !clearButton.hasAttribute('data-listener-attached')) {
        clearButton.setAttribute('data-listener-attached', 'true');
        clearButton.addEventListener('click', handleSearchClear);
      }
      body.addEventListener('mouseover', onXrayReactMouseover);
      
      const existingWrapper = document.querySelector(`.${xrayReactWrapperCN}`);
      if (existingWrapper) {
        existingWrapper.remove();
      }
      
      const xrayReactElementsWrapper = document.createElement('div');
      xrayReactElementsWrapper.className = xrayReactWrapperCN;
      if (currentMode === UI_MODE_SIMPLE) {
        xrayReactElementsWrapper.classList.add('-simple-mode');
        const updateWrapperHeight = () => {
          const docHeight = Math.max(
            document.body.scrollHeight,
            document.body.offsetHeight,
            document.documentElement.clientHeight,
            document.documentElement.scrollHeight,
            document.documentElement.offsetHeight
          );
          xrayReactElementsWrapper.style.height = `${docHeight}px`;
        };
        updateWrapperHeight();
        window.addEventListener('resize', updateWrapperHeight);
        const observer = new MutationObserver(updateWrapperHeight);
        observer.observe(document.body, { childList: true, subtree: true, attributes: true });
        xrayReactElementsWrapper._heightObserver = observer;
        xrayReactElementsWrapper._heightUpdate = updateWrapperHeight;
      }
      body.append(xrayReactElementsWrapper);
      if (currentMode === UI_MODE_SIMPLE) {
        const actionBar = document.querySelector('.xray-react-action-bar');
        if (actionBar) {
          actionBar.classList.add('-simple-mode');
        }
      }
      const existingLoading = document.querySelectorAll('.xray-react-element-temp');
      existingLoading.forEach(el => el.remove());
      
      const loadingElement = document.createElement('div');
      loadingElement.className = 'xray-react-element xray-react-element-temp';
      loadingElement.style.height = `${window.innerHeight}px`;
      loadingElement.style.width = `${window.innerWidth}px`;
      loadingElement.style.top = `${window.scrollY}px`;
      loadingElement.style.left = `${window.scrollX}px`;
      loadingElement.style.zIndex = '10000';
      loadingElement.innerHTML = '<div class="xray-react-spinner xray-react-element-temp"></div>';
      xrayReactElementsWrapper.appendChild(loadingElement);
      
      // Performance improvements
      const processElementsAsync = () => {
        const xrayReactObjects = [];
        const searchAndCreateComponent = searchAndCreateComponentCached();
        const allElements = Array.from(body.getElementsByTagName('*')).filter(elem => {
          return !elem.classList.contains('xray-react-element-temp') &&
                 !elem.closest('.xray-react-action-bar') &&
                 !elem.closest(`.${xrayReactWrapperCN}`);
        });
        const batchSize = 20;
        let index = 0;
        
        const processBatch = () => {
          const endIndex = Math.min(index + batchSize, allElements.length);
          
          for (let i = index; i < endIndex; i++) {
            const elem = allElements[i];
            const xrayReactObj = searchAndCreateComponent(elem);
            if (xrayReactObj) {
              xrayReactObjects.push(xrayReactObj);
            }
          }
          
          index = endIndex;
          
          if (index < allElements.length) {
            setTimeout(processBatch, 1);
          } else {
            let pathIndex = 0;
            const pathBatchSize = 10;
            
            const processPaths = () => {
              const endIndex = Math.min(pathIndex + pathBatchSize, xrayReactObjects.length);
              
              for (let i = pathIndex; i < endIndex; i++) {
                const { elem, xrayReactElem } = xrayReactObjects[i];
                addAbsoluteComponentPath(elem, xrayReactElem);
              }
              
              pathIndex = endIndex;
              
              if (pathIndex < xrayReactObjects.length) {
                setTimeout(processPaths, 1);
              } else {
                const wrapper = document.querySelector(`.${xrayReactWrapperCN}`);
                if (wrapper) {
                  const tempElements = wrapper.querySelectorAll('.xray-react-element-temp');
                  tempElements.forEach(el => el.remove());
                  wrapper.append(...xrayReactObjects.map(obj => obj.xrayReactElem));
                }
              }
            };
            
            setTimeout(processPaths, 1);
          }
        };
        
        setTimeout(processBatch, 1);
      };
      
      processElementsAsync();
    }
  };

  /**
   * Keydown event handler for xray-react shortcuts
   * Matches xray-rails: Cmd+Shift+X (Mac) / Ctrl+Shift+X (Windows/Linux)
   */
  let keydownHandler = null;
  let isHandlerRegistered = false;

  const createKeydownHandler = () => {
    return (event) => {
      if (event.key === 'Escape') {
        const body = document.body;
        if (body && body.classList.contains('xray-react-enabled')) {
          toggleXrayReact();
          event.preventDefault();
        }
        return;
      }
      
      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
      const isMetaOrCtrl = isMac ? event.metaKey : event.ctrlKey;
      const isShift = event.shiftKey;
      const isX = event.key === 'x' || event.key === 'X' || event.keyCode === 88;
      
      if (isMetaOrCtrl && isShift && isX) {
        toggleXrayReact();
        event.preventDefault();
        event.stopPropagation();
      }
    };
  };

  /**
   * Handles keyboard shortcut to toggle xray-react
   * Ensures the listener is only registered once
   */
  const handleXrayReactToggle = () => {
    if (isHandlerRegistered) {
      return;
    }
    
    if (!keydownHandler) {
      keydownHandler = createKeydownHandler();
    }
    
    document.addEventListener('keydown', keydownHandler, true);
    isHandlerRegistered = true;
  };

  /**
   * Enables xray-react functionality
   */
  const enableXrayReact = () => {
    currentMode = getCurrentMode();

    if (!projectRoot) {
      if (typeof window !== 'undefined' && window.__XRAY_REACT_PROJECT_ROOT__) {
        projectRoot = normalizePath(window.__XRAY_REACT_PROJECT_ROOT__);
      } else {
        setTimeout(() => {
          detectProjectRootFromDOM();
        }, 1000);
      }
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', handleXrayReactToggle);
    } else {
      handleXrayReactToggle();
    }
  };

  // Expose functions globally for client bundle to use
  if (typeof window !== 'undefined') {
    window.xrayReactSetProjectRoot = setProjectRoot;
    window.xrayReactSetUsageMap = setUsageMap;
    window.xrayReactSetImportMap = setImportMap;
    window.xrayReactSetProjectFiles = setProjectFiles;
    window.xrayReactSetMode = setMode;
  }

  enableXrayReact();

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieHJheS1yZWFjdC11aS5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb25zdGFudHMuanMiLCIuLi9zcmMvY3NzLmpzIiwiLi4vc3JjL3BhcnRpYWxzLmpzIiwiLi4vc3JjL3VpLXV0aWxzLmpzIiwiLi4vbGliL3hyYXktcmVhY3QtdWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHhyYXlSZWFjdEVsZW1DTiA9ICd4cmF5LXJlYWN0LWVsZW1lbnQnO1xuZXhwb3J0IGNvbnN0IHhyYXlSZWFjdFdyYXBwZXJDTiA9ICd4cmF5LXJlYWN0LWVsZW1lbnRzLXdyYXBwZXInO1xuZXhwb3J0IGNvbnN0IHhyYXlSZWFjdENvbXBQYXRoQXR0ciA9ICdkYXRhLXhyYXktcmVhY3QtY29tcG9uZW50cy1wYXRoJztcbmV4cG9ydCBjb25zdCB4cmF5UmVhY3RGaWx0ZXJlZENvbXBQYXRoQXR0ciA9ICdkYXRhLXhyYXktcmVhY3QtZmlsdGVyZWQtY29tcG9uZW50cy1wYXRoJztcbmV4cG9ydCBjb25zdCB6SW5kZXggPSAxMDAwMDtcblxuZXhwb3J0IGNvbnN0IFVJX01PREVfRlVMTCA9ICdmdWxsJztcbmV4cG9ydCBjb25zdCBVSV9NT0RFX1NJTVBMRSA9ICdzaW1wbGUnO1xuZXhwb3J0IGNvbnN0IEFWQUlMQUJMRV9VSV9NT0RFUyA9IFtVSV9NT0RFX0ZVTEwsIFVJX01PREVfU0lNUExFXTtcblxuZXhwb3J0IGNvbnN0IEhUTUxfRUxFTUVOVFMgPSBuZXcgU2V0KFtcbiAgJ2RpdicsICdzcGFuJywgJ2Zvcm0nLCAnYnV0dG9uJywgJ2lucHV0JywgJ2EnLCAnaW1nJywgJ3AnLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLFxuICAndWwnLCAnbGknLCAnb2wnLCAndGFibGUnLCAndHInLCAndGQnLCAndGgnLCAndGhlYWQnLCAndGJvZHknLCAndGZvb3QnLFxuICAnc2VjdGlvbicsICdhcnRpY2xlJywgJ2hlYWRlcicsICdmb290ZXInLCAnbmF2JywgJ21haW4nLCAnYXNpZGUnLFxuICAnbGFiZWwnLCAnc2VsZWN0JywgJ29wdGlvbicsICd0ZXh0YXJlYScsICdmaWVsZHNldCcsICdsZWdlbmQnLFxuICAnYnInLCAnaHInLCAnc3Ryb25nJywgJ2VtJywgJ2InLCAnaScsICd1JywgJ3NtYWxsJywgJ3N1YicsICdzdXAnLFxuICAnZGwnLCAnZHQnLCAnZGQnLCAncHJlJywgJ2NvZGUnLCAnYmxvY2txdW90ZScsICdjaXRlJyxcbiAgJ2NhbnZhcycsICdzdmcnLCAncGF0aCcsICdjaXJjbGUnLCAncmVjdCcsICdsaW5lJywgJ3BvbHlsaW5lJywgJ3BvbHlnb24nLFxuICAnaWZyYW1lJywgJ2VtYmVkJywgJ29iamVjdCcsICd2aWRlbycsICdhdWRpbycsICdzb3VyY2UnLCAndHJhY2snLFxuICAnbWV0YScsICdsaW5rJywgJ3N0eWxlJywgJ3NjcmlwdCcsICdub3NjcmlwdCcsICd0ZW1wbGF0ZSdcbl0pO1xuIiwiZXhwb3J0IGRlZmF1bHQgYFxuICAueHJheS1yZWFjdC1lbmFibGVkIHtcbiAgICBtYXJnaW4tYm90dG9tOiA1MHB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudHMtd3JhcHBlciB7XG4gICAgYm90dG9tOiAwO1xuICAgIGZvbnQtZmFtaWx5OiBcIlNlZ29lIFVJXCIsIFJvYm90bywgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgbGVmdDogMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDA7XG4gICAgdG9wOiAwO1xuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuICBodG1sLnhyYXktcmVhY3QtZW5hYmxlZCxcbiAgaHRtbC54cmF5LXJlYWN0LWVuYWJsZWQgYm9keSB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMjU1LCAwLjI1KTtcbiAgICBib3JkZXI6IDJweCBzb2xpZCBibHVlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudDo6YmVmb3JlIHtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtbmFtZSk7XG4gICAgZGlzcGxheTogdGFibGU7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgbGVmdDogNTAlO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgdG9wOiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudDo6YWZ0ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtibHVlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBjb250ZW50OiBhdHRyKGRhdGEteHJheS1yZWFjdC1lbGVtZW50LW5hbWUpO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmb250LXNpemU6IDEwcHg7XG4gICAgbGVmdDogMDtcbiAgICBwYWRkaW5nOiAwIDVweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQ6aG92ZXIsXG4gIC54cmF5LXJlYWN0LWVsZW1lbnQuLWhpZ2hsaWdodGVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDI1NSwgMC43NSk7XG4gICAgYm9yZGVyLWNvbG9yOiBjeWFuO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQ6aG92ZXI6OmJlZm9yZSxcbiAgLnhyYXktcmVhY3QtZWxlbWVudC4taGlnaGxpZ2h0ZWQ6OmJlZm9yZSB7XG4gICAgY29sb3I6IGN5YW47XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudDpob3Zlcjo6YWZ0ZXIsXG4gIC54cmF5LXJlYWN0LWVsZW1lbnQuLWhpZ2hsaWdodGVkOjphZnRlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogY3lhbjtcbiAgICBjb2xvcjogZGFya2JsdWU7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudC4taGlnaGxpZ2h0ZWQge1xuICAgIHotaW5kZXg6IDk5OTk5ICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhciB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTtcbiAgICBib3R0b206IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBwYWRkaW5nOiAwIDEwcHg7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHdpZHRoOiAxMDB2dztcbiAgICB6LWluZGV4OiA5OTk5OTk7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIHdpZHRoOiA4cHg7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgfVxuICAueHJheS1yZWFjdC1hY3Rpb24tYmFyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgYmFja2dyb3VuZDogY3lhbjtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6ICMwMGZmZmY7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9ucy13cmFwcGVyIHtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZm9udC1mYW1pbHk6IFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBcIkhlbHZldGljYSBOZXVlXCIsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICBtaW4taGVpZ2h0OiA1MHB4O1xuICAgIHBhZGRpbmc6IDVweCAwO1xuICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG4gIC5zZWFyY2gtd3JhcHBlciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgbWluLXdpZHRoOiAyMDBweDtcbiAgICB3aWR0aDogMjUlO1xuICB9XG4gICNzZWFyY2gtY29tcG9uZW50IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XG4gICAgYm9yZGVyLXJhZGl1czogM3B4O1xuICAgIGJvcmRlcjogMDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgIG91dGxpbmU6IDA7XG4gICAgcGFkZGluZzogNXB4IDMwcHggNXB4IDEwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuICAuc2VhcmNoLWNsZWFyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDRweDtcbiAgICB0b3A6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHBhZGRpbmc6IDRweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgY29sb3I6ICM2NjY7XG4gICAgb3BhY2l0eTogMC42O1xuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycztcbiAgfVxuICAuc2VhcmNoLWNsZWFyOmhvdmVyIHtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG4gIC5jb21wb25lbnRzLXBhdGgge1xuICAgIGNvbG9yOiBjeWFuO1xuICAgIGZsZXg6IDE7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgbWluLXdpZHRoOiAwO1xuICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgb3ZlcmZsb3cteTogdmlzaWJsZTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIHdvcmQtYnJlYWs6IGtlZXAtYWxsO1xuICB9XG4gIC5jb21wb25lbnRzLXBhdGg6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICBoZWlnaHQ6IDRweDtcbiAgfVxuICAuY29tcG9uZW50cy1wYXRoOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICB9XG4gIC5jb21wb25lbnRzLXBhdGg6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgICBiYWNrZ3JvdW5kOiBjeWFuO1xuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgfVxuICAuY29tcG9uZW50cy1wYXRoOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogIzAwZmZmZjtcbiAgfVxuICAueHJheS1yZWFjdC1lbGVtZW50LXRlbXAge1xuICAgIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyICFpbXBvcnRhbnQ7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXIgIWltcG9ydGFudDtcbiAgfVxuICAueHJheS1yZWFjdC1lbGVtZW50LXRlbXA6OmJlZm9yZSB7XG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQtdGVtcDo6YWZ0ZXIge1xuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgfVxuICAueHJheS1yZWFjdC1zcGlubmVyIHtcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgYm9yZGVyOiA0cHggc29saWQgcmdiYSgwLCAyNTUsIDI1NSwgMC4zKTtcbiAgICBib3JkZXItdG9wLWNvbG9yOiBjeWFuO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBhbmltYXRpb246IHhyYXktcmVhY3Qtc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbiAgQGtleWZyYW1lcyB4cmF5LXJlYWN0LXNwaW4ge1xuICAgIHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnRzLXdyYXBwZXIuLXNpbXBsZS1tb2RlIC54cmF5LXJlYWN0LWVsZW1lbnQge1xuICAgIG9wYWNpdHk6IDA7XG4gICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudHMtd3JhcHBlci4tc2ltcGxlLW1vZGUgLnhyYXktcmVhY3QtZWxlbWVudDpob3ZlciB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuICAueHJheS1yZWFjdC1lbGVtZW50cy13cmFwcGVyLi1zaW1wbGUtbW9kZSAueHJheS1yZWFjdC1lbGVtZW50Li1oaWdobGlnaHRlZCB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuYDtcbiIsImltcG9ydCBjc3MgZnJvbSAnLi9jc3MuanMnO1xuXG5leHBvcnQgY29uc3Qgc3R5bGVUYWcgPSBgPHN0eWxlIGNsYXNzPVwieHJheS1yZWFjdC1zdHlsZS10YWdcIj4ke2Nzc308L3N0eWxlPmA7XG5leHBvcnQgY29uc3QgYWN0aW9uQmFyID0gYFxuICA8ZGl2IGNsYXNzPVwieHJheS1yZWFjdC1hY3Rpb24tYmFyXCI+XG4gICAgPGRpdiBjbGFzcz1cInhyYXktcmVhY3QtYWN0aW9ucy13cmFwcGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwic2VhcmNoLXdyYXBwZXJcIj5cbiAgICAgICAgPGlucHV0IGlkPVwic2VhcmNoLWNvbXBvbmVudFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggY29tcG9uZW50IGJ5IG5hbWUuLi5cIi8+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2VhcmNoLWNsZWFyXCIgYXJpYS1sYWJlbD1cIkNsZWFyIHNlYXJjaFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cbiAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgMTQgMTRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTMgMUwxIDEzTTEgMUwxMyAxM1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbXBvbmVudHMtcGF0aFwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbmA7XG4iLCJpbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgc3R5bGVUYWcsIGFjdGlvbkJhciB9IGZyb20gJy4vcGFydGlhbHMuanMnO1xuaW1wb3J0IGNzcyBmcm9tICcuL2Nzcy5qcyc7XG5pbXBvcnQgeyBVSV9NT0RFX0ZVTEwsIFVJX01PREVfU0lNUExFLCBBVkFJTEFCTEVfVUlfTU9ERVMgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbmNvbnN0IE1BWF9GSUJFUl9ERVBUSCA9IDUwOyAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3BzXG5cbmxldCBwcm9qZWN0Um9vdCA9IG51bGw7XG5sZXQgdXNhZ2VNYXAgPSB7fTtcbmxldCBpbXBvcnRNYXAgPSB7fTtcbmxldCBwcm9qZWN0RmlsZVBhdGhzID0gbmV3IFNldCgpO1xubGV0IG5vcm1hbGl6ZWRQcm9qZWN0RmlsZVBhdGhzID0gbmV3IFNldCgpOyAgICAgICAgICAgLy8gUHJlLW5vcm1hbGl6ZWQgcGF0aHMgZm9yIE8oMSkgbG9va3VwXG5sZXQgY29tcG9uZW50TmFtZVRvRmlsZXNJbmRleCA9IG5ldyBNYXAoKTsgICAgICAgICAgICAvLyBjb21wb25lbnROYW1lIC0+IFNldDxmaWxlUGF0aD4gZm9yIE8oMSkgbG9va3VwXG5jb25zdCBub3JtYWxpemVQYXRoQ2FjaGUgPSBuZXcgTWFwKCk7ICAgICAgICAgICAgICAgICAvLyBNZW1vaXphdGlvbiBjYWNoZSBmb3Igbm9ybWFsaXplUGF0aFxubGV0IGN1cnJlbnRNb2RlID0gVUlfTU9ERV9GVUxMO1xuXG5jb25zdCBFWFRFUk5BTF9QQVRURVJOUyA9IFtcbiAgL25vZGVfbW9kdWxlcy9pLFxuICAvXFwubmV4dFtcXC9cXFxcXS9pLFxuICAvZGlzdFtcXC9cXFxcXS9pLFxuICAvYnVpbGRbXFwvXFxcXF0vaSxcbiAgL1xcLmdpdFtcXC9cXFxcXS9pLFxuICAvXFwuY2FjaGVbXFwvXFxcXF0vaSxcbiAgL2NvdmVyYWdlW1xcL1xcXFxdL2ksXG5dO1xuXG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBmaWxlIHBhdGggZm9yIGNvbXBhcmlzb25cbiAqIEhhbmRsZXMgYm90aCBVbml4IGFuZCBXaW5kb3dzIHBhdGhzLCByZWxhdGl2ZSBhbmQgYWJzb2x1dGVcbiAqIFVzZXMgbWVtb2l6YXRpb24gY2FjaGUgZm9yIHJlcGVhdGVkIGNhbGxzIHdpdGggc2FtZSBwYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZVBhdGggLSBGaWxlIHBhdGggdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBOb3JtYWxpemVkIHBhdGhcbiAqL1xuY29uc3Qgbm9ybWFsaXplUGF0aCA9IChmaWxlUGF0aCkgPT4ge1xuICBpZiAoIWZpbGVQYXRoKSByZXR1cm4gJyc7XG4gIFxuICBjb25zdCBjYWNoZWQgPSBub3JtYWxpemVQYXRoQ2FjaGUuZ2V0KGZpbGVQYXRoKTtcbiAgaWYgKGNhY2hlZCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gY2FjaGVkO1xuICBcbiAgbGV0IG5vcm1hbGl6ZWQgPSBTdHJpbmcoZmlsZVBhdGgpLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcbiAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXlxcLyt8XFwvKyQvZywgJycpO1xuICBub3JtYWxpemVkID0gbm9ybWFsaXplZC50b0xvd2VyQ2FzZSgpO1xuICBcbiAgbm9ybWFsaXplUGF0aENhY2hlLnNldChmaWxlUGF0aCwgbm9ybWFsaXplZCk7XG4gIHJldHVybiBub3JtYWxpemVkO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBmaWxlIHBhdGggaXMgZXh0ZXJuYWwgKG5vZGVfbW9kdWxlcywgYnVpbGQgYXJ0aWZhY3RzLCBldGMuKVxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVQYXRoIC0gRmlsZSBwYXRoIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBwYXRoIGlzIGV4dGVybmFsXG4gKi9cbmNvbnN0IGlzRXh0ZXJuYWxQYXRoID0gKGZpbGVQYXRoKSA9PiB7XG4gIGlmICghZmlsZVBhdGgpIHJldHVybiBmYWxzZTtcbiAgXG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYXRoKGZpbGVQYXRoKTtcbiAgXG4gIHJldHVybiBFWFRFUk5BTF9QQVRURVJOUy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KG5vcm1hbGl6ZWQpKTtcbn07XG5cbi8qKlxuICogRGV0ZWN0cyBwcm9qZWN0IHJvb3QgZnJvbSBhIGZpbGUgcGF0aCBieSBmaW5kaW5nIGNvbW1vbiBiYXNlIHBhdGhcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gZmlsZVBhdGhzIC0gQXJyYXkgb2YgZmlsZSBwYXRocyBmcm9tIGZpYmVyc1xuICogQHJldHVybnMge3N0cmluZ3xudWxsfSBEZXRlY3RlZCBwcm9qZWN0IHJvb3Qgb3IgbnVsbFxuICovXG5jb25zdCBkZXRlY3RQcm9qZWN0Um9vdEZyb21QYXRocyA9IChmaWxlUGF0aHMpID0+IHtcbiAgaWYgKCFmaWxlUGF0aHMgfHwgZmlsZVBhdGhzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gIFxuICBjb25zdCBwcm9qZWN0UGF0aHMgPSBmaWxlUGF0aHNcbiAgICAuZmlsdGVyKHBhdGggPT4gcGF0aCAmJiAhaXNFeHRlcm5hbFBhdGgocGF0aCkpXG4gICAgLm1hcChub3JtYWxpemVQYXRoKTtcbiAgXG4gIGlmIChwcm9qZWN0UGF0aHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgXG4gIGNvbnN0IHBhdGhQYXJ0cyA9IHByb2plY3RQYXRocy5tYXAocGF0aCA9PiBwYXRoLnNwbGl0KCcvJykpO1xuICBjb25zdCBtaW5MZW5ndGggPSBNYXRoLm1pbiguLi5wYXRoUGFydHMubWFwKHBhcnRzID0+IHBhcnRzLmxlbmd0aCkpO1xuICBcbiAgbGV0IGNvbW1vblBhcnRzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWluTGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwYXJ0ID0gcGF0aFBhcnRzWzBdW2ldO1xuICAgIGlmIChwYXRoUGFydHMuZXZlcnkocGFydHMgPT4gcGFydHNbaV0gPT09IHBhcnQpKSB7XG4gICAgICBjb21tb25QYXJ0cy5wdXNoKHBhcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgXG4gIGlmIChjb21tb25QYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuICcvJyArIGNvbW1vblBhcnRzLmpvaW4oJy8nKTtcbiAgfVxuICBcbiAgY29uc3QgZmlyc3RQYXRoID0gcHJvamVjdFBhdGhzWzBdO1xuICBjb25zdCBsYXN0U2xhc2ggPSBmaXJzdFBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgaWYgKGxhc3RTbGFzaCA+IDApIHtcbiAgICByZXR1cm4gJy8nICsgZmlyc3RQYXRoLnN1YnN0cmluZygwLCBsYXN0U2xhc2gpO1xuICB9XG4gIFxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBjb25zZWN1dGl2ZSBkdXBsaWNhdGUgY29tcG9uZW50IG5hbWVzIGZyb20gYW4gYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gcGF0aCAtIEFycmF5IG9mIGNvbXBvbmVudCBuYW1lc1xuICogQHJldHVybnMge0FycmF5PHN0cmluZz59IEFycmF5IHdpdGggY29uc2VjdXRpdmUgZHVwbGljYXRlcyByZW1vdmVkXG4gKi9cbmNvbnN0IHJlbW92ZUNvbnNlY3V0aXZlRHVwbGljYXRlcyA9IChwYXRoKSA9PiB7XG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHBhdGg7XG4gIFxuICBjb25zdCByZXN1bHQgPSBbcGF0aFswXV07XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwYXRoW2ldLnRvTG93ZXJDYXNlKCkgIT09IHBhdGhbaSAtIDFdLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHBhdGhbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBjbGVhciBidXR0b24gdmlzaWJpbGl0eSBiYXNlZCBvbiBpbnB1dCB2YWx1ZVxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSBpbnB1dCAtIFNlYXJjaCBpbnB1dCBlbGVtZW50XG4gKi9cbmNvbnN0IHVwZGF0ZUNsZWFyQnV0dG9uID0gKGlucHV0KSA9PiB7XG4gIGNvbnN0IGNsZWFyQnV0dG9uID0gaW5wdXQ/LnBhcmVudEVsZW1lbnQ/LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtY2xlYXInKTtcbiAgaWYgKGNsZWFyQnV0dG9uKSB7XG4gICAgY2xlYXJCdXR0b24uc3R5bGUuZGlzcGxheSA9IGlucHV0LnZhbHVlLmxlbmd0aCA+IDAgPyAnZmxleCcgOiAnbm9uZSc7XG4gIH1cbn07XG5cbi8qKlxuICogSGFuZGxlcyBzZWFyY2ggaW5wdXQgY2hhbmdlcyB0byBoaWdobGlnaHQgbWF0Y2hpbmcgY29tcG9uZW50c1xuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBJbnB1dCBldmVudFxuICovXG5jb25zdCBoYW5kbGVTZWFyY2hDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgY29uc3QgaW5wdXQgPSBldmVudC50YXJnZXQ7XG4gIGNvbnN0IHZhbHVlID0gaW5wdXQudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgcmVnRXhwID0gbmV3IFJlZ0V4cChgXiR7dmFsdWV9fCR7dmFsdWV9JGApO1xuICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke2NvbnN0YW50cy54cmF5UmVhY3RFbGVtQ059YCk7XG4gIFxuICB1cGRhdGVDbGVhckJ1dHRvbihpbnB1dCk7XG4gIFxuICBmb3IgKGNvbnN0IGVsZW0gb2YgZWxlbWVudHMpIHtcbiAgICBpZiAodmFsdWUubGVuZ3RoID49IDIpIHtcbiAgICAgIGNvbnN0IHNlYXJjaE5hbWUgPSBlbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtc2VhcmNoLW5hbWUnKTtcbiAgICAgIGlmIChzZWFyY2hOYW1lICYmIHNlYXJjaE5hbWUubWF0Y2gocmVnRXhwKSkge1xuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnLWhpZ2hsaWdodGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJy1oaWdobGlnaHRlZCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJy1oaWdobGlnaHRlZCcpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBIYW5kbGVzIGNsZWFyIGJ1dHRvbiBjbGljayB0byByZXNldCBzZWFyY2hcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gQ2xpY2sgZXZlbnRcbiAqL1xuY29uc3QgaGFuZGxlU2VhcmNoQ2xlYXIgPSAoZXZlbnQpID0+IHtcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWNvbXBvbmVudCcpO1xuICBpZiAoaW5wdXQpIHtcbiAgICBpbnB1dC52YWx1ZSA9ICcnO1xuICAgIGlucHV0LmZvY3VzKCk7XG4gICAgdXBkYXRlQ2xlYXJCdXR0b24oaW5wdXQpO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y29uc3RhbnRzLnhyYXlSZWFjdEVsZW1DTn1gKTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW0gPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCctaGlnaGxpZ2h0ZWQnKSk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBtb2RlIGZyb20gd2luZG93IG9yIGRlZmF1bHRzIHRvIFVJX01PREVfRlVMTFxuICogQHJldHVybnMge3N0cmluZ30gQ3VycmVudCBtb2RlIChVSV9NT0RFX0ZVTEwgb3IgVUlfTU9ERV9TSU1QTEUpXG4gKi9cbmNvbnN0IGdldEN1cnJlbnRNb2RlID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fWFJBWV9SRUFDVF9NT0RFX18pIHtcbiAgICBjb25zdCBtb2RlID0gd2luZG93Ll9fWFJBWV9SRUFDVF9NT0RFX187XG4gICAgcmV0dXJuIEFWQUlMQUJMRV9VSV9NT0RFUy5pbmNsdWRlcyhtb2RlKSA/IG1vZGUgOiBVSV9NT0RFX0ZVTEw7XG4gIH1cbiAgcmV0dXJuIFVJX01PREVfRlVMTDtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgY3VycmVudCBtb2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIE1vZGUgdG8gc2V0IChVSV9NT0RFX0ZVTEwgb3IgVUlfTU9ERV9TSU1QTEUpXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRNb2RlID0gKG1vZGUpID0+IHtcbiAgY3VycmVudE1vZGUgPSBBVkFJTEFCTEVfVUlfTU9ERVMuaW5jbHVkZXMobW9kZSkgPyBtb2RlIDogVUlfTU9ERV9GVUxMO1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3cuX19YUkFZX1JFQUNUX01PREVfXyA9IGN1cnJlbnRNb2RlO1xuICB9XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnQgbW9kZVxuICogQHJldHVybnMge3N0cmluZ30gQ3VycmVudCBtb2RlXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRNb2RlID0gKCkgPT4ge1xuICByZXR1cm4gY3VycmVudE1vZGU7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb3ZlcmxheSBlbGVtZW50IGZvciBhIFJlYWN0IGNvbXBvbmVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSAtIFRoZSBET00gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgLSBOYW1lIG9mIHRoZSBSZWFjdCBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIG9yaWdpbmFsIGVsZW1lbnQgYW5kIG92ZXJsYXkgZWxlbWVudFxuICovXG5jb25zdCBjcmVhdGVFbGVtRm9yQ29tcG9uZW50ID0gKGVsZW0sIGNvbXBvbmVudE5hbWUpID0+IHtcbiAgY29uc3QgeHJheVJlYWN0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBcbiAgeHJheVJlYWN0RWxlbS5jbGFzc05hbWUgPSBjb25zdGFudHMueHJheVJlYWN0RWxlbUNOO1xuICB4cmF5UmVhY3RFbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtbmFtZScsIGNvbXBvbmVudE5hbWUpO1xuICB4cmF5UmVhY3RFbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtc2VhcmNoLW5hbWUnLCBjb21wb25lbnROYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB4cmF5UmVhY3RFbGVtLnN0eWxlLmhlaWdodCA9IGAke2JvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHR9cHhgO1xuICB4cmF5UmVhY3RFbGVtLnN0eWxlLndpZHRoID0gYCR7Ym91bmRpbmdDbGllbnRSZWN0LndpZHRofXB4YDtcbiAgeHJheVJlYWN0RWxlbS5zdHlsZS50b3AgPSBgJHtib3VuZGluZ0NsaWVudFJlY3QudG9wICsgd2luZG93LnNjcm9sbFl9cHhgO1xuICB4cmF5UmVhY3RFbGVtLnN0eWxlLmxlZnQgPSBgJHtib3VuZGluZ0NsaWVudFJlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYfXB4YDtcbiAgeHJheVJlYWN0RWxlbS5zdHlsZS56SW5kZXggPSBjb25zdGFudHMuekluZGV4O1xuICBcbiAgcmV0dXJuIHsgZWxlbSwgeHJheVJlYWN0RWxlbSB9O1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBuYW1lIGlzIGFuIEhUTUwgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBDb21wb25lbnQgb3IgZWxlbWVudCBuYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBpdCdzIGFuIEhUTUwgZWxlbWVudFxuICovXG5jb25zdCBpc0hUTUxFbGVtZW50ID0gKG5hbWUpID0+IHtcbiAgaWYgKCFuYW1lIHx8IHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gY29uc3RhbnRzLkhUTUxfRUxFTUVOVFMuaGFzKG5hbWUudG9Mb3dlckNhc2UoKSk7XG59O1xuXG4vKipcbiAqIFJlc29sdmVzIGNvbXBvbmVudCBuYW1lIGZyb20gZWxlbWVudCB0eXBlIGFuZCBmaWJlclxuICogSGFuZGxlcyBmdW5jdGlvbiBjb21wb25lbnRzLCBjbGFzcyBjb21wb25lbnRzLCBmb3J3YXJkUmVmLCBtZW1vLCBldGMuXG4gKiBAcGFyYW0geyp9IGVsZW1lbnRUeXBlIC0gUmVhY3QgZWxlbWVudCB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gZmliZXIgLSBSZWFjdCBmaWJlciBub2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IENvbXBvbmVudCBuYW1lIG9yIG51bGxcbiAqL1xuY29uc3QgcmVzb2x2ZUNvbXBvbmVudE5hbWUgPSAoZWxlbWVudFR5cGUsIGZpYmVyID0gbnVsbCkgPT4ge1xuICBpZiAoIWVsZW1lbnRUeXBlKSByZXR1cm4gbnVsbDtcblxuICBpZiAodHlwZW9mIGVsZW1lbnRUeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGVsZW1lbnRUeXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICByZXR1cm4gZWxlbWVudFR5cGUuZGlzcGxheU5hbWU7XG4gICAgfVxuICAgIFxuICAgIGlmIChlbGVtZW50VHlwZS5uYW1lICYmIGVsZW1lbnRUeXBlLm5hbWUgIT09ICdBbm9ueW1vdXMnKSB7XG4gICAgICByZXR1cm4gZWxlbWVudFR5cGUubmFtZTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGVsZW1lbnRUeXBlLnJlbmRlcikge1xuICAgICAgcmV0dXJuIHJlc29sdmVDb21wb25lbnROYW1lKGVsZW1lbnRUeXBlLnJlbmRlciwgZmliZXIpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZWxlbWVudFR5cGUuJCR0eXBlb2YgJiYgZWxlbWVudFR5cGUudHlwZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVDb21wb25lbnROYW1lKGVsZW1lbnRUeXBlLnR5cGUsIGZpYmVyKTtcbiAgICB9XG4gIH1cbiAgXG4gIGlmICh0eXBlb2YgZWxlbWVudFR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRUeXBlO1xuICB9XG4gIFxuICBpZiAoZWxlbWVudFR5cGUgJiYgZWxlbWVudFR5cGUuJCR0eXBlb2YpIHtcbiAgICBpZiAoZWxlbWVudFR5cGUudHlwZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVDb21wb25lbnROYW1lKGVsZW1lbnRUeXBlLnR5cGUsIGZpYmVyKTtcbiAgICB9XG4gIH1cbiAgXG4gIGlmIChmaWJlciAmJiBmaWJlci5fZGVidWdTb3VyY2UpIHtcbiAgICBjb25zdCBmaWxlTmFtZSA9IGZpYmVyLl9kZWJ1Z1NvdXJjZS5maWxlTmFtZTtcbiAgICBpZiAoZmlsZU5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZmlsZU5hbWUubWF0Y2goLyhbXi9cXFxcXSspXFwuKGpzeD98dHN4PykkLyk7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoWzFdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIGNvbXBvbmVudCBiZWxvbmdzIHRvIHRoZSBwcm9qZWN0IGJhc2VkIG9uIGl0cyBzb3VyY2UgZmlsZSBwYXRoXG4gKiBAcGFyYW0ge09iamVjdH0gZmliZXIgLSBSZWFjdCBmaWJlciBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvamVjdFJvb3RQYXRoIC0gUHJvamVjdCByb290IHBhdGggZm9yIGNvbXBhcmlzb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIC0gT3B0aW9uYWwgY29tcG9uZW50IG5hbWUgdG8gY2hlY2sgYWdhaW5zdCBwcm9qZWN0IGZpbGVzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBjb21wb25lbnQgYmVsb25ncyB0byBwcm9qZWN0XG4gKi9cbmNvbnN0IGlzUHJvamVjdENvbXBvbmVudCA9IChmaWJlciwgcHJvamVjdFJvb3RQYXRoLCBjb21wb25lbnROYW1lID0gbnVsbCkgPT4ge1xuICBpZiAoIXByb2plY3RSb290UGF0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY29uc3QgZmlsZVBhdGggPSBmaWJlcj8uX2RlYnVnU291cmNlPy5maWxlTmFtZTtcblxuICBpZiAoZmlsZVBhdGgpIHtcbiAgICBpZiAoaXNFeHRlcm5hbFBhdGgoZmlsZVBhdGgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5vcm1hbGl6ZWRGaWxlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoZmlsZVBhdGgpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRQcm9qZWN0Um9vdCA9IG5vcm1hbGl6ZVBhdGgocHJvamVjdFJvb3RQYXRoKTtcbiAgICBcbiAgICBpZiAobm9ybWFsaXplZEZpbGVQYXRoLnN0YXJ0c1dpdGgobm9ybWFsaXplZFByb2plY3RSb290KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIGlmICghbm9ybWFsaXplZEZpbGVQYXRoLmluY2x1ZGVzKCdub2RlX21vZHVsZXMnKSAmJiBcbiAgICAgICAgIW5vcm1hbGl6ZWRGaWxlUGF0aC5zdGFydHNXaXRoKCcvJykgJiZcbiAgICAgICAgIW5vcm1hbGl6ZWRGaWxlUGF0aC5tYXRjaCgvXlthLXpdOi9pKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgaWYgKGNvbXBvbmVudE5hbWUpIHtcbiAgICBjb25zdCBub3JtYWxpemVkQ29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAvLyBPKDEpIGxvb2t1cCB1c2luZyBwcmUtYnVpbHQgaW5kZXggaW5zdGVhZCBvZiBPKG0pIGxvb3AgdGhyb3VnaCBhbGwgZmlsZXNcbiAgICBpZiAoY29tcG9uZW50TmFtZVRvRmlsZXNJbmRleC5oYXMobm9ybWFsaXplZENvbXBvbmVudE5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgcHJvamVjdCByb290IHBhdGggZm9yIGZpbHRlcmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHJvb3RQYXRoIC0gUHJvamVjdCByb290IHBhdGhcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFByb2plY3RSb290ID0gKHJvb3RQYXRoKSA9PiB7XG4gIHByb2plY3RSb290ID0gcm9vdFBhdGggPyBub3JtYWxpemVQYXRoKHJvb3RQYXRoKSA6IG51bGw7XG4gIFxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX1JPT1RfXyAmJiAhcHJvamVjdFJvb3QpIHtcbiAgICBwcm9qZWN0Um9vdCA9IG5vcm1hbGl6ZVBhdGgod2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX1JPT1RfXyk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBwcm9qZWN0IHJvb3QgcGF0aFxuICogQHJldHVybnMge3N0cmluZ3xudWxsfSBQcm9qZWN0IHJvb3QgcGF0aCBvciBudWxsXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0Um9vdCA9ICgpID0+IHtcbiAgcmV0dXJuIHByb2plY3RSb290O1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB1c2FnZSBtYXAgZm9yIGZpbHRlcmluZyBleHRlcm5hbCBjb21wb25lbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gVXNhZ2UgbWFwIChmaWxlIHBhdGggLT4gQXJyYXkgb2YgY29tcG9uZW50IG5hbWVzKVxuICovXG5leHBvcnQgY29uc3Qgc2V0VXNhZ2VNYXAgPSAobWFwKSA9PiB7XG4gIHVzYWdlTWFwID0gbWFwIHx8IHt9O1xuICBcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX1hSQVlfUkVBQ1RfVVNBR0VfTUFQX18gJiYgT2JqZWN0LmtleXModXNhZ2VNYXApLmxlbmd0aCA9PT0gMCkge1xuICAgIHVzYWdlTWFwID0gd2luZG93Ll9fWFJBWV9SRUFDVF9VU0FHRV9NQVBfXztcbiAgfVxuICBcbiAgaWYgKHByb2plY3RGaWxlUGF0aHMuc2l6ZSA9PT0gMCkge1xuICAgIHByb2plY3RGaWxlUGF0aHMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKHVzYWdlTWFwIHx8IHt9KSk7XG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmtleXModXNhZ2VNYXAgfHwge30pLmZvckVhY2goZmlsZVBhdGggPT4gcHJvamVjdEZpbGVQYXRocy5hZGQoZmlsZVBhdGgpKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBpbXBvcnQgbWFwIGZvciBmaWx0ZXJpbmcgZXh0ZXJuYWwgY29tcG9uZW50cyAoZmFsbGJhY2spXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gSW1wb3J0IG1hcCAoZmlsZSBwYXRoIC0+IEFycmF5IG9mIGNvbXBvbmVudCBuYW1lcylcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEltcG9ydE1hcCA9IChtYXApID0+IHtcbiAgaW1wb3J0TWFwID0gbWFwIHx8IHt9O1xuICBcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX1hSQVlfUkVBQ1RfSU1QT1JUX01BUF9fICYmIE9iamVjdC5rZXlzKGltcG9ydE1hcCkubGVuZ3RoID09PSAwKSB7XG4gICAgaW1wb3J0TWFwID0gd2luZG93Ll9fWFJBWV9SRUFDVF9JTVBPUlRfTUFQX187XG4gIH1cbiAgXG4gIE9iamVjdC5rZXlzKGltcG9ydE1hcCB8fCB7fSkuZm9yRWFjaChmaWxlUGF0aCA9PiBwcm9qZWN0RmlsZVBhdGhzLmFkZChmaWxlUGF0aCkpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IG9mIGFsbCBwcm9qZWN0IGZpbGVzIGZvdW5kIGluIHNvdXJjZVBhdGggZm9sZGVyc1xuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBmaWxlcyAtIEFycmF5IG9mIGFsbCBmaWxlIHBhdGhzIGZvdW5kIGluIHNvdXJjZVBhdGhcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFByb2plY3RGaWxlcyA9IChmaWxlcykgPT4ge1xuICBsZXQgZmlsZUxpc3QgPSBmaWxlcyB8fCBbXTtcbiAgXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuX19YUkFZX1JFQUNUX1BST0pFQ1RfRklMRVNfXyAmJiBmaWxlTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCBnbG9iYWxGaWxlcyA9IHdpbmRvdy5fX1hSQVlfUkVBQ1RfUFJPSkVDVF9GSUxFU19fO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGdsb2JhbEZpbGVzKSkge1xuICAgICAgZmlsZUxpc3QgPSBbLi4uZ2xvYmFsRmlsZXNdO1xuICAgIH1cbiAgfVxuICBcbiAgcHJvamVjdEZpbGVQYXRocyA9IG5ldyBTZXQoZmlsZUxpc3QpO1xuICBcbiAgLy8gUHJlLWNvbXB1dGUgbm9ybWFsaXplZCBwYXRocyBhbmQgY29tcG9uZW50IG5hbWUgaW5kZXggZm9yIE8oMSkgbG9va3Vwc1xuICBub3JtYWxpemVkUHJvamVjdEZpbGVQYXRocy5jbGVhcigpO1xuICBjb21wb25lbnROYW1lVG9GaWxlc0luZGV4LmNsZWFyKCk7XG4gIFxuICBmb3IgKGNvbnN0IGZpbGVQYXRoIG9mIGZpbGVMaXN0KSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBhdGgoZmlsZVBhdGgpO1xuICAgIG5vcm1hbGl6ZWRQcm9qZWN0RmlsZVBhdGhzLmFkZChub3JtYWxpemVkKTtcbiAgICBcbiAgICBjb25zdCBwYXRoUGFydHMgPSBub3JtYWxpemVkLnNwbGl0KCcvJyk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdIHx8ICcnO1xuICAgIGNvbnN0IGZpbGVuYW1lV2l0aG91dEV4dCA9IGZpbGVuYW1lLnJlcGxhY2UoL1xcLih0c3g/fGpzeD8pJC8sICcnKTtcbiAgICBcbiAgICBpZiAoZmlsZW5hbWVXaXRob3V0RXh0KSB7XG4gICAgICBpZiAoIWNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguaGFzKGZpbGVuYW1lV2l0aG91dEV4dCkpIHtcbiAgICAgICAgY29tcG9uZW50TmFtZVRvRmlsZXNJbmRleC5zZXQoZmlsZW5hbWVXaXRob3V0RXh0LCBuZXcgU2V0KCkpO1xuICAgICAgfVxuICAgICAgY29tcG9uZW50TmFtZVRvRmlsZXNJbmRleC5nZXQoZmlsZW5hbWVXaXRob3V0RXh0KS5hZGQoZmlsZVBhdGgpO1xuICAgIH1cbiAgICBcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGF0aFBhcnRzLnNsaWNlKDAsIC0xKSkge1xuICAgICAgaWYgKHBhcnQgJiYgcGFydC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICghY29tcG9uZW50TmFtZVRvRmlsZXNJbmRleC5oYXMocGFydCkpIHtcbiAgICAgICAgICBjb21wb25lbnROYW1lVG9GaWxlc0luZGV4LnNldChwYXJ0LCBuZXcgU2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguZ2V0KHBhcnQpLmFkZChmaWxlUGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGRldGVjdCBwcm9qZWN0IHJvb3QgZnJvbSBmaWJlciB0cmVlIHdoZW4gc2VydmVyIGlzIG5vdCBhdmFpbGFibGVcbiAqIFNjYW5zIERPTSBmb3IgUmVhY3QgZmliZXJzIGFuZCBleHRyYWN0cyBmaWxlIHBhdGhzIHRvIGluZmVyIHByb2plY3Qgcm9vdFxuICovXG5jb25zdCBkZXRlY3RQcm9qZWN0Um9vdEZyb21ET00gPSAoKSA9PiB7XG4gIGlmIChwcm9qZWN0Um9vdCkge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlUGF0aHMgPSBbXTtcbiAgICBjb25zdCBtYXhTYW1wbGVzID0gNTA7IC8vIExpbWl0IHNhbXBsZXMgZm9yIHBlcmZvcm1hbmNlXG4gICAgbGV0IHNhbXBsZXMgPSAwO1xuICAgIFxuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICBkb2N1bWVudC5ib2R5LFxuICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsXG4gICAgICBudWxsLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIFxuICAgIGxldCBub2RlO1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSAmJiBzYW1wbGVzIDwgbWF4U2FtcGxlcykge1xuICAgICAgY29uc3QgZmliZXJLZXkgPSBPYmplY3Qua2V5cyhub2RlKS5maW5kKGtleSA9PlxuICAgICAgICBrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEZpYmVyJCcpIHx8IGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGZpYmVyS2V5KSB7XG4gICAgICAgIGNvbnN0IGZpYmVyID0gbm9kZVtmaWJlcktleV07XG4gICAgICAgIGxldCBjdXJyZW50RmliZXIgPSBmaWJlcjtcbiAgICAgICAgbGV0IGRlcHRoID0gMDtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChjdXJyZW50RmliZXIgJiYgZGVwdGggPCAxMCkge1xuICAgICAgICAgIGlmIChjdXJyZW50RmliZXIuX2RlYnVnU291cmNlICYmIGN1cnJlbnRGaWJlci5fZGVidWdTb3VyY2UuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gY3VycmVudEZpYmVyLl9kZWJ1Z1NvdXJjZS5maWxlTmFtZTtcbiAgICAgICAgICAgIGlmICghaXNFeHRlcm5hbFBhdGgoZmlsZVBhdGgpKSB7XG4gICAgICAgICAgICAgIGZpbGVQYXRocy5wdXNoKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudEZpYmVyID0gY3VycmVudEZpYmVyLnJldHVybjtcbiAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgIHNhbXBsZXMrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoZmlsZVBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRldGVjdGVkUm9vdCA9IGRldGVjdFByb2plY3RSb290RnJvbVBhdGhzKGZpbGVQYXRocyk7XG4gICAgICBpZiAoZGV0ZWN0ZWRSb290KSB7XG4gICAgICAgIHByb2plY3RSb290ID0gZGV0ZWN0ZWRSb290O1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBTaWxlbnRseSBmYWlsIC0gcHJvamVjdCByb290IGRldGVjdGlvbiBpcyBvcHRpb25hbFxuICB9XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBleHRlcm5hbCBjb21wb25lbnQgaXMgdXNlZCBieSBhbnkgaW50ZXJuYWwgY29tcG9uZW50IGluIHRoZSBzZWVuIGxpc3RcbiAqIENoZWNrcyB1c2FnZSBtYXAgZmlyc3QgKHByaW1hcnkpLCB0aGVuIGltcG9ydCBtYXAgKGZhbGxiYWNrKVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgLSBFeHRlcm5hbCBjb21wb25lbnQgbmFtZSB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheX0gc2VlbkludGVybmFsQ29tcG9uZW50cyAtIEFycmF5IG9mIGludGVybmFsIGNvbXBvbmVudHMgc2VlbiBzbyBmYXIgaW4gcGF0aFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY29tcG9uZW50IGlzIHVzZWQgYnkgYW55IHNlZW4gaW50ZXJuYWwgY29tcG9uZW50XG4gKi9cbmNvbnN0IGlzVXNlZEJ5SW50ZXJuYWxDb21wb25lbnRzID0gKGNvbXBvbmVudE5hbWUsIHNlZW5JbnRlcm5hbENvbXBvbmVudHMpID0+IHtcbiAgaWYgKCFjb21wb25lbnROYW1lIHx8IHNlZW5JbnRlcm5hbENvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICBpZiAoT2JqZWN0LmtleXModXNhZ2VNYXApLmxlbmd0aCA9PT0gMCAmJiBPYmplY3Qua2V5cyhpbXBvcnRNYXApLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICBmb3IgKGNvbnN0IGludGVybmFsQ29tcCBvZiBzZWVuSW50ZXJuYWxDb21wb25lbnRzKSB7XG4gICAgY29uc3QgZmlsZVBhdGggPSBpbnRlcm5hbENvbXAuZmlsZTtcbiAgICBpZiAoIWZpbGVQYXRoKSBjb250aW51ZTtcbiAgICBcbiAgICBpZiAodXNhZ2VNYXBbZmlsZVBhdGhdICYmIEFycmF5LmlzQXJyYXkodXNhZ2VNYXBbZmlsZVBhdGhdKSkge1xuICAgICAgaWYgKHVzYWdlTWFwW2ZpbGVQYXRoXS5pbmNsdWRlcyhjb21wb25lbnROYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKGltcG9ydE1hcFtmaWxlUGF0aF0gJiYgQXJyYXkuaXNBcnJheShpbXBvcnRNYXBbZmlsZVBhdGhdKSkge1xuICAgICAgaWYgKGltcG9ydE1hcFtmaWxlUGF0aF0uaW5jbHVkZXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFRyYXZlcnNlcyB0aGUgZmliZXIgdHJlZSB0byBmaW5kIFJlYWN0IGNvbXBvbmVudHMsIHNraXBwaW5nIEhUTUwgZWxlbWVudHNcbiAqIEZpbHRlcnMgb3V0IGV4dGVybmFsIGxpYnJhcnkgY29tcG9uZW50cyBiYXNlZCBvbiB1c2FnZS9pbXBvcnQgbWFwc1xuICogQHBhcmFtIHtPYmplY3R9IGZpYmVyIC0gU3RhcnRpbmcgZmliZXIgbm9kZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heERlcHRoIC0gTWF4aW11bSBkZXB0aCB0byB0cmF2ZXJzZVxuICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBjb21wb25lbnQgaW5mb3JtYXRpb24gb2JqZWN0c1xuICovXG5jb25zdCB0cmF2ZXJzZUZpYmVyVHJlZSA9IChmaWJlciwgbWF4RGVwdGggPSBNQVhfRklCRVJfREVQVEgpID0+IHtcbiAgY29uc3QgYWxsQ29tcG9uZW50cyA9IFtdO1xuICBjb25zdCBpbnRlcm5hbENvbXBvbmVudHMgPSBbXTtcbiAgbGV0IGN1cnJlbnRGaWJlciA9IGZpYmVyO1xuICBsZXQgZGVwdGggPSAwO1xuICAvLyBQZXJmb3JtYW5jZSBpbXByb3ZlbWVudHNcbiAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQoKTtcbiAgXG4gIHdoaWxlIChjdXJyZW50RmliZXIgJiYgZGVwdGggPCBtYXhEZXB0aCkge1xuICAgIGlmICh2aXNpdGVkLmhhcyhjdXJyZW50RmliZXIpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdmlzaXRlZC5hZGQoY3VycmVudEZpYmVyKTtcbiAgICBcbiAgICBjb25zdCBlbGVtZW50VHlwZSA9IGN1cnJlbnRGaWJlci5lbGVtZW50VHlwZSB8fCBjdXJyZW50RmliZXIudHlwZTtcbiAgICBcbiAgICBpZiAoZWxlbWVudFR5cGUpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSByZXNvbHZlQ29tcG9uZW50TmFtZShlbGVtZW50VHlwZSwgY3VycmVudEZpYmVyKTtcbiAgICAgIFxuICAgICAgaWYgKGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgaWYgKCFpc0hUTUxFbGVtZW50KGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgY29uc3QgaXNJbnRlcm5hbCA9IGlzUHJvamVjdENvbXBvbmVudChjdXJyZW50RmliZXIsIHByb2plY3RSb290LCBjb21wb25lbnROYW1lKTtcbiAgICAgICAgICBcbiAgICAgICAgICBsZXQgZmlsZVBhdGggPSBudWxsO1xuICAgICAgICAgIGlmIChjdXJyZW50RmliZXIuX2RlYnVnU291cmNlICYmIGN1cnJlbnRGaWJlci5fZGVidWdTb3VyY2UuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIGZpbGVQYXRoID0gY3VycmVudEZpYmVyLl9kZWJ1Z1NvdXJjZS5maWxlTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgYWxsQ29tcG9uZW50cy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICBmaWJlcjogY3VycmVudEZpYmVyLFxuICAgICAgICAgICAgZWxlbWVudFR5cGU6IGVsZW1lbnRUeXBlLFxuICAgICAgICAgICAgZGVwdGg6IGRlcHRoLFxuICAgICAgICAgICAgaXNJbnRlcm5hbDogaXNJbnRlcm5hbCxcbiAgICAgICAgICAgIGZpbGU6IGZpbGVQYXRoXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGlzSW50ZXJuYWwpIHtcbiAgICAgICAgICAgIGludGVybmFsQ29tcG9uZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgICAgZmlsZTogZmlsZVBhdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBjdXJyZW50RmliZXIgPSBjdXJyZW50RmliZXIucmV0dXJuIHx8IGN1cnJlbnRGaWJlci5fb3duZXI7XG4gICAgZGVwdGgrKztcbiAgfVxuICBcbiAgY29uc3QgZmlsdGVyZWRDb21wb25lbnRzID0gW107XG4gIGZvciAoY29uc3QgY29tcCBvZiBhbGxDb21wb25lbnRzKSB7XG4gICAgaWYgKGNvbXAuaXNJbnRlcm5hbCkge1xuICAgICAgZmlsdGVyZWRDb21wb25lbnRzLnB1c2goe1xuICAgICAgICBuYW1lOiBjb21wLm5hbWUsXG4gICAgICAgIGZpYmVyOiBjb21wLmZpYmVyLFxuICAgICAgICBlbGVtZW50VHlwZTogY29tcC5lbGVtZW50VHlwZSxcbiAgICAgICAgZGVwdGg6IGNvbXAuZGVwdGgsXG4gICAgICAgIGZpbGU6IGNvbXAuZmlsZSxcbiAgICAgICAgaXNJbnRlcm5hbDogY29tcC5pc0ludGVybmFsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzVXNlZEJ5SW50ZXJuYWxDb21wb25lbnRzKGNvbXAubmFtZSwgaW50ZXJuYWxDb21wb25lbnRzKSkge1xuICAgICAgICBmaWx0ZXJlZENvbXBvbmVudHMucHVzaCh7XG4gICAgICAgICAgbmFtZTogY29tcC5uYW1lLFxuICAgICAgICAgIGZpYmVyOiBjb21wLmZpYmVyLFxuICAgICAgICAgIGVsZW1lbnRUeXBlOiBjb21wLmVsZW1lbnRUeXBlLFxuICAgICAgICAgIGRlcHRoOiBjb21wLmRlcHRoLFxuICAgICAgICAgIGZpbGU6IGNvbXAuZmlsZSxcbiAgICAgICAgICBpc0ludGVybmFsOiBjb21wLmlzSW50ZXJuYWxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gZmlsdGVyZWRDb21wb25lbnRzO1xufTtcblxuLyoqXG4gKiBHZXRzIFJlYWN0IGNvbXBvbmVudCBpbmZvcm1hdGlvbiBmcm9tIGEgRE9NIGVsZW1lbnQgdXNpbmcgUmVhY3QgRGV2VG9vbHMgcHJvdG9jb2xcbiAqIFN1cHBvcnRzIFJlYWN0IDE4KyBhbmQgZmFsbHMgYmFjayB0byBsZWdhY3kgZGV0ZWN0aW9uIGZvciBvbGRlciB2ZXJzaW9uc1xuICogRW5oYW5jZWQgdG8gc2tpcCBIVE1MIGVsZW1lbnRzIGFuZCBmaW5kIGFjdHVhbCBSZWFjdCBjb21wb25lbnRzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gVGhlIERPTSBlbGVtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBPYmplY3Qgd2l0aCBjb21wb25lbnQgbmFtZSBhbmQgb3B0aW9uYWwgdWlkXG4gKi9cbmNvbnN0IGdldENvbXBvbmVudE9iaiA9IChlbGVtKSA9PiB7XG4gIGlmICh3aW5kb3cuX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpYmVyS2V5ID0gT2JqZWN0LmtleXMoZWxlbSkuZmluZChrZXkgPT4gXG4gICAgICAgIGtleS5zdGFydHNXaXRoKCdfX3JlYWN0RmliZXIkJykgfHwga2V5LnN0YXJ0c1dpdGgoJ19fcmVhY3RJbnRlcm5hbEluc3RhbmNlJCcpXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAoZmliZXJLZXkpIHtcbiAgICAgICAgY29uc3QgZmliZXIgPSBlbGVtW2ZpYmVyS2V5XTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IHRyYXZlcnNlRmliZXJUcmVlKGZpYmVyKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChjb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBmaXJzdENvbXBvbmVudCA9IGNvbXBvbmVudHNbMF07XG4gICAgICAgICAgY29uc3QgdWlkID0gZmlyc3RDb21wb25lbnQuZmliZXIuX2RlYnVnSUQgfHwgXG4gICAgICAgICAgICAgICAgICAgICBgJHtmaXJzdENvbXBvbmVudC5maWJlci5pbmRleCB8fCAnJ30ke2ZpcnN0Q29tcG9uZW50LmZpYmVyLmtleSB8fCAnJ31gO1xuICAgICAgICAgIGNvbnN0IHJldmVyc2VkSGllcmFyY2h5ID0gY29tcG9uZW50cy5yZXZlcnNlKCkubWFwKGMgPT4gYy5uYW1lKTtcbiAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgIG5hbWU6IGZpcnN0Q29tcG9uZW50Lm5hbWUsIFxuICAgICAgICAgICAgdWlkLFxuICAgICAgICAgICAgaGllcmFyY2h5OiByZXZlcnNlZEhpZXJhcmNoeVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gU2lsZW50bHkgZmFsbCBiYWNrIHRvIGxlZ2FjeSBkZXRlY3Rpb25cbiAgICB9XG4gIH1cbiAgXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGVsZW0pKSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKSkge1xuICAgICAgY29uc3QgZmliZXJOb2RlID0gZWxlbVtrZXldO1xuICAgICAgaWYgKGZpYmVyTm9kZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0cmF2ZXJzZUZpYmVyVHJlZShmaWJlck5vZGUpO1xuICAgICAgICAgIGlmIChjb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q29tcG9uZW50ID0gY29tcG9uZW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IHJldmVyc2VkSGllcmFyY2h5ID0gY29tcG9uZW50cy5yZXZlcnNlKCkubWFwKGMgPT4gYy5uYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICBuYW1lOiBmaXJzdENvbXBvbmVudC5uYW1lLFxuICAgICAgICAgICAgICB1aWQ6IGAke2ZpYmVyTm9kZS5fbW91bnRJbmRleCB8fCAnJ30ke2ZpYmVyTm9kZS5fbW91bnRPcmRlciB8fCAnJ31gLFxuICAgICAgICAgICAgICBoaWVyYXJjaHk6IHJldmVyc2VkSGllcmFyY2h5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBDb250aW51ZSB0byBvbGQgbGVnYWN5IGRldGVjdGlvblxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChmaWJlck5vZGUgJiYgZmliZXJOb2RlLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICBjb25zdCBvd25lciA9IGZpYmVyTm9kZS5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICBjb25zdCBmaWJlciA9IG93bmVyICYmIG93bmVyLl9pbnN0YW5jZTtcbiAgICAgICAgaWYgKGZpYmVyKSB7XG4gICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGZpYmVyLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgaWYgKCFpc0hUTUxFbGVtZW50KGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgICAgbmFtZTogY29tcG9uZW50TmFtZSwgXG4gICAgICAgICAgICAgIHVpZDogYCR7b3duZXIuX21vdW50SW5kZXggfHwgJyd9JHtvd25lci5fbW91bnRPcmRlciB8fCAnJ31gIFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZmliZXJOb2RlKSB7XG4gICAgICAgIGNvbnN0IGZpYmVyID0gZmliZXJOb2RlLnJldHVybj8uc3RhdGVOb2RlPy5fcmVhY3RJbnRlcm5hbEZpYmVyO1xuICAgICAgICBpZiAoZmliZXIpIHtcbiAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gZmliZXIudHlwZT8ubmFtZSB8fCAnVW5rbm93bic7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudE5hbWUgIT09ICdVbmtub3duJyAmJiAhaXNIVE1MRWxlbWVudChjb21wb25lbnROYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogY29tcG9uZW50TmFtZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgY29uc3QgdGFnTmFtZSA9IGVsZW0udGFnTmFtZT8udG9Mb3dlckNhc2UoKTtcbiAgaWYgKHRhZ05hbWUgJiYgaXNIVE1MRWxlbWVudCh0YWdOYW1lKSkge1xuICAgIHJldHVybiB7IG5hbWU6IHRhZ05hbWUgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHt9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2FjaGVkIGZ1bmN0aW9uIGZvciBzZWFyY2hpbmcgYW5kIGNyZWF0aW5nIGNvbXBvbmVudCBvdmVybGF5c1xuICogQHJldHVybnMge0Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGNyZWF0ZXMgb3ZlcmxheSBlbGVtZW50cyBmb3IgY29tcG9uZW50c1xuICovXG5jb25zdCBzZWFyY2hBbmRDcmVhdGVDb21wb25lbnRDYWNoZWQgPSAoKSA9PiB7XG4gIC8vIFBlcmZvcm1hbmNlIGltcHJvdmVtZW50c1xuICBjb25zdCB1aWRzID0gbmV3IFNldCgpO1xuICByZXR1cm4gKGVsZW0pID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIHVpZCB9ID0gZ2V0Q29tcG9uZW50T2JqKGVsZW0pO1xuICAgIFxuICAgIGlmIChuYW1lICYmIG5hbWUgIT09ICdVbmtub3duJykge1xuICAgICAgaWYgKHVpZCkge1xuICAgICAgICBpZiAoIXVpZHMuaGFzKHVpZCkpIHtcbiAgICAgICAgICB1aWRzLmFkZCh1aWQpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtRm9yQ29tcG9uZW50KGVsZW0sIG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbUZvckNvbXBvbmVudChlbGVtLCBuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG59O1xuXG4vKipcbiAqIEV4dHJhY3RzIGNvbXBvbmVudCBvYmplY3RzIGZyb20gUmVhY3QgZmliZXIgdHJlZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSAtIERPTSBlbGVtZW50IHRvIGV4dHJhY3QgY29tcG9uZW50cyBmcm9tXG4gKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IG9mIGNvbXBvbmVudCBvYmplY3RzIGZyb20gZmliZXIgdHJlZVxuICovXG5jb25zdCBnZXRDb21wb25lbnRzRnJvbUVsZW1lbnQgPSAoZWxlbSkgPT4ge1xuICBsZXQgY29tcG9uZW50cyA9IFtdO1xuICBcbiAgaWYgKHdpbmRvdy5fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmliZXJLZXkgPSBPYmplY3Qua2V5cyhlbGVtKS5maW5kKGtleSA9PiBcbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ19fcmVhY3RGaWJlciQnKSB8fCBrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJylcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChmaWJlcktleSkge1xuICAgICAgICBjb25zdCBmaWJlciA9IGVsZW1bZmliZXJLZXldO1xuICAgICAgICBjb21wb25lbnRzID0gdHJhdmVyc2VGaWJlclRyZWUoZmliZXIpO1xuICAgICAgICAvLyBSZXZlcnNlIHRvIGdldCBwYXJlbnQgLT4gY2hpbGQgb3JkZXIgKHRyYXZlcnNhbCBnb2VzIGNoaWxkIC0+IHBhcmVudClcbiAgICAgICAgY29tcG9uZW50cyA9IGNvbXBvbmVudHMucmV2ZXJzZSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBTaWxlbnRseSBmYWxsIGJhY2sgdG8gbGVnYWN5IGRldGVjdGlvblxuICAgIH1cbiAgfVxuICBcbiAgaWYgKGNvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoZWxlbSkpIHtcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJykpIHtcbiAgICAgICAgY29uc3QgZmliZXJOb2RlID0gZWxlbVtrZXldO1xuICAgICAgICBpZiAoZmliZXJOb2RlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSB0cmF2ZXJzZUZpYmVyVHJlZShmaWJlck5vZGUpO1xuICAgICAgICAgICAgLy8gUmV2ZXJzZSB0byBnZXQgcGFyZW50IC0+IGNoaWxkIG9yZGVyXG4gICAgICAgICAgICBjb21wb25lbnRzID0gY29tcG9uZW50cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gU2lsZW50bHkgY29udGludWUgdG8gbmV4dCBkZXRlY3Rpb24gbWV0aG9kXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gY29tcG9uZW50cztcbn07XG5cbi8qKlxuICogR2V0cyBjb21wb25lbnQgcGF0aCBmcm9tIERPTSB0cmF2ZXJzYWwgKGZhbGxiYWNrIG1ldGhvZClcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBET00gZWxlbWVudCB0byBzdGFydCB0cmF2ZXJzYWwgZnJvbVxuICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBjb21wb25lbnQgbmFtZXMgZnJvbSBET00gdHJhdmVyc2FsXG4gKi9cbmNvbnN0IGdldERvbVBhdGggPSAoZWxlbSkgPT4ge1xuICBsZXQgY3VycmVudEVsZW0gPSBlbGVtO1xuICBjb25zdCBkb21QYXRoID0gW107XG4gIGNvbnN0IHNlZW5Db21wb25lbnROYW1lcyA9IG5ldyBTZXQoKTtcbiAgXG4gIHdoaWxlIChjdXJyZW50RWxlbSAmJiBjdXJyZW50RWxlbS5wYXJlbnROb2RlICYmIGRvbVBhdGgubGVuZ3RoIDwgMjApIHtcbiAgICBjdXJyZW50RWxlbSA9IGN1cnJlbnRFbGVtLnBhcmVudE5vZGU7XG4gICAgY29uc3QgeyBuYW1lOiBjb21wb25lbnQgfSA9IGdldENvbXBvbmVudE9iaihjdXJyZW50RWxlbSk7XG4gICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQgIT09ICdVbmtub3duJyAmJiAhaXNIVE1MRWxlbWVudChjb21wb25lbnQpKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkTmFtZSA9IGNvbXBvbmVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKCFzZWVuQ29tcG9uZW50TmFtZXMuaGFzKG5vcm1hbGl6ZWROYW1lKSkge1xuICAgICAgICBzZWVuQ29tcG9uZW50TmFtZXMuYWRkKG5vcm1hbGl6ZWROYW1lKTtcbiAgICAgICAgZG9tUGF0aC51bnNoaWZ0KGNvbXBvbmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gZG9tUGF0aDtcbn07XG5cbi8qKlxuICogQnVpbGRzIGZ1bGwgY29tcG9uZW50IHN0cnVjdHVyZSBwYXRoIChpbmNsdWRlcyBhbGwgY29tcG9uZW50cylcbiAqIEBwYXJhbSB7QXJyYXl9IGNvbXBvbmVudHMgLSBDb21wb25lbnQgb2JqZWN0cyBmcm9tIGZpYmVyIHRyZWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjdXJyZW50Q29tcG9uZW50TmFtZSAtIE5hbWUgb2YgY3VycmVudCBjb21wb25lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBPcmlnaW5hbCBET00gZWxlbWVudCBmb3IgZmFsbGJhY2tcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZ1bGwgY29tcG9uZW50IHBhdGggc3RydWN0dXJlXG4gKi9cbmNvbnN0IGJ1aWxkRnVsbFN0cnVjdHVyZSA9IChjb21wb25lbnRzLCBjdXJyZW50Q29tcG9uZW50TmFtZSwgZWxlbSkgPT4ge1xuICBpZiAoY29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZmlsdGVyZWRDb21wb25lbnRzID0gY29tcG9uZW50cy5maWx0ZXIoY29tcCA9PiBcbiAgICAgIGNvbXAubmFtZSAhPT0gY3VycmVudENvbXBvbmVudE5hbWUgJiYgIWlzSFRNTEVsZW1lbnQoY29tcC5uYW1lKVxuICAgICk7XG4gICAgXG4gICAgaWYgKGZpbHRlcmVkQ29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmdWxsUGF0aCA9IGZpbHRlcmVkQ29tcG9uZW50cy5tYXAoY29tcCA9PiBjb21wLm5hbWUpO1xuICAgICAgcmV0dXJuIFsuLi5mdWxsUGF0aCwgY3VycmVudENvbXBvbmVudE5hbWVdLmpvaW4oJyAtPiAnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGN1cnJlbnRDb21wb25lbnROYW1lO1xuICB9XG4gIFxuICBjb25zdCBkb21QYXRoID0gZ2V0RG9tUGF0aChlbGVtKTtcbiAgXG4gIGlmIChkb21QYXRoLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gWy4uLmRvbVBhdGgsIGN1cnJlbnRDb21wb25lbnROYW1lXS5qb2luKCcgLT4gJyk7XG4gIH1cbiAgXG4gIHJldHVybiBjdXJyZW50Q29tcG9uZW50TmFtZTtcbn07XG5cbi8qKlxuICogQnVpbGRzIGZpbHRlcmVkIGNvbXBvbmVudCBzdHJ1Y3R1cmUgcGF0aCAob25seSBwcm9qZWN0LW93bmVkIGNvbXBvbmVudHMpXG4gKiBAcGFyYW0ge0FycmF5fSBjb21wb25lbnRzIC0gQ29tcG9uZW50IG9iamVjdHMgZnJvbSBmaWJlciB0cmVlXG4gKiBAcGFyYW0ge3N0cmluZ30gY3VycmVudENvbXBvbmVudE5hbWUgLSBOYW1lIG9mIGN1cnJlbnQgY29tcG9uZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gT3JpZ2luYWwgRE9NIGVsZW1lbnQgZm9yIGZhbGxiYWNrXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGaWx0ZXJlZCBjb21wb25lbnQgcGF0aCBzdHJ1Y3R1cmVcbiAqL1xuY29uc3QgYnVpbGRGaWx0ZXJlZFN0cnVjdHVyZSA9IChjb21wb25lbnRzLCBjdXJyZW50Q29tcG9uZW50TmFtZSwgZWxlbSkgPT4ge1xuICBpZiAoY29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgZmlsdGVyZWRDb21wb25lbnRzID0gY29tcG9uZW50cy5maWx0ZXIoY29tcCA9PiBcbiAgICAgIGNvbXAubmFtZSAhPT0gY3VycmVudENvbXBvbmVudE5hbWUgJiYgIWlzSFRNTEVsZW1lbnQoY29tcC5uYW1lKVxuICAgICk7XG4gICAgXG4gICAgY29uc3Qgc2VlbkNvbXBvbmVudHMgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgcHJvamVjdE93bmVkQ29tcG9uZW50cyA9IFtdO1xuICAgIFxuICAgIGZvciAoY29uc3QgY29tcCBvZiBmaWx0ZXJlZENvbXBvbmVudHMpIHtcbiAgICAgIGlmICghY29tcC5pc0ludGVybmFsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3JtYWxpemVkTmFtZSA9IGNvbXAubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgXG4gICAgICBpZiAoY29tcC5maWxlKSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGaWxlID0gY29tcC5maWxlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IG5vcm1hbGl6ZWRGaWxlLnNwbGl0KC9bXFwvXFxcXF0vKTtcbiAgICAgICAgY29uc3QgZmlsZW5hbWUgPSBwYXRoUGFydHNbcGF0aFBhcnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBmaWxlbmFtZVdpdGhvdXRFeHQgPSBmaWxlbmFtZS5yZXBsYWNlKC9cXC4odHN4P3xqc3g/KSQvLCAnJyk7XG5cbiAgICAgICAgY29uc3QgbmFtZU1hdGNoZXNGaWxlID0gbm9ybWFsaXplZEZpbGUuaW5jbHVkZXMoYC8ke25vcm1hbGl6ZWROYW1lfWApIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkRmlsZS5pbmNsdWRlcyhgXFxcXCR7bm9ybWFsaXplZE5hbWV9YCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYC8ke25vcm1hbGl6ZWROYW1lfS50c3hgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkRmlsZS5lbmRzV2l0aChgLyR7bm9ybWFsaXplZE5hbWV9LnRzYCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYC8ke25vcm1hbGl6ZWROYW1lfS5qc3hgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkRmlsZS5lbmRzV2l0aChgLyR7bm9ybWFsaXplZE5hbWV9LmpzYCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYFxcXFwke25vcm1hbGl6ZWROYW1lfS50c3hgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkRmlsZS5lbmRzV2l0aChgXFxcXCR7bm9ybWFsaXplZE5hbWV9LnRzYCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYFxcXFwke25vcm1hbGl6ZWROYW1lfS5qc3hgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkRmlsZS5lbmRzV2l0aChgXFxcXCR7bm9ybWFsaXplZE5hbWV9LmpzYCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWVXaXRob3V0RXh0ID09PSBub3JtYWxpemVkTmFtZTtcbiAgICAgICAgXG4gICAgICAgIC8vIE8oMSkgbG9va3VwIHVzaW5nIHByZS1idWlsdCBpbmRleCBpbnN0ZWFkIG9mIE8obSkgc3ByZWFkICsgc29tZSArIGluY2x1ZGVzXG4gICAgICAgIGNvbnN0IGluUHJvamVjdEZpbGVQYXRocyA9IGNvbXBvbmVudE5hbWVUb0ZpbGVzSW5kZXguaGFzKG5vcm1hbGl6ZWROYW1lKTtcblxuICAgICAgICBpZiAoIW5hbWVNYXRjaGVzRmlsZSAmJiAhaW5Qcm9qZWN0RmlsZVBhdGhzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIERlZHVwbGljYXRlIGJ5IGNvbXBvbmVudCBpZGVudGl0eTogdXNlIG5vcm1hbGl6ZWQgbmFtZSArIG5vcm1hbGl6ZWQgZmlsZSBwYXRoIGFzIHVuaXF1ZSBrZXlcbiAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoYXQ6XG4gICAgICAgIC8vIDEuIFRoZSBzYW1lIGNvbXBvbmVudCAoc2FtZSBuYW1lLCBzYW1lIGZpbGUpIGFwcGVhcmluZyBtdWx0aXBsZSB0aW1lcyBpcyBvbmx5IHNob3duIG9uY2VcbiAgICAgICAgLy8gICAgKGUuZy4sIFdlYkFwcExheW91dCAtPiBXZWJBcHBMYXlvdXQgLT4gV2ViQXBwTGF5b3V0KVxuICAgICAgICAvLyAyLiBEaWZmZXJlbnQgY29tcG9uZW50cyB3aXRoIHRoZSBzYW1lIG5hbWUgYnV0IGRpZmZlcmVudCBmaWxlcyBhcmUgYm90aCBzaG93blxuICAgICAgICAvLyAgICAoZS5nLiwgY29tcG9uZW50c19sZWZ0L1BhcmVudC5qc3ggdnMgY29tcG9uZW50c19yaWdodC9QYXJlbnQuanN4KVxuICAgICAgICBjb25zdCBub3JtYWxpemVkRmlsZVBhdGggPSBub3JtYWxpemVQYXRoKGNvbXAuZmlsZSk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEtleSA9IGAke25vcm1hbGl6ZWROYW1lfToke25vcm1hbGl6ZWRGaWxlUGF0aH1gO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNlZW5Db21wb25lbnRzLmhhcyhjb21wb25lbnRLZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNlZW5Db21wb25lbnRzLmFkZChjb21wb25lbnRLZXkpO1xuICAgICAgICBwcm9qZWN0T3duZWRDb21wb25lbnRzLnB1c2goY29tcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjb21wb25lbnRLZXkgPSBub3JtYWxpemVkTmFtZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzZWVuQ29tcG9uZW50cy5oYXMoY29tcG9uZW50S2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VlbkNvbXBvbmVudHMuYWRkKGNvbXBvbmVudEtleSk7XG4gICAgICAgIHByb2plY3RPd25lZENvbXBvbmVudHMucHVzaChjb21wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocHJvamVjdE93bmVkQ29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmaWx0ZXJlZFBhdGggPSBwcm9qZWN0T3duZWRDb21wb25lbnRzLm1hcChjb21wID0+IGNvbXAubmFtZSk7XG4gICAgICBjb25zdCBjdXJyZW50TmFtZUxvd2VyID0gY3VycmVudENvbXBvbmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGNvbnN0IHBhdGhDb250YWluc0N1cnJlbnQgPSBmaWx0ZXJlZFBhdGguc29tZShuYW1lID0+IG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gY3VycmVudE5hbWVMb3dlcik7XG4gICAgICBcbiAgICAgIGxldCBmaW5hbFBhdGg7XG4gICAgICBpZiAoIXBhdGhDb250YWluc0N1cnJlbnQpIHtcbiAgICAgICAgZmluYWxQYXRoID0gWy4uLmZpbHRlcmVkUGF0aCwgY3VycmVudENvbXBvbmVudE5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmluYWxQYXRoID0gZmlsdGVyZWRQYXRoO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZW1vdmUgY29uc2VjdXRpdmUgZHVwbGljYXRlcyBvZiB0aGUgc2FtZSBjb21wb25lbnRzIGJlZm9yZSBqb2luaW5nXG4gICAgICBmaW5hbFBhdGggPSByZW1vdmVDb25zZWN1dGl2ZUR1cGxpY2F0ZXMoZmluYWxQYXRoKTtcbiAgICAgIHJldHVybiBmaW5hbFBhdGguam9pbignIC0+ICcpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gY3VycmVudENvbXBvbmVudE5hbWU7XG4gIH1cbiAgXG4gIGNvbnN0IGRvbVBhdGggPSBnZXREb21QYXRoKGVsZW0pO1xuICBcbiAgaWYgKGRvbVBhdGgubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGN1cnJlbnROYW1lTG93ZXIgPSBjdXJyZW50Q29tcG9uZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHBhdGhDb250YWluc0N1cnJlbnQgPSBkb21QYXRoLnNvbWUobmFtZSA9PiBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IGN1cnJlbnROYW1lTG93ZXIpO1xuICAgIFxuICAgIGxldCBmaW5hbFBhdGg7XG4gICAgaWYgKCFwYXRoQ29udGFpbnNDdXJyZW50KSB7XG4gICAgICBmaW5hbFBhdGggPSBbLi4uZG9tUGF0aCwgY3VycmVudENvbXBvbmVudE5hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaW5hbFBhdGggPSBkb21QYXRoO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZW1vdmUgY29uc2VjdXRpdmUgZHVwbGljYXRlcyBvZiB0aGUgc2FtZSBjb21wb25lbnRzIGJlZm9yZSBqb2luaW5nXG4gICAgZmluYWxQYXRoID0gcmVtb3ZlQ29uc2VjdXRpdmVEdXBsaWNhdGVzKGZpbmFsUGF0aCk7XG4gICAgcmV0dXJuIGZpbmFsUGF0aC5qb2luKCcgLT4gJyk7XG4gIH1cbiAgXG4gIHJldHVybiBjdXJyZW50Q29tcG9uZW50TmFtZTtcbn07XG5cbi8qKlxuICogQWRkcyB0aGUgYWJzb2x1dGUgY29tcG9uZW50IHBhdGggdG8gYW4gb3ZlcmxheSBlbGVtZW50XG4gKiBVc2VzIGZpYmVyLWJhc2VkIGhpZXJhcmNoeSBmb3IgYWNjdXJhdGUgUmVhY3QgY29tcG9uZW50IHBhdGhzXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gT3JpZ2luYWwgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHhyYXlSZWFjdEVsZW0gLSBPdmVybGF5IGVsZW1lbnRcbiAqL1xuY29uc3QgYWRkQWJzb2x1dGVDb21wb25lbnRQYXRoID0gKGVsZW0sIHhyYXlSZWFjdEVsZW0pID0+IHtcbiAgY29uc3QgY3VycmVudENvbXBvbmVudE5hbWUgPSB4cmF5UmVhY3RFbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtbmFtZScpIHx8ICcnO1xuICBcbiAgY29uc3QgY29tcG9uZW50cyA9IGdldENvbXBvbmVudHNGcm9tRWxlbWVudChlbGVtKTtcbiAgXG4gIGNvbnN0IGZ1bGxTdHJ1Y3R1cmUgPSBidWlsZEZ1bGxTdHJ1Y3R1cmUoY29tcG9uZW50cywgY3VycmVudENvbXBvbmVudE5hbWUsIGVsZW0pO1xuICBjb25zdCBmaWx0ZXJlZFN0cnVjdHVyZSA9IGJ1aWxkRmlsdGVyZWRTdHJ1Y3R1cmUoY29tcG9uZW50cywgY3VycmVudENvbXBvbmVudE5hbWUsIGVsZW0pO1xuICBcbiAgeHJheVJlYWN0RWxlbS5zZXRBdHRyaWJ1dGUoY29uc3RhbnRzLnhyYXlSZWFjdENvbXBQYXRoQXR0ciwgZnVsbFN0cnVjdHVyZSk7XG4gIHhyYXlSZWFjdEVsZW0uc2V0QXR0cmlidXRlKGNvbnN0YW50cy54cmF5UmVhY3RGaWx0ZXJlZENvbXBQYXRoQXR0ciwgZmlsdGVyZWRTdHJ1Y3R1cmUpO1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIG1vdXNlb3ZlciBldmVudHMgb24gb3ZlcmxheSBlbGVtZW50c1xuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBNb3VzZW92ZXIgZXZlbnRcbiAqL1xuY29uc3Qgb25YcmF5UmVhY3RNb3VzZW92ZXIgPSAoZXZlbnQpID0+IHtcbiAgY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50O1xuICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhjb25zdGFudHMueHJheVJlYWN0RWxlbUNOKSkge1xuICAgIGNvbnN0IGNvbXBvbmVudHNQYXRoID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShjb25zdGFudHMueHJheVJlYWN0RmlsdGVyZWRDb21wUGF0aEF0dHIpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmdldEF0dHJpYnV0ZShjb25zdGFudHMueHJheVJlYWN0Q29tcFBhdGhBdHRyKSB8fCAnJztcbiAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LWFjdGlvbnMtd3JhcHBlciAuY29tcG9uZW50cy1wYXRoJyk7XG4gICAgaWYgKHBhdGhFbGVtZW50KSB7XG4gICAgICBwYXRoRWxlbWVudC5pbm5lckhUTUwgPSBjb21wb25lbnRzUGF0aDtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBUb2dnbGVzIHRoZSB4cmF5LXJlYWN0IG92ZXJsYXkgb24vb2ZmXG4gKi9cbmNvbnN0IHRvZ2dsZVhyYXlSZWFjdCA9ICgpID0+IHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIFxuICBpZiAoYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3hyYXktcmVhY3QtZW5hYmxlZCcpKSB7XG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd4cmF5LXJlYWN0LWVuYWJsZWQnKTtcbiAgICBjb25zdCB4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOfWApO1xuICAgIGNvbnN0IHhyYXlSZWFjdEFjdGlvbkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LWFjdGlvbi1iYXInKTtcbiAgICBjb25zdCB4cmF5UmVhY3RTdHlsZVRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LXN0eWxlLXRhZycpO1xuICAgIGNvbnN0IHRlbXBFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy54cmF5LXJlYWN0LWVsZW1lbnQtdGVtcCcpO1xuICAgIFxuICAgIGlmICh4cmF5UmVhY3RBY3Rpb25CYXIpIHtcbiAgICAgIHhyYXlSZWFjdEFjdGlvbkJhci5jbGFzc0xpc3QucmVtb3ZlKCctc2ltcGxlLW1vZGUnKTtcbiAgICB9XG4gICAgaWYgKHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlcikge1xuICAgICAgaWYgKHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5faGVpZ2h0T2JzZXJ2ZXIpIHtcbiAgICAgICAgeHJheVJlYWN0RWxlbWVudHNXcmFwcGVyLl9oZWlnaHRPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9XG4gICAgICBpZiAoeHJheVJlYWN0RWxlbWVudHNXcmFwcGVyLl9oZWlnaHRVcGRhdGUpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5faGVpZ2h0VXBkYXRlKTtcbiAgICAgIH1cbiAgICAgIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5yZW1vdmUoKTtcbiAgICB9XG4gICAgaWYgKHhyYXlSZWFjdEFjdGlvbkJhcikgeHJheVJlYWN0QWN0aW9uQmFyLnJlbW92ZSgpO1xuICAgIGlmICh4cmF5UmVhY3RTdHlsZVRhZykgeHJheVJlYWN0U3R5bGVUYWcucmVtb3ZlKCk7XG4gICAgdGVtcEVsZW1lbnRzLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgIFxuICAgIGJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgb25YcmF5UmVhY3RNb3VzZW92ZXIpO1xuICB9IGVsc2Uge1xuICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgneHJheS1yZWFjdC1lbmFibGVkJyk7XG5cbiAgICBjdXJyZW50TW9kZSA9IGdldEN1cnJlbnRNb2RlKCk7XG5cbiAgICBsZXQgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhyYXktcmVhY3Qtc3R5bGUtdGFnJyk7XG4gICAgaWYgKCFzdHlsZUVsZW1lbnQpIHtcbiAgICAgIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsZW1lbnQuY2xhc3NOYW1lID0gJ3hyYXktcmVhY3Qtc3R5bGUtdGFnJztcbiAgICAgIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IGNzcztcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdBY3Rpb25CYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueHJheS1yZWFjdC1hY3Rpb24tYmFyJyk7XG4gICAgaWYgKCFleGlzdGluZ0FjdGlvbkJhcikge1xuICAgICAgYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGFjdGlvbkJhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ2xlYXJCdXR0b24gPSBleGlzdGluZ0FjdGlvbkJhci5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoLWNsZWFyJyk7XG4gICAgICBpZiAoZXhpc3RpbmdDbGVhckJ1dHRvbiAmJiAhZXhpc3RpbmdDbGVhckJ1dHRvbi5oYXNBdHRyaWJ1dGUoJ2RhdGEtbGlzdGVuZXItYXR0YWNoZWQnKSkge1xuICAgICAgICBleGlzdGluZ0NsZWFyQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1saXN0ZW5lci1hdHRhY2hlZCcsICd0cnVlJyk7XG4gICAgICAgIGV4aXN0aW5nQ2xlYXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVTZWFyY2hDbGVhcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50TW9kZSA9PT0gVUlfTU9ERV9TSU1QTEUgJiYgZXhpc3RpbmdBY3Rpb25CYXIpIHtcbiAgICAgIGV4aXN0aW5nQWN0aW9uQmFyLmNsYXNzTGlzdC5hZGQoJy1zaW1wbGUtbW9kZScpO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudE1vZGUgPT09IFVJX01PREVfU0lNUExFICYmICFleGlzdGluZ0FjdGlvbkJhcikge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LWFjdGlvbi1iYXInKTtcbiAgICAgICAgaWYgKGFjdGlvbkJhcikge1xuICAgICAgICAgIGFjdGlvbkJhci5jbGFzc0xpc3QuYWRkKCctc2ltcGxlLW1vZGUnKTtcbiAgICAgICAgfVxuICAgICAgfSwgMCk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50TW9kZSAhPT0gVUlfTU9ERV9TSU1QTEUgJiYgZXhpc3RpbmdBY3Rpb25CYXIpIHtcbiAgICAgIGV4aXN0aW5nQWN0aW9uQmFyLmNsYXNzTGlzdC5yZW1vdmUoJy1zaW1wbGUtbW9kZScpO1xuICAgIH1cbiAgICBjb25zdCBzZWFyY2hJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2gtY29tcG9uZW50Jyk7XG4gICAgaWYgKHNlYXJjaElucHV0KSB7XG4gICAgICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGhhbmRsZVNlYXJjaENoYW5nZSk7XG4gICAgICB1cGRhdGVDbGVhckJ1dHRvbihzZWFyY2hJbnB1dCk7XG4gICAgfVxuICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaC1jbGVhcicpO1xuICAgIGlmIChjbGVhckJ1dHRvbiAmJiAhY2xlYXJCdXR0b24uaGFzQXR0cmlidXRlKCdkYXRhLWxpc3RlbmVyLWF0dGFjaGVkJykpIHtcbiAgICAgIGNsZWFyQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGF0YS1saXN0ZW5lci1hdHRhY2hlZCcsICd0cnVlJyk7XG4gICAgICBjbGVhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlYXJjaENsZWFyKTtcbiAgICB9XG4gICAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvblhyYXlSZWFjdE1vdXNlb3Zlcik7XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y29uc3RhbnRzLnhyYXlSZWFjdFdyYXBwZXJDTn1gKTtcbiAgICBpZiAoZXhpc3RpbmdXcmFwcGVyKSB7XG4gICAgICBleGlzdGluZ1dyYXBwZXIucmVtb3ZlKCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5jbGFzc05hbWUgPSBjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOO1xuICAgIGlmIChjdXJyZW50TW9kZSA9PT0gVUlfTU9ERV9TSU1QTEUpIHtcbiAgICAgIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5jbGFzc0xpc3QuYWRkKCctc2ltcGxlLW1vZGUnKTtcbiAgICAgIGNvbnN0IHVwZGF0ZVdyYXBwZXJIZWlnaHQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRvY0hlaWdodCA9IE1hdGgubWF4KFxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgIGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0LFxuICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCxcbiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0XG4gICAgICAgICk7XG4gICAgICAgIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5zdHlsZS5oZWlnaHQgPSBgJHtkb2NIZWlnaHR9cHhgO1xuICAgICAgfTtcbiAgICAgIHVwZGF0ZVdyYXBwZXJIZWlnaHQoKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB1cGRhdGVXcmFwcGVySGVpZ2h0KTtcbiAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodXBkYXRlV3JhcHBlckhlaWdodCk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBhdHRyaWJ1dGVzOiB0cnVlIH0pO1xuICAgICAgeHJheVJlYWN0RWxlbWVudHNXcmFwcGVyLl9oZWlnaHRPYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgeHJheVJlYWN0RWxlbWVudHNXcmFwcGVyLl9oZWlnaHRVcGRhdGUgPSB1cGRhdGVXcmFwcGVySGVpZ2h0O1xuICAgIH1cbiAgICBib2R5LmFwcGVuZCh4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIpO1xuICAgIGlmIChjdXJyZW50TW9kZSA9PT0gVUlfTU9ERV9TSU1QTEUpIHtcbiAgICAgIGNvbnN0IGFjdGlvbkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LWFjdGlvbi1iYXInKTtcbiAgICAgIGlmIChhY3Rpb25CYXIpIHtcbiAgICAgICAgYWN0aW9uQmFyLmNsYXNzTGlzdC5hZGQoJy1zaW1wbGUtbW9kZScpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBleGlzdGluZ0xvYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcueHJheS1yZWFjdC1lbGVtZW50LXRlbXAnKTtcbiAgICBleGlzdGluZ0xvYWRpbmcuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgXG4gICAgY29uc3QgbG9hZGluZ0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBsb2FkaW5nRWxlbWVudC5jbGFzc05hbWUgPSAneHJheS1yZWFjdC1lbGVtZW50IHhyYXktcmVhY3QtZWxlbWVudC10ZW1wJztcbiAgICBsb2FkaW5nRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHR9cHhgO1xuICAgIGxvYWRpbmdFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7d2luZG93LmlubmVyV2lkdGh9cHhgO1xuICAgIGxvYWRpbmdFbGVtZW50LnN0eWxlLnRvcCA9IGAke3dpbmRvdy5zY3JvbGxZfXB4YDtcbiAgICBsb2FkaW5nRWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7d2luZG93LnNjcm9sbFh9cHhgO1xuICAgIGxvYWRpbmdFbGVtZW50LnN0eWxlLnpJbmRleCA9ICcxMDAwMCc7XG4gICAgbG9hZGluZ0VsZW1lbnQuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJ4cmF5LXJlYWN0LXNwaW5uZXIgeHJheS1yZWFjdC1lbGVtZW50LXRlbXBcIj48L2Rpdj4nO1xuICAgIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5hcHBlbmRDaGlsZChsb2FkaW5nRWxlbWVudCk7XG4gICAgXG4gICAgLy8gUGVyZm9ybWFuY2UgaW1wcm92ZW1lbnRzXG4gICAgY29uc3QgcHJvY2Vzc0VsZW1lbnRzQXN5bmMgPSAoKSA9PiB7XG4gICAgICBjb25zdCB4cmF5UmVhY3RPYmplY3RzID0gW107XG4gICAgICBjb25zdCBzZWFyY2hBbmRDcmVhdGVDb21wb25lbnQgPSBzZWFyY2hBbmRDcmVhdGVDb21wb25lbnRDYWNoZWQoKTtcbiAgICAgIGNvbnN0IGFsbEVsZW1lbnRzID0gQXJyYXkuZnJvbShib2R5LmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJykpLmZpbHRlcihlbGVtID0+IHtcbiAgICAgICAgcmV0dXJuICFlbGVtLmNsYXNzTGlzdC5jb250YWlucygneHJheS1yZWFjdC1lbGVtZW50LXRlbXAnKSAmJlxuICAgICAgICAgICAgICAgIWVsZW0uY2xvc2VzdCgnLnhyYXktcmVhY3QtYWN0aW9uLWJhcicpICYmXG4gICAgICAgICAgICAgICAhZWxlbS5jbG9zZXN0KGAuJHtjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOfWApO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBiYXRjaFNpemUgPSAyMDtcbiAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICBcbiAgICAgIGNvbnN0IHByb2Nlc3NCYXRjaCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSBNYXRoLm1pbihpbmRleCArIGJhdGNoU2l6ZSwgYWxsRWxlbWVudHMubGVuZ3RoKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlbGVtID0gYWxsRWxlbWVudHNbaV07XG4gICAgICAgICAgY29uc3QgeHJheVJlYWN0T2JqID0gc2VhcmNoQW5kQ3JlYXRlQ29tcG9uZW50KGVsZW0pO1xuICAgICAgICAgIGlmICh4cmF5UmVhY3RPYmopIHtcbiAgICAgICAgICAgIHhyYXlSZWFjdE9iamVjdHMucHVzaCh4cmF5UmVhY3RPYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaW5kZXggPSBlbmRJbmRleDtcbiAgICAgICAgXG4gICAgICAgIGlmIChpbmRleCA8IGFsbEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHNldFRpbWVvdXQocHJvY2Vzc0JhdGNoLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgcGF0aEluZGV4ID0gMDtcbiAgICAgICAgICBjb25zdCBwYXRoQmF0Y2hTaXplID0gMTA7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcHJvY2Vzc1BhdGhzID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kSW5kZXggPSBNYXRoLm1pbihwYXRoSW5kZXggKyBwYXRoQmF0Y2hTaXplLCB4cmF5UmVhY3RPYmplY3RzLmxlbmd0aCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXRoSW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgZWxlbSwgeHJheVJlYWN0RWxlbSB9ID0geHJheVJlYWN0T2JqZWN0c1tpXTtcbiAgICAgICAgICAgICAgYWRkQWJzb2x1dGVDb21wb25lbnRQYXRoKGVsZW0sIHhyYXlSZWFjdEVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYXRoSW5kZXggPSBlbmRJbmRleDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHBhdGhJbmRleCA8IHhyYXlSZWFjdE9iamVjdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQocHJvY2Vzc1BhdGhzLCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOfWApO1xuICAgICAgICAgICAgICBpZiAod3JhcHBlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBFbGVtZW50cyA9IHdyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnLnhyYXktcmVhY3QtZWxlbWVudC10ZW1wJyk7XG4gICAgICAgICAgICAgICAgdGVtcEVsZW1lbnRzLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kKC4uLnhyYXlSZWFjdE9iamVjdHMubWFwKG9iaiA9PiBvYmoueHJheVJlYWN0RWxlbSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRUaW1lb3V0KHByb2Nlc3NQYXRocywgMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIHNldFRpbWVvdXQocHJvY2Vzc0JhdGNoLCAxKTtcbiAgICB9O1xuICAgIFxuICAgIHByb2Nlc3NFbGVtZW50c0FzeW5jKCk7XG4gIH1cbn07XG5cbi8qKlxuICogS2V5ZG93biBldmVudCBoYW5kbGVyIGZvciB4cmF5LXJlYWN0IHNob3J0Y3V0c1xuICogTWF0Y2hlcyB4cmF5LXJhaWxzOiBDbWQrU2hpZnQrWCAoTWFjKSAvIEN0cmwrU2hpZnQrWCAoV2luZG93cy9MaW51eClcbiAqL1xubGV0IGtleWRvd25IYW5kbGVyID0gbnVsbDtcbmxldCBpc0hhbmRsZXJSZWdpc3RlcmVkID0gZmFsc2U7XG5cbmNvbnN0IGNyZWF0ZUtleWRvd25IYW5kbGVyID0gKCkgPT4ge1xuICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgaWYgKGJvZHkgJiYgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3hyYXktcmVhY3QtZW5hYmxlZCcpKSB7XG4gICAgICAgIHRvZ2dsZVhyYXlSZWFjdCgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBpc01hYyA9IG5hdmlnYXRvci5wbGF0Zm9ybS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ01BQycpID49IDA7XG4gICAgY29uc3QgaXNNZXRhT3JDdHJsID0gaXNNYWMgPyBldmVudC5tZXRhS2V5IDogZXZlbnQuY3RybEtleTtcbiAgICBjb25zdCBpc1NoaWZ0ID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgY29uc3QgaXNYID0gZXZlbnQua2V5ID09PSAneCcgfHwgZXZlbnQua2V5ID09PSAnWCcgfHwgZXZlbnQua2V5Q29kZSA9PT0gODg7XG4gICAgXG4gICAgaWYgKGlzTWV0YU9yQ3RybCAmJiBpc1NoaWZ0ICYmIGlzWCkge1xuICAgICAgdG9nZ2xlWHJheVJlYWN0KCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIGtleWJvYXJkIHNob3J0Y3V0IHRvIHRvZ2dsZSB4cmF5LXJlYWN0XG4gKiBFbnN1cmVzIHRoZSBsaXN0ZW5lciBpcyBvbmx5IHJlZ2lzdGVyZWQgb25jZVxuICovXG5jb25zdCBoYW5kbGVYcmF5UmVhY3RUb2dnbGUgPSAoKSA9PiB7XG4gIGlmIChpc0hhbmRsZXJSZWdpc3RlcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBpZiAoIWtleWRvd25IYW5kbGVyKSB7XG4gICAga2V5ZG93bkhhbmRsZXIgPSBjcmVhdGVLZXlkb3duSGFuZGxlcigpO1xuICB9XG4gIFxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIsIHRydWUpO1xuICBpc0hhbmRsZXJSZWdpc3RlcmVkID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyB4cmF5LXJlYWN0IGZ1bmN0aW9uYWxpdHlcbiAqL1xuZXhwb3J0IGNvbnN0IGVuYWJsZVhyYXlSZWFjdCA9ICgpID0+IHtcbiAgY3VycmVudE1vZGUgPSBnZXRDdXJyZW50TW9kZSgpO1xuXG4gIGlmICghcHJvamVjdFJvb3QpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX1JPT1RfXykge1xuICAgICAgcHJvamVjdFJvb3QgPSBub3JtYWxpemVQYXRoKHdpbmRvdy5fX1hSQVlfUkVBQ1RfUFJPSkVDVF9ST09UX18pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGV0ZWN0UHJvamVjdFJvb3RGcm9tRE9NKCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH1cblxuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGhhbmRsZVhyYXlSZWFjdFRvZ2dsZSk7XG4gIH0gZWxzZSB7XG4gICAgaGFuZGxlWHJheVJlYWN0VG9nZ2xlKCk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBlbmFibGVYcmF5UmVhY3QsIHNldFByb2plY3RSb290LCBzZXRVc2FnZU1hcCwgc2V0SW1wb3J0TWFwLCBzZXRQcm9qZWN0RmlsZXMsIHNldE1vZGUgfSBmcm9tICcuLi9zcmMvdWktdXRpbHMuanMnO1xuXG4vLyBFeHBvc2UgZnVuY3Rpb25zIGdsb2JhbGx5IGZvciBjbGllbnQgYnVuZGxlIHRvIHVzZVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHdpbmRvdy54cmF5UmVhY3RTZXRQcm9qZWN0Um9vdCA9IHNldFByb2plY3RSb290O1xuICB3aW5kb3cueHJheVJlYWN0U2V0VXNhZ2VNYXAgPSBzZXRVc2FnZU1hcDtcbiAgd2luZG93LnhyYXlSZWFjdFNldEltcG9ydE1hcCA9IHNldEltcG9ydE1hcDtcbiAgd2luZG93LnhyYXlSZWFjdFNldFByb2plY3RGaWxlcyA9IHNldFByb2plY3RGaWxlcztcbiAgd2luZG93LnhyYXlSZWFjdFNldE1vZGUgPSBzZXRNb2RlO1xufVxuXG5lbmFibGVYcmF5UmVhY3QoKTtcbiJdLCJuYW1lcyI6WyJjb25zdGFudHMueHJheVJlYWN0RWxlbUNOIiwiY29uc3RhbnRzLnpJbmRleCIsImNvbnN0YW50cy5IVE1MX0VMRU1FTlRTIiwiY29uc3RhbnRzLnhyYXlSZWFjdENvbXBQYXRoQXR0ciIsImNvbnN0YW50cy54cmF5UmVhY3RGaWx0ZXJlZENvbXBQYXRoQXR0ciIsImNvbnN0YW50cy54cmF5UmVhY3RXcmFwcGVyQ04iXSwibWFwcGluZ3MiOiI7OztFQUFPLE1BQU0sZUFBZSxHQUFHLG9CQUFvQjtFQUM1QyxNQUFNLGtCQUFrQixHQUFHLDZCQUE2QjtFQUN4RCxNQUFNLHFCQUFxQixHQUFHLGlDQUFpQztFQUMvRCxNQUFNLDZCQUE2QixHQUFHLDBDQUEwQztFQUNoRixNQUFNLE1BQU0sR0FBRyxLQUFLOztFQUVwQixNQUFNLFlBQVksR0FBRyxNQUFNO0VBQzNCLE1BQU0sY0FBYyxHQUFHLFFBQVE7RUFDL0IsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLFlBQVksRUFBRSxjQUFjLENBQUM7O0VBRXpELE1BQU0sYUFBYSxHQUFHLElBQUksR0FBRyxDQUFDO0VBQ3JDLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUk7RUFDL0YsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPO0VBQ3hFLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsT0FBTztFQUNsRSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsUUFBUTtFQUMvRCxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUs7RUFDbEUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxNQUFNO0VBQ3ZELEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLFNBQVM7RUFDMUUsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPO0VBQ2xFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRTtFQUNqRCxDQUFDLENBQUM7O0FDcEJGLFlBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0VDeE1NLE1BQU0sU0FBUyxHQUFHO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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
