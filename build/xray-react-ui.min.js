(function () {
  'use strict';

  const xrayReactElemCN = 'xray-react-element';
  const xrayReactWrapperCN = 'xray-react-elements-wrapper';
  const xrayReactCompPathAttr = 'data-xray-react-components-path';
  const xrayReactFilteredCompPathAttr = 'data-xray-react-filtered-components-path';
  const zIndex = 10000;

  const HTML_ELEMENTS = new Set([
    'div', 'span', 'form', 'button', 'input', 'a', 'img', 'p', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',
    'ul', 'li', 'ol', 'table', 'tr', 'td', 'th', 'thead', 'tbody', 'tfoot',
    'section', 'article', 'header', 'footer', 'nav', 'main', 'aside',
    'label', 'select', 'option', 'textarea', 'fieldset', 'legend',
    'br', 'hr', 'strong', 'em', 'b', 'i', 'u', 'small', 'sub', 'sup',
    'dl', 'dt', 'dd', 'pre', 'code', 'blockquote', 'cite',
    'canvas', 'svg', 'path', 'circle', 'rect', 'line', 'polyline', 'polygon',
    'iframe', 'embed', 'object', 'video', 'audio', 'source', 'track',
    'meta', 'link', 'style', 'script', 'noscript', 'template'
  ]);

  var css = `
  .xray-react-enabled {
    margin-bottom: 50px !important;
  }
  .xray-react-elements-wrapper {
    bottom: 0;
    font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-style: normal;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
  }
  .xray-react-element {
    background-color: rgba(0, 0, 255, 0.25);
    border: 2px solid blue;
    cursor: pointer;
    position: absolute;
  }
  .xray-react-element::before {
    align-self: center;
    color: white;
    content: attr(data-xray-react-element-name);
    display: table;
    font-size: 18px;
    font-weight: 400;
    left: 50%;
    position: absolute;
    right: 0;
    text-align: center;
    top: 50%;
    transform: translate(-50%, -50%);
  }
  .xray-react-element::after {
    background-color: darkblue;
    color: white;
    content: attr(data-xray-react-element-name);
    display: inline-block;
    font-size: 10px;
    left: 0;
    padding: 0 5px;
    position: absolute;
    top: 0;
  }
  .xray-react-element:hover,
  .xray-react-element.-highlighted {
    background-color: rgba(0, 0, 255, 0.75);
    border-color: cyan;
  }
  .xray-react-element:hover::before,
  .xray-react-element.-highlighted::before {
    color: cyan;
  }
  .xray-react-element:hover::after,
  .xray-react-element.-highlighted::after {
    background-color: cyan;
    color: darkblue;
  }
  .xray-react-element.-highlighted {
    z-index: 99999 !important;
  }
  .xray-react-action-bar {
    align-items: center;
    background-color: darkblue;
    bottom: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-height: 100px;
    min-height: 50px;
    overflow-y: auto;
    padding: 0 10px;
    position: fixed;
    width: 100vw;
    z-index: 999999;
  }
  .xray-react-action-bar::-webkit-scrollbar {
    width: 8px;
  }
  .xray-react-action-bar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
  }
  .xray-react-action-bar::-webkit-scrollbar-thumb {
    background: cyan;
    border-radius: 4px;
  }
  .xray-react-action-bar::-webkit-scrollbar-thumb:hover {
    background: #00ffff;
  }
  .xray-react-actions-wrapper {
    align-items: center;
    display: flex;
    font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-style: normal;
    min-height: 50px;
    padding: 5px 0;
    position: sticky;
    top: 0;
    width: 100%;
  }
  #search-component {
    align-self: center;
    background-color: lightgray;
    border-radius: 3px;
    border: 0;
    flex-shrink: 0;
    font-size: 14px;
    height: 30px;
    line-height: 20px;
    margin-right: 15px;
    min-width: 200px;
    outline: 0;
    padding: 5px 10px;
    width: 25%;
  }
  .components-path {
    color: cyan;
    flex: 1;
    font-size: 11px;
    line-height: 1.4;
    min-width: 0;
    overflow-x: auto;
    overflow-y: visible;
    white-space: nowrap;
    word-break: keep-all;
  }
  .components-path::-webkit-scrollbar {
    height: 4px;
  }
  .components-path::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
  }
  .components-path::-webkit-scrollbar-thumb {
    background: cyan;
    border-radius: 2px;
  }
  .components-path::-webkit-scrollbar-thumb:hover {
    background: #00ffff;
  }
  .xray-react-element-temp {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  .xray-react-element-temp::before {
    display: none !important;
  }
  .xray-react-element-temp::after {
    display: none !important;
  }
  .xray-react-spinner {
    width: 50px;
    height: 50px;
    border: 4px solid rgba(0, 255, 255, 0.3);
    border-top-color: cyan;
    border-radius: 50%;
    animation: xray-react-spin 1s linear infinite;
    position: relative;
    z-index: 1;
  }
  @keyframes xray-react-spin {
    to { transform: rotate(360deg); }
  }
`;

  const actionBar = `
  <div class="xray-react-action-bar">
    <div class="xray-react-actions-wrapper">
      <input id="search-component" type="text" placeholder="Search component by name..."/>
      <div class="components-path"></div>
    </div>
  </div>
`;

  const MAX_FIBER_DEPTH = 50; // Prevent infinite loops

  let projectRoot = null;
  let usageMap = {};
  let importMap = {};
  let projectFilePaths = new Set();
  const EXTERNAL_PATTERNS = [
    /node_modules/i,
    /\.next[\/\\]/i,
    /dist[\/\\]/i,
    /build[\/\\]/i,
    /\.git[\/\\]/i,
    /\.cache[\/\\]/i,
    /coverage[\/\\]/i,
  ];

  /**
   * Normalizes a file path for comparison
   * Handles both Unix and Windows paths, relative and absolute
   * @param {string} filePath - File path to normalize
   * @returns {string} Normalized path
   */
  const normalizePath = (filePath) => {
    if (!filePath) return '';
    
    // Convert to string and normalize separators
    let normalized = String(filePath).replace(/\\/g, '/');
    
    // Remove leading/trailing slashes for comparison
    normalized = normalized.replace(/^\/+|\/+$/g, '');
    
    return normalized.toLowerCase();
  };

  /**
   * Checks if a file path is external (node_modules, build artifacts, etc.)
   * @param {string} filePath - File path to check
   * @returns {boolean} True if path is external
   */
  const isExternalPath = (filePath) => {
    if (!filePath) return false;
    
    const normalized = normalizePath(filePath);
    
    // Check against external patterns
    return EXTERNAL_PATTERNS.some(pattern => pattern.test(normalized));
  };

  /**
   * Detects project root from a file path by finding common base path
   * @param {Array<string>} filePaths - Array of file paths from fibers
   * @returns {string|null} Detected project root or null
   */
  const detectProjectRootFromPaths = (filePaths) => {
    if (!filePaths || filePaths.length === 0) return null;
    
    const projectPaths = filePaths
      .filter(path => path && !isExternalPath(path))
      .map(normalizePath);
    
    if (projectPaths.length === 0) return null;
    
    const pathParts = projectPaths.map(path => path.split('/'));
    const minLength = Math.min(...pathParts.map(parts => parts.length));
    
    let commonParts = [];
    for (let i = 0; i < minLength; i++) {
      const part = pathParts[0][i];
      if (pathParts.every(parts => parts[i] === part)) {
        commonParts.push(part);
      } else {
        break;
      }
    }
    
    if (commonParts.length > 0) {
      return '/' + commonParts.join('/');
    }
    
    // Fallback: use first path's directory
    const firstPath = projectPaths[0];
    const lastSlash = firstPath.lastIndexOf('/');
    if (lastSlash > 0) {
      return '/' + firstPath.substring(0, lastSlash);
    }
    
    return null;
  };

  /**
   * Removes consecutive duplicate component names from an array
   * @param {Array<string>} path - Array of component names
   * @returns {Array<string>} Array with consecutive duplicates removed
   */
  const removeConsecutiveDuplicates = (path) => {
    if (path.length === 0) return path;
    
    const result = [path[0]];
    for (let i = 1; i < path.length; i++) {
      if (path[i].toLowerCase() !== path[i - 1].toLowerCase()) {
        result.push(path[i]);
      }
    }
    return result;
  };

  /**
   * Handles search input changes to highlight matching components
   * @param {Event} event - Input event
   */
  const handleSearchChange = (event) => {
    const value = event.target.value.toLowerCase();
    const regExp = new RegExp(`^${value}|${value}$`);
    const elements = document.querySelectorAll(`.${xrayReactElemCN}`);
    
    for (const elem of elements) {
      if (value.length >= 2) {
        const searchName = elem.getAttribute('data-xray-react-element-search-name');
        if (searchName && searchName.match(regExp)) {
      elem.classList.add('-highlighted');
        } else {
          elem.classList.remove('-highlighted');
        }
      } else {
        elem.classList.remove('-highlighted');
      }
    }
  };

  /**
   * Creates an overlay element for a React component
   * @param {HTMLElement} elem - The DOM element
   * @param {string} componentName - Name of the React component
   * @returns {Object} Object containing original element and overlay element
   */
  const createElemForComponent = (elem, componentName) => {
    const xrayReactElem = document.createElement('div');
    const boundingClientRect = elem.getBoundingClientRect();
    
    xrayReactElem.className = xrayReactElemCN;
    xrayReactElem.setAttribute('data-xray-react-element-name', componentName);
    xrayReactElem.setAttribute('data-xray-react-element-search-name', componentName.toLowerCase());
    xrayReactElem.style.height = `${boundingClientRect.height}px`;
    xrayReactElem.style.width = `${boundingClientRect.width}px`;
    xrayReactElem.style.top = `${boundingClientRect.top + window.scrollY}px`;
    xrayReactElem.style.left = `${boundingClientRect.left + window.scrollX}px`;
    xrayReactElem.style.zIndex = zIndex;
    
    return { elem, xrayReactElem };
  };

  /**
   * Checks if a name is an HTML element
   * @param {string} name - Component or element name
   * @returns {boolean} True if it's an HTML element
   */
  const isHTMLElement = (name) => {
    if (!name || typeof name !== 'string') return false;
    return HTML_ELEMENTS.has(name.toLowerCase());
  };

  /**
   * Resolves component name from element type and fiber
   * Handles function components, class components, forwardRef, memo, etc.
   * @param {*} elementType - React element type
   * @param {Object} fiber - React fiber node
   * @returns {string|null} Component name or null
   */
  const resolveComponentName = (elementType, fiber = null) => {
    if (!elementType) return null;

    // Handle function components
    if (typeof elementType === 'function') {
      // Check displayName first (most reliable)
      if (elementType.displayName) {
        return elementType.displayName;
      }
      
      // Check name
      if (elementType.name && elementType.name !== 'Anonymous') {
        return elementType.name;
      }
      
      // For forwardRef, memo, etc., check the wrapped component
      if (elementType.render) {
        return resolveComponentName(elementType.render, fiber);
      }
      
      // Check if it's a forwardRef
      if (elementType.$$typeof && elementType.type) {
        return resolveComponentName(elementType.type, fiber);
      }
    }
    
    // Handle string types (HTML elements)
    if (typeof elementType === 'string') {
      return elementType;
    }
    
    // Handle React element types
    if (elementType && elementType.$$typeof) {
      if (elementType.type) {
        return resolveComponentName(elementType.type, fiber);
      }
    }
    
    // Try to get name from fiber's _debugSource (file path)
    if (fiber && fiber._debugSource) {
      const fileName = fiber._debugSource.fileName;
      if (fileName) {
        // Extract component name from file path
        const match = fileName.match(/([^/\\]+)\.(jsx?|tsx?)$/);
        if (match) {
          return match[1];
        }
      }
    }
    
    return null;
  };

  /**
   * Checks if a component belongs to the project based on its source file path
   * @param {Object} fiber - React fiber node
   * @param {string} projectRootPath - Project root path for comparison
   * @param {string} componentName - Optional component name to check against project files
   * @returns {boolean} True if component belongs to project
   */
  const isProjectComponent = (fiber, projectRootPath, componentName = null) => {
    if (!projectRootPath) {
      return true;
    }

    const filePath = fiber?._debugSource?.fileName;

    if (filePath) {
      if (isExternalPath(filePath)) {
        return false;
      }
      
      const normalizedFilePath = normalizePath(filePath);
      const normalizedProjectRoot = normalizePath(projectRootPath);
      
      if (normalizedFilePath.startsWith(normalizedProjectRoot)) {
        return true;
      }
      
      if (!normalizedFilePath.includes('node_modules') && 
          !normalizedFilePath.startsWith('/') &&
          !normalizedFilePath.match(/^[a-z]:/i)) {
        return true;
      }
      
      return false;
    }
    
    if (componentName) {
      const normalizedComponentName = componentName.toLowerCase();
      for (const projectFilePath of projectFilePaths) {
        const normalizedProjectFile = normalizePath(projectFilePath);
        const pathParts = normalizedProjectFile.split(/[\/\\]/);
        const filename = pathParts[pathParts.length - 1];
        const filenameWithoutExt = filename.replace(/\.(tsx?|jsx?)$/, '');
        // Check if file path contains component name in various patterns:
        // - /ComponentName/ (directory)
        // - /ComponentName.jsx
        // - /ComponentName.tsx
        // - ComponentName.jsx (filename)
        // - ComponentName.tsx (filename)

        if (normalizedProjectFile.includes(`/${normalizedComponentName}/`) ||
            normalizedProjectFile.includes(`\\${normalizedComponentName}\\`) ||
            normalizedProjectFile.endsWith(`/${normalizedComponentName}.jsx`) ||
            normalizedProjectFile.endsWith(`/${normalizedComponentName}.tsx`) ||
            normalizedProjectFile.endsWith(`/${normalizedComponentName}.js`) ||
            normalizedProjectFile.endsWith(`/${normalizedComponentName}.ts`) ||
            normalizedProjectFile.endsWith(`\\${normalizedComponentName}.jsx`) ||
            normalizedProjectFile.endsWith(`\\${normalizedComponentName}.tsx`) ||
            normalizedProjectFile.endsWith(`\\${normalizedComponentName}.js`) ||
            normalizedProjectFile.endsWith(`\\${normalizedComponentName}.ts`) ||
            filenameWithoutExt === normalizedComponentName) {
          return true;
        }
      }
    }
    
    return false;
  };

  /**
   * Sets the project root path for filtering
   * @param {string} rootPath - Project root path
   */
  const setProjectRoot = (rootPath) => {
    projectRoot = rootPath ? normalizePath(rootPath) : null;
    console.debug('xray-react: Project root set to:', projectRoot);
    
    if (typeof window !== 'undefined' && window.__XRAY_REACT_PROJECT_ROOT__ && !projectRoot) {
      projectRoot = normalizePath(window.__XRAY_REACT_PROJECT_ROOT__);
    }
  };

  /**
   * Sets the usage map for filtering external components
   * @param {Object} map - Usage map (file path -> Array of component names)
   */
  const setUsageMap = (map) => {
    usageMap = map || {};
    console.debug('xray-react: Usage map set:', Object.keys(usageMap).length, 'files');
    
    if (typeof window !== 'undefined' && window.__XRAY_REACT_USAGE_MAP__ && Object.keys(usageMap).length === 0) {
      usageMap = window.__XRAY_REACT_USAGE_MAP__;
    }
    
    if (projectFilePaths.size === 0) {
      projectFilePaths = new Set(Object.keys(usageMap || {}));
    } else {
      Object.keys(usageMap || {}).forEach(filePath => projectFilePaths.add(filePath));
    }
  };

  /**
   * Sets the import map for filtering external components (fallback)
   * @param {Object} map - Import map (file path -> Array of component names)
   */
  const setImportMap = (map) => {
    importMap = map || {};
    console.debug('xray-react: Import map set:', Object.keys(importMap).length, 'files');
    
    if (typeof window !== 'undefined' && window.__XRAY_REACT_IMPORT_MAP__ && Object.keys(importMap).length === 0) {
      importMap = window.__XRAY_REACT_IMPORT_MAP__;
    }
    
    Object.keys(importMap || {}).forEach(filePath => projectFilePaths.add(filePath));
  };

  /**
   * Sets the list of all project files found in sourcePath folders
   * @param {Array<string>} files - Array of all file paths found in sourcePath
   */
  const setProjectFiles = (files) => {
    const fileList = files || [];
    console.log('xray-react: Total project files:', fileList.length);
    
    if (typeof window !== 'undefined' && window.__XRAY_REACT_PROJECT_FILES__ && fileList.length === 0) {
      const globalFiles = window.__XRAY_REACT_PROJECT_FILES__;
      if (Array.isArray(globalFiles)) {
        fileList.push(...globalFiles);
        console.log('xray-react: Loaded project files from global variable:', fileList.length);
      }
    }
    
    projectFilePaths = new Set(fileList);
    console.log('xray-react: Updated projectFilePaths with', projectFilePaths.size, 'files');
  };

  /**
   * Attempts to detect project root from fiber tree when server is not available
   * Scans DOM for React fibers and extracts file paths to infer project root
   */
  const detectProjectRootFromDOM = () => {
    if (projectRoot) {
      return;
    }
    
    try {
      const filePaths = [];
      const maxSamples = 50; // Limit samples for performance
      let samples = 0;
      
      const walker = document.createTreeWalker(
        document.body,
        NodeFilter.SHOW_ELEMENT,
        null,
        false
      );
      
      let node;
      while ((node = walker.nextNode()) && samples < maxSamples) {
        const fiberKey = Object.keys(node).find(key =>
          key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$')
        );
        
        if (fiberKey) {
          const fiber = node[fiberKey];
          let currentFiber = fiber;
          let depth = 0;
          
          while (currentFiber && depth < 10) {
            if (currentFiber._debugSource && currentFiber._debugSource.fileName) {
              const filePath = currentFiber._debugSource.fileName;
              if (!isExternalPath(filePath)) {
                filePaths.push(filePath);
              }
            }
            currentFiber = currentFiber.return;
            depth++;
            samples++;
          }
        }
      }
      
      if (filePaths.length > 0) {
        const detectedRoot = detectProjectRootFromPaths(filePaths);
        if (detectedRoot) {
          projectRoot = detectedRoot;
          console.debug('xray-react: Auto-detected project root from DOM:', projectRoot);
        }
      }
    } catch (error) {
      console.debug('xray-react: Failed to detect project root from DOM:', error);
    }
  };

  /**
   * Checks if an external component is used by any internal component in the seen list
   * Checks usage map first (primary), then import map (fallback)
   * @param {string} componentName - External component name to check
   * @param {Array} seenInternalComponents - Array of internal components seen so far in path
   * @returns {boolean} True if component is used by any seen internal component
   */
  const isUsedByInternalComponents = (componentName, seenInternalComponents) => {
    if (!componentName || seenInternalComponents.length === 0) {
      return false;
    }
    
    if (Object.keys(usageMap).length === 0 && Object.keys(importMap).length === 0) {
      return true;
    }
    
    for (const internalComp of seenInternalComponents) {
      const filePath = internalComp.file;
      if (!filePath) continue;
      
      if (usageMap[filePath] && Array.isArray(usageMap[filePath])) {
        if (usageMap[filePath].includes(componentName)) {
          return true;
        }
      }
      
      if (importMap[filePath] && Array.isArray(importMap[filePath])) {
        if (importMap[filePath].includes(componentName)) {
          return true;
        }
      }
    }
    
    return false;
  };

  /**
   * Traverses the fiber tree to find React components, skipping HTML elements
   * Filters out external library components based on usage/import maps
   * @param {Object} fiber - Starting fiber node
   * @param {number} maxDepth - Maximum depth to traverse
   * @returns {Array} Array of component information objects
   */
  const traverseFiberTree = (fiber, maxDepth = MAX_FIBER_DEPTH) => {
    const allComponents = [];
    const internalComponents = [];
    let currentFiber = fiber;
    let depth = 0;
    // Performance improvements
    const visited = new Set();
    
    while (currentFiber && depth < maxDepth) {
      if (visited.has(currentFiber)) {
        break;
      }
      visited.add(currentFiber);
      
      const elementType = currentFiber.elementType || currentFiber.type;
      
      if (elementType) {
        const componentName = resolveComponentName(elementType, currentFiber);
        
        if (componentName) {
          // Skip HTML elements
          if (!isHTMLElement(componentName)) {
            const isInternal = isProjectComponent(currentFiber, projectRoot, componentName);
            
            let filePath = null;
            if (currentFiber._debugSource && currentFiber._debugSource.fileName) {
              filePath = currentFiber._debugSource.fileName;
            }
            
            allComponents.push({
              name: componentName,
              fiber: currentFiber,
              elementType: elementType,
              depth: depth,
              isInternal: isInternal,
              file: filePath
            });
            
            if (isInternal) {
              internalComponents.push({
                name: componentName,
                file: filePath
              });
            }
          }
        }
      }
      
      currentFiber = currentFiber.return || currentFiber._owner;
      depth++;
    }
    
    const filteredComponents = [];
    for (const comp of allComponents) {
      if (comp.isInternal) {
        filteredComponents.push({
          name: comp.name,
          fiber: comp.fiber,
          elementType: comp.elementType,
          depth: comp.depth,
          file: comp.file,
          isInternal: comp.isInternal
        });
      } else {
        if (isUsedByInternalComponents(comp.name, internalComponents)) {
          filteredComponents.push({
            name: comp.name,
            fiber: comp.fiber,
            elementType: comp.elementType,
            depth: comp.depth,
            file: comp.file,
            isInternal: comp.isInternal
          });
        }
      }
    }
    
    return filteredComponents;
  };

  /**
   * Gets React component information from a DOM element using React DevTools protocol
   * Supports React 18+ and falls back to legacy detection for older versions
   * Enhanced to skip HTML elements and find actual React components
   * @param {HTMLElement} elem - The DOM element
   * @returns {Object} Object with component name and optional uid
   */
  const getComponentObj = (elem) => {
    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {
      try {
        const fiberKey = Object.keys(elem).find(key => 
          key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$')
        );
        
        if (fiberKey) {
          const fiber = elem[fiberKey];
          const components = traverseFiberTree(fiber);
          
          if (components.length > 0) {
            const firstComponent = components[0];
            const uid = firstComponent.fiber._debugID || 
                       `${firstComponent.fiber.index || ''}${firstComponent.fiber.key || ''}`;
            const reversedHierarchy = components.reverse().map(c => c.name);
            return { 
              name: firstComponent.name, 
              uid,
              hierarchy: reversedHierarchy
            };
          }
        }
      } catch (error) {
        console.debug('React DevTools protocol failed, trying legacy detection:', error);
      }
    }
    
    for (const key of Object.keys(elem)) {
      if (key.startsWith('__reactInternalInstance$')) {
        const fiberNode = elem[key];
        if (fiberNode) {
          try {
            const components = traverseFiberTree(fiberNode);
            if (components.length > 0) {
              const firstComponent = components[0];
              const reversedHierarchy = components.reverse().map(c => c.name);
              return { 
                name: firstComponent.name,
                uid: `${fiberNode._mountIndex || ''}${fiberNode._mountOrder || ''}`,
                hierarchy: reversedHierarchy
              };
            }
          } catch (error) {
            // Continue to old legacy detection
          }
        }
        
        if (fiberNode && fiberNode._currentElement) {
          const owner = fiberNode._currentElement._owner;
          const fiber = owner && owner._instance;
          if (fiber) {
            const componentName = fiber.constructor.name;
            if (!isHTMLElement(componentName)) {
              return { 
                name: componentName, 
                uid: `${owner._mountIndex || ''}${owner._mountOrder || ''}` 
              };
            }
          }
        } else if (fiberNode) {
          const fiber = fiberNode.return?.stateNode?._reactInternalFiber;
          if (fiber) {
            const componentName = fiber.type?.name || 'Unknown';
            if (componentName !== 'Unknown' && !isHTMLElement(componentName)) {
              return { name: componentName };
            }
          }
        }
      }
    }
    
    const tagName = elem.tagName?.toLowerCase();
    if (tagName && isHTMLElement(tagName)) {
      return { name: tagName };
    }
    
    return {};
  };

  /**
   * Creates a cached function for searching and creating component overlays
   * @returns {Function} Function that creates overlay elements for components
   */
  const searchAndCreateComponentCached = () => {
    // Performance improvements
    const uids = new Set();
    return (elem) => {
      const { name, uid } = getComponentObj(elem);
      
      if (name && name !== 'Unknown') {
        if (uid) {
          if (!uids.has(uid)) {
            uids.add(uid);
            return createElemForComponent(elem, name);
          }
        } else {
          return createElemForComponent(elem, name);
        }
      }
      return null;
    };
  };

  /**
   * Extracts component objects from React fiber tree
   * @param {HTMLElement} elem - DOM element to extract components from
   * @returns {Array} Array of component objects from fiber tree
   */
  const getComponentsFromElement = (elem) => {
    let components = [];
    
    if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {
      try {
        const fiberKey = Object.keys(elem).find(key => 
          key.startsWith('__reactFiber$') || key.startsWith('__reactInternalInstance$')
        );
        
        if (fiberKey) {
          const fiber = elem[fiberKey];
          components = traverseFiberTree(fiber);
          // Reverse to get parent -> child order (traversal goes child -> parent)
          components = components.reverse();
        }
      } catch (error) {
        console.debug('Fiber tree traversal failed in getComponentsFromElement:', error);
      }
    }
    
    // Legacy detection for React <18
    if (components.length === 0) {
      for (const key of Object.keys(elem)) {
        if (key.startsWith('__reactInternalInstance$')) {
          const fiberNode = elem[key];
          if (fiberNode) {
            try {
              components = traverseFiberTree(fiberNode);
              // Reverse to get parent -> child order
              components = components.reverse();
              break;
            } catch (error) {
              console.debug('Legacy fiber traversal failed in getComponentsFromElement:', error);
            }
          }
        }
      }
    }
    
    return components;
  };

  /**
   * Gets component path from DOM traversal (fallback method)
   * @param {HTMLElement} elem - DOM element to start traversal from
   * @returns {Array} Array of component names from DOM traversal
   */
  const getDomPath = (elem) => {
    let currentElem = elem;
    const domPath = [];
    const seenComponentNames = new Set();
    
    while (currentElem && currentElem.parentNode && domPath.length < 20) {
      currentElem = currentElem.parentNode;
      const { name: component } = getComponentObj(currentElem);
      if (component && component !== 'Unknown' && !isHTMLElement(component)) {
        const normalizedName = component.toLowerCase();
        if (!seenComponentNames.has(normalizedName)) {
          seenComponentNames.add(normalizedName);
          domPath.unshift(component);
        }
      }
    }
    
    return domPath;
  };

  /**
   * Builds full component structure path (includes all components)
   * @param {Array} components - Component objects from fiber tree
   * @param {string} currentComponentName - Name of current component
   * @param {HTMLElement} elem - Original DOM element for fallback
   * @returns {string} Full component path structure
   */
  const buildFullStructure = (components, currentComponentName, elem) => {
    if (components.length > 0) {
      const filteredComponents = components.filter(comp => 
        comp.name !== currentComponentName && !isHTMLElement(comp.name)
      );
      
      if (filteredComponents.length > 0) {
        const fullPath = filteredComponents.map(comp => comp.name);
        return [...fullPath, currentComponentName].join(' -> ');
      }
      
      return currentComponentName;
    }
    
    // Fallback to DOM-based traversal (backward compatibility)
    const domPath = getDomPath(elem);
    
    if (domPath.length > 0) {
      return [...domPath, currentComponentName].join(' -> ');
    }
    
    return currentComponentName;
  };

  /**
   * Builds filtered component structure path (only project-owned components)
   * @param {Array} components - Component objects from fiber tree
   * @param {string} currentComponentName - Name of current component
   * @param {HTMLElement} elem - Original DOM element for fallback
   * @returns {string} Filtered component path structure
   */
  const buildFilteredStructure = (components, currentComponentName, elem) => {
    if (components.length > 0) {
      const filteredComponents = components.filter(comp => 
        comp.name !== currentComponentName && !isHTMLElement(comp.name)
      );
      
      const seenComponents = new Set();
      const projectOwnedComponents = [];
      
      for (const comp of filteredComponents) {
        if (!comp.isInternal) {
          continue;
        }

        const normalizedName = comp.name.toLowerCase();
        
        if (comp.file) {
          const normalizedFile = comp.file.toLowerCase();
          const pathParts = normalizedFile.split(/[\/\\]/);
          const filename = pathParts[pathParts.length - 1];
          const filenameWithoutExt = filename.replace(/\.(tsx?|jsx?)$/, '');

          const nameMatchesFile = normalizedFile.includes(`/${normalizedName}`) || 
                                  normalizedFile.includes(`\\${normalizedName}`) ||
                                  normalizedFile.endsWith(`/${normalizedName}.tsx`) ||
                                  normalizedFile.endsWith(`/${normalizedName}.ts`) ||
                                  normalizedFile.endsWith(`/${normalizedName}.jsx`) ||
                                  normalizedFile.endsWith(`/${normalizedName}.js`) ||
                                  normalizedFile.endsWith(`\\${normalizedName}.tsx`) ||
                                  normalizedFile.endsWith(`\\${normalizedName}.ts`) ||
                                  normalizedFile.endsWith(`\\${normalizedName}.jsx`) ||
                                  normalizedFile.endsWith(`\\${normalizedName}.js`) ||
                                  filenameWithoutExt === normalizedName;
          
          const inProjectFilePaths = [...projectFilePaths].some(path => path.toLowerCase().includes(normalizedName));

          if (!nameMatchesFile && !inProjectFilePaths) {
            continue;
          }
          
          // Deduplicate by component identity: use normalized name + normalized file path as unique key
          // This ensures that:
          // 1. The same component (same name, same file) appearing multiple times is only shown once
          //    (e.g., WebAppLayout -> WebAppLayout -> WebAppLayout)
          // 2. Different components with the same name but different files are both shown
          //    (e.g., components_left/Parent.jsx vs components_right/Parent.jsx)
          const normalizedFilePath = normalizePath(comp.file);
          const componentKey = `${normalizedName}:${normalizedFilePath}`;
          
          if (seenComponents.has(componentKey)) {
            continue;
          }
          
          seenComponents.add(componentKey);
          projectOwnedComponents.push(comp);
        } else {
          const componentKey = normalizedName;
          
          if (seenComponents.has(componentKey)) {
            continue;
          }

          seenComponents.add(componentKey);
          projectOwnedComponents.push(comp);
        }
      }

      if (projectOwnedComponents.length > 0) {
        const filteredPath = projectOwnedComponents.map(comp => comp.name);
        const currentNameLower = currentComponentName.toLowerCase();
        const pathContainsCurrent = filteredPath.some(name => name.toLowerCase() === currentNameLower);
        
        let finalPath;
        if (!pathContainsCurrent) {
          finalPath = [...filteredPath, currentComponentName];
        } else {
          finalPath = filteredPath;
        }
        
        // Remove consecutive duplicates of the same components before joining
        finalPath = removeConsecutiveDuplicates(finalPath);
        return finalPath.join(' -> ');
      }
      
      return currentComponentName;
    }
    
    const domPath = getDomPath(elem);
    
    if (domPath.length > 0) {
      const currentNameLower = currentComponentName.toLowerCase();
      const pathContainsCurrent = domPath.some(name => name.toLowerCase() === currentNameLower);
      
      let finalPath;
      if (!pathContainsCurrent) {
        finalPath = [...domPath, currentComponentName];
      } else {
        finalPath = domPath;
      }
      
      // Remove consecutive duplicates of the same components before joining
      finalPath = removeConsecutiveDuplicates(finalPath);
      return finalPath.join(' -> ');
    }
    
    return currentComponentName;
  };

  /**
   * Adds the absolute component path to an overlay element
   * Uses fiber-based hierarchy for accurate React component paths
   * @param {HTMLElement} elem - Original DOM element
   * @param {HTMLElement} xrayReactElem - Overlay element
   */
  const addAbsoluteComponentPath = (elem, xrayReactElem) => {
    const currentComponentName = xrayReactElem.getAttribute('data-xray-react-element-name') || '';
    
    const components = getComponentsFromElement(elem);
    
    const fullStructure = buildFullStructure(components, currentComponentName, elem);
    const filteredStructure = buildFilteredStructure(components, currentComponentName, elem);
    
    xrayReactElem.setAttribute(xrayReactCompPathAttr, fullStructure);
    xrayReactElem.setAttribute(xrayReactFilteredCompPathAttr, filteredStructure);
  };

  /**
   * Handles mouseover events on overlay elements
   * @param {Event} event - Mouseover event
   */
  const onXrayReactMouseover = (event) => {
    const { target } = event;
    if (target.classList.contains(xrayReactElemCN)) {
      const componentsPath = target.getAttribute(xrayReactFilteredCompPathAttr) || 
                             target.getAttribute(xrayReactCompPathAttr) || '';
      const pathElement = document.querySelector('.xray-react-actions-wrapper .components-path');
      if (pathElement) {
        pathElement.innerHTML = componentsPath;
      }
    }
  };

  /**
   * Toggles the xray-react overlay on/off
   */
  const toggleXrayReact = () => {
    const body = document.body;
    
    if (body.classList.contains('xray-react-enabled')) {
      body.classList.remove('xray-react-enabled');
      const xrayReactElementsWrapper = document.querySelector(`.${xrayReactWrapperCN}`);
      const xrayReactActionBar = document.querySelector('.xray-react-action-bar');
      const xrayReactStyleTag = document.querySelector('.xray-react-style-tag');
      const tempElements = document.querySelectorAll('.xray-react-element-temp');
      
      if (xrayReactElementsWrapper) xrayReactElementsWrapper.remove();
      if (xrayReactActionBar) xrayReactActionBar.remove();
      if (xrayReactStyleTag) xrayReactStyleTag.remove();
      tempElements.forEach(el => el.remove());
      
      body.removeEventListener('mouseover', onXrayReactMouseover);
    } else {
      body.classList.add('xray-react-enabled');
      
      let styleElement = document.querySelector('.xray-react-style-tag');
      if (!styleElement) {
        styleElement = document.createElement('style');
        styleElement.className = 'xray-react-style-tag';
        styleElement.textContent = css;
        document.head.appendChild(styleElement);
      }
      
      const existingActionBar = document.querySelector('.xray-react-action-bar');
      if (!existingActionBar) {
        body.insertAdjacentHTML('beforeend', actionBar);
      }
      
      const searchInput = document.getElementById('search-component');
      if (searchInput) {
        searchInput.addEventListener('input', handleSearchChange);
      }
      body.addEventListener('mouseover', onXrayReactMouseover);
      
      const existingWrapper = document.querySelector(`.${xrayReactWrapperCN}`);
      if (existingWrapper) {
        existingWrapper.remove();
      }
      
      const xrayReactElementsWrapper = document.createElement('div');
      xrayReactElementsWrapper.className = xrayReactWrapperCN;
      body.append(xrayReactElementsWrapper);
      
      const existingLoading = document.querySelectorAll('.xray-react-element-temp');
      existingLoading.forEach(el => el.remove());
      
      const loadingElement = document.createElement('div');
      loadingElement.className = 'xray-react-element xray-react-element-temp';
      loadingElement.style.height = `${window.innerHeight}px`;
      loadingElement.style.width = `${window.innerWidth}px`;
      loadingElement.style.top = `${window.scrollY}px`;
      loadingElement.style.left = `${window.scrollX}px`;
      loadingElement.style.zIndex = '10000';
      loadingElement.innerHTML = '<div class="xray-react-spinner xray-react-element-temp"></div>';
      xrayReactElementsWrapper.appendChild(loadingElement);
      
      // Performance improvements
      const processElementsAsync = () => {
        const xrayReactObjects = [];
        const searchAndCreateComponent = searchAndCreateComponentCached();
        const allElements = Array.from(body.getElementsByTagName('*')).filter(elem => {
          // Exclude xray-react elements and their children
          return !elem.classList.contains('xray-react-element-temp') &&
                 !elem.closest('.xray-react-action-bar') &&
                 !elem.closest(`.${xrayReactWrapperCN}`);
        });
        const batchSize = 20;
        let index = 0;
        
        const processBatch = () => {
          const endIndex = Math.min(index + batchSize, allElements.length);
          
          for (let i = index; i < endIndex; i++) {
            const elem = allElements[i];
            const xrayReactObj = searchAndCreateComponent(elem);
            if (xrayReactObj) {
              xrayReactObjects.push(xrayReactObj);
            }
          }
          
          index = endIndex;
          
          if (index < allElements.length) {
            setTimeout(processBatch, 1);
          } else {
            let pathIndex = 0;
            const pathBatchSize = 10;
            
            const processPaths = () => {
              const endIndex = Math.min(pathIndex + pathBatchSize, xrayReactObjects.length);
              
              for (let i = pathIndex; i < endIndex; i++) {
                const { elem, xrayReactElem } = xrayReactObjects[i];
                addAbsoluteComponentPath(elem, xrayReactElem);
              }
              
              pathIndex = endIndex;
              
              if (pathIndex < xrayReactObjects.length) {
                setTimeout(processPaths, 1);
              } else {
                const wrapper = document.querySelector(`.${xrayReactWrapperCN}`);
                if (wrapper) {
                  const tempElements = wrapper.querySelectorAll('.xray-react-element-temp');
                  tempElements.forEach(el => el.remove());
                  wrapper.append(...xrayReactObjects.map(obj => obj.xrayReactElem));
                }
              }
            };
            
            setTimeout(processPaths, 1);
          }
        };
        
        setTimeout(processBatch, 1);
      };
      
      processElementsAsync();
    }
  };

  /**
   * Keydown event handler for xray-react shortcuts
   * Matches xray-rails: Cmd+Shift+X (Mac) / Ctrl+Shift+X (Windows/Linux)
   */
  let keydownHandler = null;
  let isHandlerRegistered = false;

  const createKeydownHandler = () => {
    return (event) => {
      if (event.key === 'Escape') {
        const body = document.body;
        if (body && body.classList.contains('xray-react-enabled')) {
          toggleXrayReact();
          event.preventDefault();
        }
        return;
      }
      
      const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;
      const isMetaOrCtrl = isMac ? event.metaKey : event.ctrlKey;
      const isShift = event.shiftKey;
      const isX = event.key === 'x' || event.key === 'X' || event.keyCode === 88;
      
      if (isMetaOrCtrl && isShift && isX) {
        toggleXrayReact();
        event.preventDefault();
        event.stopPropagation();
      }
    };
  };

  /**
   * Handles keyboard shortcut to toggle xray-react
   * Ensures the listener is only registered once
   */
  const handleXrayReactToggle = () => {
    if (isHandlerRegistered) {
      return;
    }
    
    if (!keydownHandler) {
      keydownHandler = createKeydownHandler();
    }
    
    document.addEventListener('keydown', keydownHandler, true);
    isHandlerRegistered = true;
  };

  /**
   * Enables xray-react functionality
   */
  const enableXrayReact = () => {
    if (!projectRoot) {
      if (typeof window !== 'undefined' && window.__XRAY_REACT_PROJECT_ROOT__) {
        projectRoot = normalizePath(window.__XRAY_REACT_PROJECT_ROOT__);
        console.debug('xray-react: Using project root from global variable:', projectRoot);
      } else {
        setTimeout(() => {
          detectProjectRootFromDOM();
        }, 1000);
      }
    }
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', handleXrayReactToggle);
    } else {
      handleXrayReactToggle();
    }
  };

  // Expose functions globally for client bundle to use
  if (typeof window !== 'undefined') {
    window.xrayReactSetProjectRoot = setProjectRoot;
    window.xrayReactSetUsageMap = setUsageMap;
    window.xrayReactSetImportMap = setImportMap;
    window.xrayReactSetProjectFiles = setProjectFiles;
  }

  enableXrayReact();

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoieHJheS1yZWFjdC11aS5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb25zdGFudHMuanMiLCIuLi9zcmMvY3NzLmpzIiwiLi4vc3JjL3BhcnRpYWxzLmpzIiwiLi4vc3JjL3VpLXV0aWxzLmpzIiwiLi4vbGliL3hyYXktcmVhY3QtdWkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHhyYXlSZWFjdEVsZW1DTiA9ICd4cmF5LXJlYWN0LWVsZW1lbnQnO1xuZXhwb3J0IGNvbnN0IHhyYXlSZWFjdFdyYXBwZXJDTiA9ICd4cmF5LXJlYWN0LWVsZW1lbnRzLXdyYXBwZXInO1xuZXhwb3J0IGNvbnN0IHhyYXlSZWFjdENvbXBQYXRoQXR0ciA9ICdkYXRhLXhyYXktcmVhY3QtY29tcG9uZW50cy1wYXRoJztcbmV4cG9ydCBjb25zdCB4cmF5UmVhY3RGaWx0ZXJlZENvbXBQYXRoQXR0ciA9ICdkYXRhLXhyYXktcmVhY3QtZmlsdGVyZWQtY29tcG9uZW50cy1wYXRoJztcbmV4cG9ydCBjb25zdCB6SW5kZXggPSAxMDAwMDtcblxuZXhwb3J0IGNvbnN0IEhUTUxfRUxFTUVOVFMgPSBuZXcgU2V0KFtcbiAgJ2RpdicsICdzcGFuJywgJ2Zvcm0nLCAnYnV0dG9uJywgJ2lucHV0JywgJ2EnLCAnaW1nJywgJ3AnLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLFxuICAndWwnLCAnbGknLCAnb2wnLCAndGFibGUnLCAndHInLCAndGQnLCAndGgnLCAndGhlYWQnLCAndGJvZHknLCAndGZvb3QnLFxuICAnc2VjdGlvbicsICdhcnRpY2xlJywgJ2hlYWRlcicsICdmb290ZXInLCAnbmF2JywgJ21haW4nLCAnYXNpZGUnLFxuICAnbGFiZWwnLCAnc2VsZWN0JywgJ29wdGlvbicsICd0ZXh0YXJlYScsICdmaWVsZHNldCcsICdsZWdlbmQnLFxuICAnYnInLCAnaHInLCAnc3Ryb25nJywgJ2VtJywgJ2InLCAnaScsICd1JywgJ3NtYWxsJywgJ3N1YicsICdzdXAnLFxuICAnZGwnLCAnZHQnLCAnZGQnLCAncHJlJywgJ2NvZGUnLCAnYmxvY2txdW90ZScsICdjaXRlJyxcbiAgJ2NhbnZhcycsICdzdmcnLCAncGF0aCcsICdjaXJjbGUnLCAncmVjdCcsICdsaW5lJywgJ3BvbHlsaW5lJywgJ3BvbHlnb24nLFxuICAnaWZyYW1lJywgJ2VtYmVkJywgJ29iamVjdCcsICd2aWRlbycsICdhdWRpbycsICdzb3VyY2UnLCAndHJhY2snLFxuICAnbWV0YScsICdsaW5rJywgJ3N0eWxlJywgJ3NjcmlwdCcsICdub3NjcmlwdCcsICd0ZW1wbGF0ZSdcbl0pO1xuIiwiZXhwb3J0IGRlZmF1bHQgYFxuICAueHJheS1yZWFjdC1lbmFibGVkIHtcbiAgICBtYXJnaW4tYm90dG9tOiA1MHB4ICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudHMtd3JhcHBlciB7XG4gICAgYm90dG9tOiAwO1xuICAgIGZvbnQtZmFtaWx5OiBcIlNlZ29lIFVJXCIsIFJvYm90bywgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICBmb250LXN0eWxlOiBub3JtYWw7XG4gICAgbGVmdDogMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IDA7XG4gICAgdG9wOiAwO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMjU1LCAwLjI1KTtcbiAgICBib3JkZXI6IDJweCBzb2xpZCBibHVlO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudDo6YmVmb3JlIHtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtbmFtZSk7XG4gICAgZGlzcGxheTogdGFibGU7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgbGVmdDogNTAlO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgdG9wOiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudDo6YWZ0ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGRhcmtibHVlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBjb250ZW50OiBhdHRyKGRhdGEteHJheS1yZWFjdC1lbGVtZW50LW5hbWUpO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmb250LXNpemU6IDEwcHg7XG4gICAgbGVmdDogMDtcbiAgICBwYWRkaW5nOiAwIDVweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQ6aG92ZXIsXG4gIC54cmF5LXJlYWN0LWVsZW1lbnQuLWhpZ2hsaWdodGVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDI1NSwgMC43NSk7XG4gICAgYm9yZGVyLWNvbG9yOiBjeWFuO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQ6aG92ZXI6OmJlZm9yZSxcbiAgLnhyYXktcmVhY3QtZWxlbWVudC4taGlnaGxpZ2h0ZWQ6OmJlZm9yZSB7XG4gICAgY29sb3I6IGN5YW47XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudDpob3Zlcjo6YWZ0ZXIsXG4gIC54cmF5LXJlYWN0LWVsZW1lbnQuLWhpZ2hsaWdodGVkOjphZnRlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogY3lhbjtcbiAgICBjb2xvcjogZGFya2JsdWU7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudC4taGlnaGxpZ2h0ZWQge1xuICAgIHotaW5kZXg6IDk5OTk5ICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhciB7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTtcbiAgICBib3R0b206IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBwYWRkaW5nOiAwIDEwcHg7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHdpZHRoOiAxMDB2dztcbiAgICB6LWluZGV4OiA5OTk5OTk7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhcjo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIHdpZHRoOiA4cHg7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgfVxuICAueHJheS1yZWFjdC1hY3Rpb24tYmFyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgYmFja2dyb3VuZDogY3lhbjtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9uLWJhcjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6aG92ZXIge1xuICAgIGJhY2tncm91bmQ6ICMwMGZmZmY7XG4gIH1cbiAgLnhyYXktcmVhY3QtYWN0aW9ucy13cmFwcGVyIHtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZm9udC1mYW1pbHk6IFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBcIkhlbHZldGljYSBOZXVlXCIsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICBtaW4taGVpZ2h0OiA1MHB4O1xuICAgIHBhZGRpbmc6IDVweCAwO1xuICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG4gICNzZWFyY2gtY29tcG9uZW50IHtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICBib3JkZXI6IDA7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGhlaWdodDogMzBweDtcbiAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XG4gICAgbWluLXdpZHRoOiAyMDBweDtcbiAgICBvdXRsaW5lOiAwO1xuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgIHdpZHRoOiAyNSU7XG4gIH1cbiAgLmNvbXBvbmVudHMtcGF0aCB7XG4gICAgY29sb3I6IGN5YW47XG4gICAgZmxleDogMTtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgICBtaW4td2lkdGg6IDA7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICBvdmVyZmxvdy15OiB2aXNpYmxlO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgd29yZC1icmVhazoga2VlcC1hbGw7XG4gIH1cbiAgLmNvbXBvbmVudHMtcGF0aDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIGhlaWdodDogNHB4O1xuICB9XG4gIC5jb21wb25lbnRzLXBhdGg6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gIH1cbiAgLmNvbXBvbmVudHMtcGF0aDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgIGJhY2tncm91bmQ6IGN5YW47XG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICB9XG4gIC5jb21wb25lbnRzLXBhdGg6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjMDBmZmZmO1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQtdGVtcCB7XG4gICAgZGlzcGxheTogZmxleCAhaW1wb3J0YW50O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXIgIWltcG9ydGFudDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlciAhaW1wb3J0YW50O1xuICB9XG4gIC54cmF5LXJlYWN0LWVsZW1lbnQtdGVtcDo6YmVmb3JlIHtcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cbiAgLnhyYXktcmVhY3QtZWxlbWVudC10ZW1wOjphZnRlciB7XG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICB9XG4gIC54cmF5LXJlYWN0LXNwaW5uZXIge1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGhlaWdodDogNTBweDtcbiAgICBib3JkZXI6IDRweCBzb2xpZCByZ2JhKDAsIDI1NSwgMjU1LCAwLjMpO1xuICAgIGJvcmRlci10b3AtY29sb3I6IGN5YW47XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIGFuaW1hdGlvbjogeHJheS1yZWFjdC1zcGluIDFzIGxpbmVhciBpbmZpbml0ZTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogMTtcbiAgfVxuICBAa2V5ZnJhbWVzIHhyYXktcmVhY3Qtc3BpbiB7XG4gICAgdG8geyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XG4gIH1cbmA7XG4iLCJpbXBvcnQgY3NzIGZyb20gJy4vY3NzLmpzJztcblxuZXhwb3J0IGNvbnN0IHN0eWxlVGFnID0gYDxzdHlsZSBjbGFzcz1cInhyYXktcmVhY3Qtc3R5bGUtdGFnXCI+JHtjc3N9PC9zdHlsZT5gO1xuZXhwb3J0IGNvbnN0IGFjdGlvbkJhciA9IGBcbiAgPGRpdiBjbGFzcz1cInhyYXktcmVhY3QtYWN0aW9uLWJhclwiPlxuICAgIDxkaXYgY2xhc3M9XCJ4cmF5LXJlYWN0LWFjdGlvbnMtd3JhcHBlclwiPlxuICAgICAgPGlucHV0IGlkPVwic2VhcmNoLWNvbXBvbmVudFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJTZWFyY2ggY29tcG9uZW50IGJ5IG5hbWUuLi5cIi8+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29tcG9uZW50cy1wYXRoXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuYDtcbiIsImltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyBzdHlsZVRhZywgYWN0aW9uQmFyIH0gZnJvbSAnLi9wYXJ0aWFscy5qcyc7XG5pbXBvcnQgY3NzIGZyb20gJy4vY3NzLmpzJztcblxuY29uc3QgTUFYX0ZJQkVSX0RFUFRIID0gNTA7IC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcHNcblxubGV0IHByb2plY3RSb290ID0gbnVsbDtcbmxldCB1c2FnZU1hcCA9IHt9O1xubGV0IGltcG9ydE1hcCA9IHt9O1xubGV0IHByb2plY3RGaWxlUGF0aHMgPSBuZXcgU2V0KCk7XG5jb25zdCBFWFRFUk5BTF9QQVRURVJOUyA9IFtcbiAgL25vZGVfbW9kdWxlcy9pLFxuICAvXFwubmV4dFtcXC9cXFxcXS9pLFxuICAvZGlzdFtcXC9cXFxcXS9pLFxuICAvYnVpbGRbXFwvXFxcXF0vaSxcbiAgL1xcLmdpdFtcXC9cXFxcXS9pLFxuICAvXFwuY2FjaGVbXFwvXFxcXF0vaSxcbiAgL2NvdmVyYWdlW1xcL1xcXFxdL2ksXG5dO1xuXG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBmaWxlIHBhdGggZm9yIGNvbXBhcmlzb25cbiAqIEhhbmRsZXMgYm90aCBVbml4IGFuZCBXaW5kb3dzIHBhdGhzLCByZWxhdGl2ZSBhbmQgYWJzb2x1dGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlUGF0aCAtIEZpbGUgcGF0aCB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IE5vcm1hbGl6ZWQgcGF0aFxuICovXG5jb25zdCBub3JtYWxpemVQYXRoID0gKGZpbGVQYXRoKSA9PiB7XG4gIGlmICghZmlsZVBhdGgpIHJldHVybiAnJztcbiAgXG4gIC8vIENvbnZlcnQgdG8gc3RyaW5nIGFuZCBub3JtYWxpemUgc2VwYXJhdG9yc1xuICBsZXQgbm9ybWFsaXplZCA9IFN0cmluZyhmaWxlUGF0aCkucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICBcbiAgLy8gUmVtb3ZlIGxlYWRpbmcvdHJhaWxpbmcgc2xhc2hlcyBmb3IgY29tcGFyaXNvblxuICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5yZXBsYWNlKC9eXFwvK3xcXC8rJC9nLCAnJyk7XG4gIFxuICByZXR1cm4gbm9ybWFsaXplZC50b0xvd2VyQ2FzZSgpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBmaWxlIHBhdGggaXMgZXh0ZXJuYWwgKG5vZGVfbW9kdWxlcywgYnVpbGQgYXJ0aWZhY3RzLCBldGMuKVxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVQYXRoIC0gRmlsZSBwYXRoIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBwYXRoIGlzIGV4dGVybmFsXG4gKi9cbmNvbnN0IGlzRXh0ZXJuYWxQYXRoID0gKGZpbGVQYXRoKSA9PiB7XG4gIGlmICghZmlsZVBhdGgpIHJldHVybiBmYWxzZTtcbiAgXG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQYXRoKGZpbGVQYXRoKTtcbiAgXG4gIC8vIENoZWNrIGFnYWluc3QgZXh0ZXJuYWwgcGF0dGVybnNcbiAgcmV0dXJuIEVYVEVSTkFMX1BBVFRFUk5TLnNvbWUocGF0dGVybiA9PiBwYXR0ZXJuLnRlc3Qobm9ybWFsaXplZCkpO1xufTtcblxuLyoqXG4gKiBEZXRlY3RzIHByb2plY3Qgcm9vdCBmcm9tIGEgZmlsZSBwYXRoIGJ5IGZpbmRpbmcgY29tbW9uIGJhc2UgcGF0aFxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBmaWxlUGF0aHMgLSBBcnJheSBvZiBmaWxlIHBhdGhzIGZyb20gZmliZXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IERldGVjdGVkIHByb2plY3Qgcm9vdCBvciBudWxsXG4gKi9cbmNvbnN0IGRldGVjdFByb2plY3RSb290RnJvbVBhdGhzID0gKGZpbGVQYXRocykgPT4ge1xuICBpZiAoIWZpbGVQYXRocyB8fCBmaWxlUGF0aHMubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcbiAgXG4gIGNvbnN0IHByb2plY3RQYXRocyA9IGZpbGVQYXRoc1xuICAgIC5maWx0ZXIocGF0aCA9PiBwYXRoICYmICFpc0V4dGVybmFsUGF0aChwYXRoKSlcbiAgICAubWFwKG5vcm1hbGl6ZVBhdGgpO1xuICBcbiAgaWYgKHByb2plY3RQYXRocy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuICBcbiAgY29uc3QgcGF0aFBhcnRzID0gcHJvamVjdFBhdGhzLm1hcChwYXRoID0+IHBhdGguc3BsaXQoJy8nKSk7XG4gIGNvbnN0IG1pbkxlbmd0aCA9IE1hdGgubWluKC4uLnBhdGhQYXJ0cy5tYXAocGFydHMgPT4gcGFydHMubGVuZ3RoKSk7XG4gIFxuICBsZXQgY29tbW9uUGFydHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW5MZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBhcnQgPSBwYXRoUGFydHNbMF1baV07XG4gICAgaWYgKHBhdGhQYXJ0cy5ldmVyeShwYXJ0cyA9PiBwYXJ0c1tpXSA9PT0gcGFydCkpIHtcbiAgICAgIGNvbW1vblBhcnRzLnB1c2gocGFydCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBcbiAgaWYgKGNvbW1vblBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJy8nICsgY29tbW9uUGFydHMuam9pbignLycpO1xuICB9XG4gIFxuICAvLyBGYWxsYmFjazogdXNlIGZpcnN0IHBhdGgncyBkaXJlY3RvcnlcbiAgY29uc3QgZmlyc3RQYXRoID0gcHJvamVjdFBhdGhzWzBdO1xuICBjb25zdCBsYXN0U2xhc2ggPSBmaXJzdFBhdGgubGFzdEluZGV4T2YoJy8nKTtcbiAgaWYgKGxhc3RTbGFzaCA+IDApIHtcbiAgICByZXR1cm4gJy8nICsgZmlyc3RQYXRoLnN1YnN0cmluZygwLCBsYXN0U2xhc2gpO1xuICB9XG4gIFxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBjb25zZWN1dGl2ZSBkdXBsaWNhdGUgY29tcG9uZW50IG5hbWVzIGZyb20gYW4gYXJyYXlcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gcGF0aCAtIEFycmF5IG9mIGNvbXBvbmVudCBuYW1lc1xuICogQHJldHVybnMge0FycmF5PHN0cmluZz59IEFycmF5IHdpdGggY29uc2VjdXRpdmUgZHVwbGljYXRlcyByZW1vdmVkXG4gKi9cbmNvbnN0IHJlbW92ZUNvbnNlY3V0aXZlRHVwbGljYXRlcyA9IChwYXRoKSA9PiB7XG4gIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHBhdGg7XG4gIFxuICBjb25zdCByZXN1bHQgPSBbcGF0aFswXV07XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChwYXRoW2ldLnRvTG93ZXJDYXNlKCkgIT09IHBhdGhbaSAtIDFdLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHBhdGhbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIHNlYXJjaCBpbnB1dCBjaGFuZ2VzIHRvIGhpZ2hsaWdodCBtYXRjaGluZyBjb21wb25lbnRzXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIElucHV0IGV2ZW50XG4gKi9cbmNvbnN0IGhhbmRsZVNlYXJjaENoYW5nZSA9IChldmVudCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCByZWdFeHAgPSBuZXcgUmVnRXhwKGBeJHt2YWx1ZX18JHt2YWx1ZX0kYCk7XG4gIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y29uc3RhbnRzLnhyYXlSZWFjdEVsZW1DTn1gKTtcbiAgXG4gIGZvciAoY29uc3QgZWxlbSBvZiBlbGVtZW50cykge1xuICAgIGlmICh2YWx1ZS5sZW5ndGggPj0gMikge1xuICAgICAgY29uc3Qgc2VhcmNoTmFtZSA9IGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXhyYXktcmVhY3QtZWxlbWVudC1zZWFyY2gtbmFtZScpO1xuICAgICAgaWYgKHNlYXJjaE5hbWUgJiYgc2VhcmNoTmFtZS5tYXRjaChyZWdFeHApKSB7XG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKCctaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnLWhpZ2hsaWdodGVkJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnLWhpZ2hsaWdodGVkJyk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb3ZlcmxheSBlbGVtZW50IGZvciBhIFJlYWN0IGNvbXBvbmVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSAtIFRoZSBET00gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgLSBOYW1lIG9mIHRoZSBSZWFjdCBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIG9yaWdpbmFsIGVsZW1lbnQgYW5kIG92ZXJsYXkgZWxlbWVudFxuICovXG5jb25zdCBjcmVhdGVFbGVtRm9yQ29tcG9uZW50ID0gKGVsZW0sIGNvbXBvbmVudE5hbWUpID0+IHtcbiAgY29uc3QgeHJheVJlYWN0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCBib3VuZGluZ0NsaWVudFJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBcbiAgeHJheVJlYWN0RWxlbS5jbGFzc05hbWUgPSBjb25zdGFudHMueHJheVJlYWN0RWxlbUNOO1xuICB4cmF5UmVhY3RFbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtbmFtZScsIGNvbXBvbmVudE5hbWUpO1xuICB4cmF5UmVhY3RFbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS14cmF5LXJlYWN0LWVsZW1lbnQtc2VhcmNoLW5hbWUnLCBjb21wb25lbnROYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB4cmF5UmVhY3RFbGVtLnN0eWxlLmhlaWdodCA9IGAke2JvdW5kaW5nQ2xpZW50UmVjdC5oZWlnaHR9cHhgO1xuICB4cmF5UmVhY3RFbGVtLnN0eWxlLndpZHRoID0gYCR7Ym91bmRpbmdDbGllbnRSZWN0LndpZHRofXB4YDtcbiAgeHJheVJlYWN0RWxlbS5zdHlsZS50b3AgPSBgJHtib3VuZGluZ0NsaWVudFJlY3QudG9wICsgd2luZG93LnNjcm9sbFl9cHhgO1xuICB4cmF5UmVhY3RFbGVtLnN0eWxlLmxlZnQgPSBgJHtib3VuZGluZ0NsaWVudFJlY3QubGVmdCArIHdpbmRvdy5zY3JvbGxYfXB4YDtcbiAgeHJheVJlYWN0RWxlbS5zdHlsZS56SW5kZXggPSBjb25zdGFudHMuekluZGV4O1xuICBcbiAgcmV0dXJuIHsgZWxlbSwgeHJheVJlYWN0RWxlbSB9O1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBuYW1lIGlzIGFuIEhUTUwgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBDb21wb25lbnQgb3IgZWxlbWVudCBuYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBpdCdzIGFuIEhUTUwgZWxlbWVudFxuICovXG5jb25zdCBpc0hUTUxFbGVtZW50ID0gKG5hbWUpID0+IHtcbiAgaWYgKCFuYW1lIHx8IHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gY29uc3RhbnRzLkhUTUxfRUxFTUVOVFMuaGFzKG5hbWUudG9Mb3dlckNhc2UoKSk7XG59O1xuXG4vKipcbiAqIFJlc29sdmVzIGNvbXBvbmVudCBuYW1lIGZyb20gZWxlbWVudCB0eXBlIGFuZCBmaWJlclxuICogSGFuZGxlcyBmdW5jdGlvbiBjb21wb25lbnRzLCBjbGFzcyBjb21wb25lbnRzLCBmb3J3YXJkUmVmLCBtZW1vLCBldGMuXG4gKiBAcGFyYW0geyp9IGVsZW1lbnRUeXBlIC0gUmVhY3QgZWxlbWVudCB0eXBlXG4gKiBAcGFyYW0ge09iamVjdH0gZmliZXIgLSBSZWFjdCBmaWJlciBub2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IENvbXBvbmVudCBuYW1lIG9yIG51bGxcbiAqL1xuY29uc3QgcmVzb2x2ZUNvbXBvbmVudE5hbWUgPSAoZWxlbWVudFR5cGUsIGZpYmVyID0gbnVsbCkgPT4ge1xuICBpZiAoIWVsZW1lbnRUeXBlKSByZXR1cm4gbnVsbDtcblxuICAvLyBIYW5kbGUgZnVuY3Rpb24gY29tcG9uZW50c1xuICBpZiAodHlwZW9mIGVsZW1lbnRUeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gQ2hlY2sgZGlzcGxheU5hbWUgZmlyc3QgKG1vc3QgcmVsaWFibGUpXG4gICAgaWYgKGVsZW1lbnRUeXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICByZXR1cm4gZWxlbWVudFR5cGUuZGlzcGxheU5hbWU7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIG5hbWVcbiAgICBpZiAoZWxlbWVudFR5cGUubmFtZSAmJiBlbGVtZW50VHlwZS5uYW1lICE9PSAnQW5vbnltb3VzJykge1xuICAgICAgcmV0dXJuIGVsZW1lbnRUeXBlLm5hbWU7XG4gICAgfVxuICAgIFxuICAgIC8vIEZvciBmb3J3YXJkUmVmLCBtZW1vLCBldGMuLCBjaGVjayB0aGUgd3JhcHBlZCBjb21wb25lbnRcbiAgICBpZiAoZWxlbWVudFR5cGUucmVuZGVyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZUNvbXBvbmVudE5hbWUoZWxlbWVudFR5cGUucmVuZGVyLCBmaWJlcik7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIGl0J3MgYSBmb3J3YXJkUmVmXG4gICAgaWYgKGVsZW1lbnRUeXBlLiQkdHlwZW9mICYmIGVsZW1lbnRUeXBlLnR5cGUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlQ29tcG9uZW50TmFtZShlbGVtZW50VHlwZS50eXBlLCBmaWJlcik7XG4gICAgfVxuICB9XG4gIFxuICAvLyBIYW5kbGUgc3RyaW5nIHR5cGVzIChIVE1MIGVsZW1lbnRzKVxuICBpZiAodHlwZW9mIGVsZW1lbnRUeXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBlbGVtZW50VHlwZTtcbiAgfVxuICBcbiAgLy8gSGFuZGxlIFJlYWN0IGVsZW1lbnQgdHlwZXNcbiAgaWYgKGVsZW1lbnRUeXBlICYmIGVsZW1lbnRUeXBlLiQkdHlwZW9mKSB7XG4gICAgaWYgKGVsZW1lbnRUeXBlLnR5cGUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlQ29tcG9uZW50TmFtZShlbGVtZW50VHlwZS50eXBlLCBmaWJlcik7XG4gICAgfVxuICB9XG4gIFxuICAvLyBUcnkgdG8gZ2V0IG5hbWUgZnJvbSBmaWJlcidzIF9kZWJ1Z1NvdXJjZSAoZmlsZSBwYXRoKVxuICBpZiAoZmliZXIgJiYgZmliZXIuX2RlYnVnU291cmNlKSB7XG4gICAgY29uc3QgZmlsZU5hbWUgPSBmaWJlci5fZGVidWdTb3VyY2UuZmlsZU5hbWU7XG4gICAgaWYgKGZpbGVOYW1lKSB7XG4gICAgICAvLyBFeHRyYWN0IGNvbXBvbmVudCBuYW1lIGZyb20gZmlsZSBwYXRoXG4gICAgICBjb25zdCBtYXRjaCA9IGZpbGVOYW1lLm1hdGNoKC8oW14vXFxcXF0rKVxcLihqc3g/fHRzeD8pJC8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjb21wb25lbnQgYmVsb25ncyB0byB0aGUgcHJvamVjdCBiYXNlZCBvbiBpdHMgc291cmNlIGZpbGUgcGF0aFxuICogQHBhcmFtIHtPYmplY3R9IGZpYmVyIC0gUmVhY3QgZmliZXIgbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb2plY3RSb290UGF0aCAtIFByb2plY3Qgcm9vdCBwYXRoIGZvciBjb21wYXJpc29uXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSAtIE9wdGlvbmFsIGNvbXBvbmVudCBuYW1lIHRvIGNoZWNrIGFnYWluc3QgcHJvamVjdCBmaWxlc1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY29tcG9uZW50IGJlbG9uZ3MgdG8gcHJvamVjdFxuICovXG5jb25zdCBpc1Byb2plY3RDb21wb25lbnQgPSAoZmliZXIsIHByb2plY3RSb290UGF0aCwgY29tcG9uZW50TmFtZSA9IG51bGwpID0+IHtcbiAgaWYgKCFwcm9qZWN0Um9vdFBhdGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IGZpbGVQYXRoID0gZmliZXI/Ll9kZWJ1Z1NvdXJjZT8uZmlsZU5hbWU7XG5cbiAgaWYgKGZpbGVQYXRoKSB7XG4gICAgaWYgKGlzRXh0ZXJuYWxQYXRoKGZpbGVQYXRoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBub3JtYWxpemVkRmlsZVBhdGggPSBub3JtYWxpemVQYXRoKGZpbGVQYXRoKTtcbiAgICBjb25zdCBub3JtYWxpemVkUHJvamVjdFJvb3QgPSBub3JtYWxpemVQYXRoKHByb2plY3RSb290UGF0aCk7XG4gICAgXG4gICAgaWYgKG5vcm1hbGl6ZWRGaWxlUGF0aC5zdGFydHNXaXRoKG5vcm1hbGl6ZWRQcm9qZWN0Um9vdCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBpZiAoIW5vcm1hbGl6ZWRGaWxlUGF0aC5pbmNsdWRlcygnbm9kZV9tb2R1bGVzJykgJiYgXG4gICAgICAgICFub3JtYWxpemVkRmlsZVBhdGguc3RhcnRzV2l0aCgnLycpICYmXG4gICAgICAgICFub3JtYWxpemVkRmlsZVBhdGgubWF0Y2goL15bYS16XTovaSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIGlmIChjb21wb25lbnROYW1lKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZENvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yIChjb25zdCBwcm9qZWN0RmlsZVBhdGggb2YgcHJvamVjdEZpbGVQYXRocykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFByb2plY3RGaWxlID0gbm9ybWFsaXplUGF0aChwcm9qZWN0RmlsZVBhdGgpO1xuICAgICAgY29uc3QgcGF0aFBhcnRzID0gbm9ybWFsaXplZFByb2plY3RGaWxlLnNwbGl0KC9bXFwvXFxcXF0vKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lV2l0aG91dEV4dCA9IGZpbGVuYW1lLnJlcGxhY2UoL1xcLih0c3g/fGpzeD8pJC8sICcnKTtcbiAgICAgIC8vIENoZWNrIGlmIGZpbGUgcGF0aCBjb250YWlucyBjb21wb25lbnQgbmFtZSBpbiB2YXJpb3VzIHBhdHRlcm5zOlxuICAgICAgLy8gLSAvQ29tcG9uZW50TmFtZS8gKGRpcmVjdG9yeSlcbiAgICAgIC8vIC0gL0NvbXBvbmVudE5hbWUuanN4XG4gICAgICAvLyAtIC9Db21wb25lbnROYW1lLnRzeFxuICAgICAgLy8gLSBDb21wb25lbnROYW1lLmpzeCAoZmlsZW5hbWUpXG4gICAgICAvLyAtIENvbXBvbmVudE5hbWUudHN4IChmaWxlbmFtZSlcblxuICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9qZWN0RmlsZS5pbmNsdWRlcyhgLyR7bm9ybWFsaXplZENvbXBvbmVudE5hbWV9L2ApIHx8XG4gICAgICAgICAgbm9ybWFsaXplZFByb2plY3RGaWxlLmluY2x1ZGVzKGBcXFxcJHtub3JtYWxpemVkQ29tcG9uZW50TmFtZX1cXFxcYCkgfHxcbiAgICAgICAgICBub3JtYWxpemVkUHJvamVjdEZpbGUuZW5kc1dpdGgoYC8ke25vcm1hbGl6ZWRDb21wb25lbnROYW1lfS5qc3hgKSB8fFxuICAgICAgICAgIG5vcm1hbGl6ZWRQcm9qZWN0RmlsZS5lbmRzV2l0aChgLyR7bm9ybWFsaXplZENvbXBvbmVudE5hbWV9LnRzeGApIHx8XG4gICAgICAgICAgbm9ybWFsaXplZFByb2plY3RGaWxlLmVuZHNXaXRoKGAvJHtub3JtYWxpemVkQ29tcG9uZW50TmFtZX0uanNgKSB8fFxuICAgICAgICAgIG5vcm1hbGl6ZWRQcm9qZWN0RmlsZS5lbmRzV2l0aChgLyR7bm9ybWFsaXplZENvbXBvbmVudE5hbWV9LnRzYCkgfHxcbiAgICAgICAgICBub3JtYWxpemVkUHJvamVjdEZpbGUuZW5kc1dpdGgoYFxcXFwke25vcm1hbGl6ZWRDb21wb25lbnROYW1lfS5qc3hgKSB8fFxuICAgICAgICAgIG5vcm1hbGl6ZWRQcm9qZWN0RmlsZS5lbmRzV2l0aChgXFxcXCR7bm9ybWFsaXplZENvbXBvbmVudE5hbWV9LnRzeGApIHx8XG4gICAgICAgICAgbm9ybWFsaXplZFByb2plY3RGaWxlLmVuZHNXaXRoKGBcXFxcJHtub3JtYWxpemVkQ29tcG9uZW50TmFtZX0uanNgKSB8fFxuICAgICAgICAgIG5vcm1hbGl6ZWRQcm9qZWN0RmlsZS5lbmRzV2l0aChgXFxcXCR7bm9ybWFsaXplZENvbXBvbmVudE5hbWV9LnRzYCkgfHxcbiAgICAgICAgICBmaWxlbmFtZVdpdGhvdXRFeHQgPT09IG5vcm1hbGl6ZWRDb21wb25lbnROYW1lKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBwcm9qZWN0IHJvb3QgcGF0aCBmb3IgZmlsdGVyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gcm9vdFBhdGggLSBQcm9qZWN0IHJvb3QgcGF0aFxuICovXG5leHBvcnQgY29uc3Qgc2V0UHJvamVjdFJvb3QgPSAocm9vdFBhdGgpID0+IHtcbiAgcHJvamVjdFJvb3QgPSByb290UGF0aCA/IG5vcm1hbGl6ZVBhdGgocm9vdFBhdGgpIDogbnVsbDtcbiAgY29uc29sZS5kZWJ1ZygneHJheS1yZWFjdDogUHJvamVjdCByb290IHNldCB0bzonLCBwcm9qZWN0Um9vdCk7XG4gIFxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX1JPT1RfXyAmJiAhcHJvamVjdFJvb3QpIHtcbiAgICBwcm9qZWN0Um9vdCA9IG5vcm1hbGl6ZVBhdGgod2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX1JPT1RfXyk7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCBwcm9qZWN0IHJvb3QgcGF0aFxuICogQHJldHVybnMge3N0cmluZ3xudWxsfSBQcm9qZWN0IHJvb3QgcGF0aCBvciBudWxsXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQcm9qZWN0Um9vdCA9ICgpID0+IHtcbiAgcmV0dXJuIHByb2plY3RSb290O1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB1c2FnZSBtYXAgZm9yIGZpbHRlcmluZyBleHRlcm5hbCBjb21wb25lbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gVXNhZ2UgbWFwIChmaWxlIHBhdGggLT4gQXJyYXkgb2YgY29tcG9uZW50IG5hbWVzKVxuICovXG5leHBvcnQgY29uc3Qgc2V0VXNhZ2VNYXAgPSAobWFwKSA9PiB7XG4gIHVzYWdlTWFwID0gbWFwIHx8IHt9O1xuICBjb25zb2xlLmRlYnVnKCd4cmF5LXJlYWN0OiBVc2FnZSBtYXAgc2V0OicsIE9iamVjdC5rZXlzKHVzYWdlTWFwKS5sZW5ndGgsICdmaWxlcycpO1xuICBcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX1hSQVlfUkVBQ1RfVVNBR0VfTUFQX18gJiYgT2JqZWN0LmtleXModXNhZ2VNYXApLmxlbmd0aCA9PT0gMCkge1xuICAgIHVzYWdlTWFwID0gd2luZG93Ll9fWFJBWV9SRUFDVF9VU0FHRV9NQVBfXztcbiAgfVxuICBcbiAgaWYgKHByb2plY3RGaWxlUGF0aHMuc2l6ZSA9PT0gMCkge1xuICAgIHByb2plY3RGaWxlUGF0aHMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKHVzYWdlTWFwIHx8IHt9KSk7XG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmtleXModXNhZ2VNYXAgfHwge30pLmZvckVhY2goZmlsZVBhdGggPT4gcHJvamVjdEZpbGVQYXRocy5hZGQoZmlsZVBhdGgpKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBpbXBvcnQgbWFwIGZvciBmaWx0ZXJpbmcgZXh0ZXJuYWwgY29tcG9uZW50cyAoZmFsbGJhY2spXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIC0gSW1wb3J0IG1hcCAoZmlsZSBwYXRoIC0+IEFycmF5IG9mIGNvbXBvbmVudCBuYW1lcylcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEltcG9ydE1hcCA9IChtYXApID0+IHtcbiAgaW1wb3J0TWFwID0gbWFwIHx8IHt9O1xuICBjb25zb2xlLmRlYnVnKCd4cmF5LXJlYWN0OiBJbXBvcnQgbWFwIHNldDonLCBPYmplY3Qua2V5cyhpbXBvcnRNYXApLmxlbmd0aCwgJ2ZpbGVzJyk7XG4gIFxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fWFJBWV9SRUFDVF9JTVBPUlRfTUFQX18gJiYgT2JqZWN0LmtleXMoaW1wb3J0TWFwKS5sZW5ndGggPT09IDApIHtcbiAgICBpbXBvcnRNYXAgPSB3aW5kb3cuX19YUkFZX1JFQUNUX0lNUE9SVF9NQVBfXztcbiAgfVxuICBcbiAgT2JqZWN0LmtleXMoaW1wb3J0TWFwIHx8IHt9KS5mb3JFYWNoKGZpbGVQYXRoID0+IHByb2plY3RGaWxlUGF0aHMuYWRkKGZpbGVQYXRoKSk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGxpc3Qgb2YgYWxsIHByb2plY3QgZmlsZXMgZm91bmQgaW4gc291cmNlUGF0aCBmb2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGZpbGVzIC0gQXJyYXkgb2YgYWxsIGZpbGUgcGF0aHMgZm91bmQgaW4gc291cmNlUGF0aFxuICovXG5leHBvcnQgY29uc3Qgc2V0UHJvamVjdEZpbGVzID0gKGZpbGVzKSA9PiB7XG4gIGNvbnN0IGZpbGVMaXN0ID0gZmlsZXMgfHwgW107XG4gIGNvbnNvbGUubG9nKCd4cmF5LXJlYWN0OiBUb3RhbCBwcm9qZWN0IGZpbGVzOicsIGZpbGVMaXN0Lmxlbmd0aCk7XG4gIFxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX0ZJTEVTX18gJiYgZmlsZUxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc3QgZ2xvYmFsRmlsZXMgPSB3aW5kb3cuX19YUkFZX1JFQUNUX1BST0pFQ1RfRklMRVNfXztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShnbG9iYWxGaWxlcykpIHtcbiAgICAgIGZpbGVMaXN0LnB1c2goLi4uZ2xvYmFsRmlsZXMpO1xuICAgICAgY29uc29sZS5sb2coJ3hyYXktcmVhY3Q6IExvYWRlZCBwcm9qZWN0IGZpbGVzIGZyb20gZ2xvYmFsIHZhcmlhYmxlOicsIGZpbGVMaXN0Lmxlbmd0aCk7XG4gICAgfVxuICB9XG4gIFxuICBwcm9qZWN0RmlsZVBhdGhzID0gbmV3IFNldChmaWxlTGlzdCk7XG4gIGNvbnNvbGUubG9nKCd4cmF5LXJlYWN0OiBVcGRhdGVkIHByb2plY3RGaWxlUGF0aHMgd2l0aCcsIHByb2plY3RGaWxlUGF0aHMuc2l6ZSwgJ2ZpbGVzJyk7XG59O1xuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGRldGVjdCBwcm9qZWN0IHJvb3QgZnJvbSBmaWJlciB0cmVlIHdoZW4gc2VydmVyIGlzIG5vdCBhdmFpbGFibGVcbiAqIFNjYW5zIERPTSBmb3IgUmVhY3QgZmliZXJzIGFuZCBleHRyYWN0cyBmaWxlIHBhdGhzIHRvIGluZmVyIHByb2plY3Qgcm9vdFxuICovXG5jb25zdCBkZXRlY3RQcm9qZWN0Um9vdEZyb21ET00gPSAoKSA9PiB7XG4gIGlmIChwcm9qZWN0Um9vdCkge1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBmaWxlUGF0aHMgPSBbXTtcbiAgICBjb25zdCBtYXhTYW1wbGVzID0gNTA7IC8vIExpbWl0IHNhbXBsZXMgZm9yIHBlcmZvcm1hbmNlXG4gICAgbGV0IHNhbXBsZXMgPSAwO1xuICAgIFxuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICBkb2N1bWVudC5ib2R5LFxuICAgICAgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsXG4gICAgICBudWxsLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIFxuICAgIGxldCBub2RlO1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSAmJiBzYW1wbGVzIDwgbWF4U2FtcGxlcykge1xuICAgICAgY29uc3QgZmliZXJLZXkgPSBPYmplY3Qua2V5cyhub2RlKS5maW5kKGtleSA9PlxuICAgICAgICBrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEZpYmVyJCcpIHx8IGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGZpYmVyS2V5KSB7XG4gICAgICAgIGNvbnN0IGZpYmVyID0gbm9kZVtmaWJlcktleV07XG4gICAgICAgIGxldCBjdXJyZW50RmliZXIgPSBmaWJlcjtcbiAgICAgICAgbGV0IGRlcHRoID0gMDtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChjdXJyZW50RmliZXIgJiYgZGVwdGggPCAxMCkge1xuICAgICAgICAgIGlmIChjdXJyZW50RmliZXIuX2RlYnVnU291cmNlICYmIGN1cnJlbnRGaWJlci5fZGVidWdTb3VyY2UuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gY3VycmVudEZpYmVyLl9kZWJ1Z1NvdXJjZS5maWxlTmFtZTtcbiAgICAgICAgICAgIGlmICghaXNFeHRlcm5hbFBhdGgoZmlsZVBhdGgpKSB7XG4gICAgICAgICAgICAgIGZpbGVQYXRocy5wdXNoKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudEZpYmVyID0gY3VycmVudEZpYmVyLnJldHVybjtcbiAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICAgIHNhbXBsZXMrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoZmlsZVBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGRldGVjdGVkUm9vdCA9IGRldGVjdFByb2plY3RSb290RnJvbVBhdGhzKGZpbGVQYXRocyk7XG4gICAgICBpZiAoZGV0ZWN0ZWRSb290KSB7XG4gICAgICAgIHByb2plY3RSb290ID0gZGV0ZWN0ZWRSb290O1xuICAgICAgICBjb25zb2xlLmRlYnVnKCd4cmF5LXJlYWN0OiBBdXRvLWRldGVjdGVkIHByb2plY3Qgcm9vdCBmcm9tIERPTTonLCBwcm9qZWN0Um9vdCk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZGVidWcoJ3hyYXktcmVhY3Q6IEZhaWxlZCB0byBkZXRlY3QgcHJvamVjdCByb290IGZyb20gRE9NOicsIGVycm9yKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYW4gZXh0ZXJuYWwgY29tcG9uZW50IGlzIHVzZWQgYnkgYW55IGludGVybmFsIGNvbXBvbmVudCBpbiB0aGUgc2VlbiBsaXN0XG4gKiBDaGVja3MgdXNhZ2UgbWFwIGZpcnN0IChwcmltYXJ5KSwgdGhlbiBpbXBvcnQgbWFwIChmYWxsYmFjaylcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIC0gRXh0ZXJuYWwgY29tcG9uZW50IG5hbWUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXl9IHNlZW5JbnRlcm5hbENvbXBvbmVudHMgLSBBcnJheSBvZiBpbnRlcm5hbCBjb21wb25lbnRzIHNlZW4gc28gZmFyIGluIHBhdGhcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGNvbXBvbmVudCBpcyB1c2VkIGJ5IGFueSBzZWVuIGludGVybmFsIGNvbXBvbmVudFxuICovXG5jb25zdCBpc1VzZWRCeUludGVybmFsQ29tcG9uZW50cyA9IChjb21wb25lbnROYW1lLCBzZWVuSW50ZXJuYWxDb21wb25lbnRzKSA9PiB7XG4gIGlmICghY29tcG9uZW50TmFtZSB8fCBzZWVuSW50ZXJuYWxDb21wb25lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgaWYgKE9iamVjdC5rZXlzKHVzYWdlTWFwKS5sZW5ndGggPT09IDAgJiYgT2JqZWN0LmtleXMoaW1wb3J0TWFwKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgZm9yIChjb25zdCBpbnRlcm5hbENvbXAgb2Ygc2VlbkludGVybmFsQ29tcG9uZW50cykge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gaW50ZXJuYWxDb21wLmZpbGU7XG4gICAgaWYgKCFmaWxlUGF0aCkgY29udGludWU7XG4gICAgXG4gICAgaWYgKHVzYWdlTWFwW2ZpbGVQYXRoXSAmJiBBcnJheS5pc0FycmF5KHVzYWdlTWFwW2ZpbGVQYXRoXSkpIHtcbiAgICAgIGlmICh1c2FnZU1hcFtmaWxlUGF0aF0uaW5jbHVkZXMoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChpbXBvcnRNYXBbZmlsZVBhdGhdICYmIEFycmF5LmlzQXJyYXkoaW1wb3J0TWFwW2ZpbGVQYXRoXSkpIHtcbiAgICAgIGlmIChpbXBvcnRNYXBbZmlsZVBhdGhdLmluY2x1ZGVzKGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBUcmF2ZXJzZXMgdGhlIGZpYmVyIHRyZWUgdG8gZmluZCBSZWFjdCBjb21wb25lbnRzLCBza2lwcGluZyBIVE1MIGVsZW1lbnRzXG4gKiBGaWx0ZXJzIG91dCBleHRlcm5hbCBsaWJyYXJ5IGNvbXBvbmVudHMgYmFzZWQgb24gdXNhZ2UvaW1wb3J0IG1hcHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBmaWJlciAtIFN0YXJ0aW5nIGZpYmVyIG5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhEZXB0aCAtIE1heGltdW0gZGVwdGggdG8gdHJhdmVyc2VcbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgY29tcG9uZW50IGluZm9ybWF0aW9uIG9iamVjdHNcbiAqL1xuY29uc3QgdHJhdmVyc2VGaWJlclRyZWUgPSAoZmliZXIsIG1heERlcHRoID0gTUFYX0ZJQkVSX0RFUFRIKSA9PiB7XG4gIGNvbnN0IGFsbENvbXBvbmVudHMgPSBbXTtcbiAgY29uc3QgaW50ZXJuYWxDb21wb25lbnRzID0gW107XG4gIGxldCBjdXJyZW50RmliZXIgPSBmaWJlcjtcbiAgbGV0IGRlcHRoID0gMDtcbiAgLy8gUGVyZm9ybWFuY2UgaW1wcm92ZW1lbnRzXG4gIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0KCk7XG4gIFxuICB3aGlsZSAoY3VycmVudEZpYmVyICYmIGRlcHRoIDwgbWF4RGVwdGgpIHtcbiAgICBpZiAodmlzaXRlZC5oYXMoY3VycmVudEZpYmVyKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHZpc2l0ZWQuYWRkKGN1cnJlbnRGaWJlcik7XG4gICAgXG4gICAgY29uc3QgZWxlbWVudFR5cGUgPSBjdXJyZW50RmliZXIuZWxlbWVudFR5cGUgfHwgY3VycmVudEZpYmVyLnR5cGU7XG4gICAgXG4gICAgaWYgKGVsZW1lbnRUeXBlKSB7XG4gICAgICBjb25zdCBjb21wb25lbnROYW1lID0gcmVzb2x2ZUNvbXBvbmVudE5hbWUoZWxlbWVudFR5cGUsIGN1cnJlbnRGaWJlcik7XG4gICAgICBcbiAgICAgIGlmIChjb21wb25lbnROYW1lKSB7XG4gICAgICAgIC8vIFNraXAgSFRNTCBlbGVtZW50c1xuICAgICAgICBpZiAoIWlzSFRNTEVsZW1lbnQoY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICBjb25zdCBpc0ludGVybmFsID0gaXNQcm9qZWN0Q29tcG9uZW50KGN1cnJlbnRGaWJlciwgcHJvamVjdFJvb3QsIGNvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIGxldCBmaWxlUGF0aCA9IG51bGw7XG4gICAgICAgICAgaWYgKGN1cnJlbnRGaWJlci5fZGVidWdTb3VyY2UgJiYgY3VycmVudEZpYmVyLl9kZWJ1Z1NvdXJjZS5maWxlTmFtZSkge1xuICAgICAgICAgICAgZmlsZVBhdGggPSBjdXJyZW50RmliZXIuX2RlYnVnU291cmNlLmZpbGVOYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBhbGxDb21wb25lbnRzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgIGZpYmVyOiBjdXJyZW50RmliZXIsXG4gICAgICAgICAgICBlbGVtZW50VHlwZTogZWxlbWVudFR5cGUsXG4gICAgICAgICAgICBkZXB0aDogZGVwdGgsXG4gICAgICAgICAgICBpc0ludGVybmFsOiBpc0ludGVybmFsLFxuICAgICAgICAgICAgZmlsZTogZmlsZVBhdGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaXNJbnRlcm5hbCkge1xuICAgICAgICAgICAgaW50ZXJuYWxDb21wb25lbnRzLnB1c2goe1xuICAgICAgICAgICAgICBuYW1lOiBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgICBmaWxlOiBmaWxlUGF0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGN1cnJlbnRGaWJlciA9IGN1cnJlbnRGaWJlci5yZXR1cm4gfHwgY3VycmVudEZpYmVyLl9vd25lcjtcbiAgICBkZXB0aCsrO1xuICB9XG4gIFxuICBjb25zdCBmaWx0ZXJlZENvbXBvbmVudHMgPSBbXTtcbiAgZm9yIChjb25zdCBjb21wIG9mIGFsbENvbXBvbmVudHMpIHtcbiAgICBpZiAoY29tcC5pc0ludGVybmFsKSB7XG4gICAgICBmaWx0ZXJlZENvbXBvbmVudHMucHVzaCh7XG4gICAgICAgIG5hbWU6IGNvbXAubmFtZSxcbiAgICAgICAgZmliZXI6IGNvbXAuZmliZXIsXG4gICAgICAgIGVsZW1lbnRUeXBlOiBjb21wLmVsZW1lbnRUeXBlLFxuICAgICAgICBkZXB0aDogY29tcC5kZXB0aCxcbiAgICAgICAgZmlsZTogY29tcC5maWxlLFxuICAgICAgICBpc0ludGVybmFsOiBjb21wLmlzSW50ZXJuYWxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNVc2VkQnlJbnRlcm5hbENvbXBvbmVudHMoY29tcC5uYW1lLCBpbnRlcm5hbENvbXBvbmVudHMpKSB7XG4gICAgICAgIGZpbHRlcmVkQ29tcG9uZW50cy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBjb21wLm5hbWUsXG4gICAgICAgICAgZmliZXI6IGNvbXAuZmliZXIsXG4gICAgICAgICAgZWxlbWVudFR5cGU6IGNvbXAuZWxlbWVudFR5cGUsXG4gICAgICAgICAgZGVwdGg6IGNvbXAuZGVwdGgsXG4gICAgICAgICAgZmlsZTogY29tcC5maWxlLFxuICAgICAgICAgIGlzSW50ZXJuYWw6IGNvbXAuaXNJbnRlcm5hbFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIHJldHVybiBmaWx0ZXJlZENvbXBvbmVudHM7XG59O1xuXG4vKipcbiAqIEdldHMgUmVhY3QgY29tcG9uZW50IGluZm9ybWF0aW9uIGZyb20gYSBET00gZWxlbWVudCB1c2luZyBSZWFjdCBEZXZUb29scyBwcm90b2NvbFxuICogU3VwcG9ydHMgUmVhY3QgMTgrIGFuZCBmYWxscyBiYWNrIHRvIGxlZ2FjeSBkZXRlY3Rpb24gZm9yIG9sZGVyIHZlcnNpb25zXG4gKiBFbmhhbmNlZCB0byBza2lwIEhUTUwgZWxlbWVudHMgYW5kIGZpbmQgYWN0dWFsIFJlYWN0IGNvbXBvbmVudHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBUaGUgRE9NIGVsZW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IE9iamVjdCB3aXRoIGNvbXBvbmVudCBuYW1lIGFuZCBvcHRpb25hbCB1aWRcbiAqL1xuY29uc3QgZ2V0Q29tcG9uZW50T2JqID0gKGVsZW0pID0+IHtcbiAgaWYgKHdpbmRvdy5fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmliZXJLZXkgPSBPYmplY3Qua2V5cyhlbGVtKS5maW5kKGtleSA9PiBcbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ19fcmVhY3RGaWJlciQnKSB8fCBrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJylcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChmaWJlcktleSkge1xuICAgICAgICBjb25zdCBmaWJlciA9IGVsZW1bZmliZXJLZXldO1xuICAgICAgICBjb25zdCBjb21wb25lbnRzID0gdHJhdmVyc2VGaWJlclRyZWUoZmliZXIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGZpcnN0Q29tcG9uZW50ID0gY29tcG9uZW50c1swXTtcbiAgICAgICAgICBjb25zdCB1aWQgPSBmaXJzdENvbXBvbmVudC5maWJlci5fZGVidWdJRCB8fCBcbiAgICAgICAgICAgICAgICAgICAgIGAke2ZpcnN0Q29tcG9uZW50LmZpYmVyLmluZGV4IHx8ICcnfSR7Zmlyc3RDb21wb25lbnQuZmliZXIua2V5IHx8ICcnfWA7XG4gICAgICAgICAgY29uc3QgcmV2ZXJzZWRIaWVyYXJjaHkgPSBjb21wb25lbnRzLnJldmVyc2UoKS5tYXAoYyA9PiBjLm5hbWUpO1xuICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgbmFtZTogZmlyc3RDb21wb25lbnQubmFtZSwgXG4gICAgICAgICAgICB1aWQsXG4gICAgICAgICAgICBoaWVyYXJjaHk6IHJldmVyc2VkSGllcmFyY2h5XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdSZWFjdCBEZXZUb29scyBwcm90b2NvbCBmYWlsZWQsIHRyeWluZyBsZWdhY3kgZGV0ZWN0aW9uOicsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGVsZW0pKSB7XG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKSkge1xuICAgICAgY29uc3QgZmliZXJOb2RlID0gZWxlbVtrZXldO1xuICAgICAgaWYgKGZpYmVyTm9kZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGNvbXBvbmVudHMgPSB0cmF2ZXJzZUZpYmVyVHJlZShmaWJlck5vZGUpO1xuICAgICAgICAgIGlmIChjb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q29tcG9uZW50ID0gY29tcG9uZW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IHJldmVyc2VkSGllcmFyY2h5ID0gY29tcG9uZW50cy5yZXZlcnNlKCkubWFwKGMgPT4gYy5uYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICBuYW1lOiBmaXJzdENvbXBvbmVudC5uYW1lLFxuICAgICAgICAgICAgICB1aWQ6IGAke2ZpYmVyTm9kZS5fbW91bnRJbmRleCB8fCAnJ30ke2ZpYmVyTm9kZS5fbW91bnRPcmRlciB8fCAnJ31gLFxuICAgICAgICAgICAgICBoaWVyYXJjaHk6IHJldmVyc2VkSGllcmFyY2h5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBDb250aW51ZSB0byBvbGQgbGVnYWN5IGRldGVjdGlvblxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChmaWJlck5vZGUgJiYgZmliZXJOb2RlLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICBjb25zdCBvd25lciA9IGZpYmVyTm9kZS5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICBjb25zdCBmaWJlciA9IG93bmVyICYmIG93bmVyLl9pbnN0YW5jZTtcbiAgICAgICAgaWYgKGZpYmVyKSB7XG4gICAgICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGZpYmVyLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgaWYgKCFpc0hUTUxFbGVtZW50KGNvbXBvbmVudE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgICAgbmFtZTogY29tcG9uZW50TmFtZSwgXG4gICAgICAgICAgICAgIHVpZDogYCR7b3duZXIuX21vdW50SW5kZXggfHwgJyd9JHtvd25lci5fbW91bnRPcmRlciB8fCAnJ31gIFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZmliZXJOb2RlKSB7XG4gICAgICAgIGNvbnN0IGZpYmVyID0gZmliZXJOb2RlLnJldHVybj8uc3RhdGVOb2RlPy5fcmVhY3RJbnRlcm5hbEZpYmVyO1xuICAgICAgICBpZiAoZmliZXIpIHtcbiAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gZmliZXIudHlwZT8ubmFtZSB8fCAnVW5rbm93bic7XG4gICAgICAgICAgaWYgKGNvbXBvbmVudE5hbWUgIT09ICdVbmtub3duJyAmJiAhaXNIVE1MRWxlbWVudChjb21wb25lbnROYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogY29tcG9uZW50TmFtZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgY29uc3QgdGFnTmFtZSA9IGVsZW0udGFnTmFtZT8udG9Mb3dlckNhc2UoKTtcbiAgaWYgKHRhZ05hbWUgJiYgaXNIVE1MRWxlbWVudCh0YWdOYW1lKSkge1xuICAgIHJldHVybiB7IG5hbWU6IHRhZ05hbWUgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHt9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2FjaGVkIGZ1bmN0aW9uIGZvciBzZWFyY2hpbmcgYW5kIGNyZWF0aW5nIGNvbXBvbmVudCBvdmVybGF5c1xuICogQHJldHVybnMge0Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGNyZWF0ZXMgb3ZlcmxheSBlbGVtZW50cyBmb3IgY29tcG9uZW50c1xuICovXG5jb25zdCBzZWFyY2hBbmRDcmVhdGVDb21wb25lbnRDYWNoZWQgPSAoKSA9PiB7XG4gIC8vIFBlcmZvcm1hbmNlIGltcHJvdmVtZW50c1xuICBjb25zdCB1aWRzID0gbmV3IFNldCgpO1xuICByZXR1cm4gKGVsZW0pID0+IHtcbiAgICBjb25zdCB7IG5hbWUsIHVpZCB9ID0gZ2V0Q29tcG9uZW50T2JqKGVsZW0pO1xuICAgIFxuICAgIGlmIChuYW1lICYmIG5hbWUgIT09ICdVbmtub3duJykge1xuICAgICAgaWYgKHVpZCkge1xuICAgICAgICBpZiAoIXVpZHMuaGFzKHVpZCkpIHtcbiAgICAgICAgICB1aWRzLmFkZCh1aWQpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtRm9yQ29tcG9uZW50KGVsZW0sIG5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbUZvckNvbXBvbmVudChlbGVtLCBuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG59O1xuXG4vKipcbiAqIEV4dHJhY3RzIGNvbXBvbmVudCBvYmplY3RzIGZyb20gUmVhY3QgZmliZXIgdHJlZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSAtIERPTSBlbGVtZW50IHRvIGV4dHJhY3QgY29tcG9uZW50cyBmcm9tXG4gKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IG9mIGNvbXBvbmVudCBvYmplY3RzIGZyb20gZmliZXIgdHJlZVxuICovXG5jb25zdCBnZXRDb21wb25lbnRzRnJvbUVsZW1lbnQgPSAoZWxlbSkgPT4ge1xuICBsZXQgY29tcG9uZW50cyA9IFtdO1xuICBcbiAgaWYgKHdpbmRvdy5fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZmliZXJLZXkgPSBPYmplY3Qua2V5cyhlbGVtKS5maW5kKGtleSA9PiBcbiAgICAgICAga2V5LnN0YXJ0c1dpdGgoJ19fcmVhY3RGaWJlciQnKSB8fCBrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEludGVybmFsSW5zdGFuY2UkJylcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChmaWJlcktleSkge1xuICAgICAgICBjb25zdCBmaWJlciA9IGVsZW1bZmliZXJLZXldO1xuICAgICAgICBjb21wb25lbnRzID0gdHJhdmVyc2VGaWJlclRyZWUoZmliZXIpO1xuICAgICAgICAvLyBSZXZlcnNlIHRvIGdldCBwYXJlbnQgLT4gY2hpbGQgb3JkZXIgKHRyYXZlcnNhbCBnb2VzIGNoaWxkIC0+IHBhcmVudClcbiAgICAgICAgY29tcG9uZW50cyA9IGNvbXBvbmVudHMucmV2ZXJzZSgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdGaWJlciB0cmVlIHRyYXZlcnNhbCBmYWlsZWQgaW4gZ2V0Q29tcG9uZW50c0Zyb21FbGVtZW50OicsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIExlZ2FjeSBkZXRlY3Rpb24gZm9yIFJlYWN0IDwxOFxuICBpZiAoY29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhlbGVtKSkge1xuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSQnKSkge1xuICAgICAgICBjb25zdCBmaWJlck5vZGUgPSBlbGVtW2tleV07XG4gICAgICAgIGlmIChmaWJlck5vZGUpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29tcG9uZW50cyA9IHRyYXZlcnNlRmliZXJUcmVlKGZpYmVyTm9kZSk7XG4gICAgICAgICAgICAvLyBSZXZlcnNlIHRvIGdldCBwYXJlbnQgLT4gY2hpbGQgb3JkZXJcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSBjb21wb25lbnRzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKCdMZWdhY3kgZmliZXIgdHJhdmVyc2FsIGZhaWxlZCBpbiBnZXRDb21wb25lbnRzRnJvbUVsZW1lbnQ6JywgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGNvbXBvbmVudHM7XG59O1xuXG4vKipcbiAqIEdldHMgY29tcG9uZW50IHBhdGggZnJvbSBET00gdHJhdmVyc2FsIChmYWxsYmFjayBtZXRob2QpXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gRE9NIGVsZW1lbnQgdG8gc3RhcnQgdHJhdmVyc2FsIGZyb21cbiAqIEByZXR1cm5zIHtBcnJheX0gQXJyYXkgb2YgY29tcG9uZW50IG5hbWVzIGZyb20gRE9NIHRyYXZlcnNhbFxuICovXG5jb25zdCBnZXREb21QYXRoID0gKGVsZW0pID0+IHtcbiAgbGV0IGN1cnJlbnRFbGVtID0gZWxlbTtcbiAgY29uc3QgZG9tUGF0aCA9IFtdO1xuICBjb25zdCBzZWVuQ29tcG9uZW50TmFtZXMgPSBuZXcgU2V0KCk7XG4gIFxuICB3aGlsZSAoY3VycmVudEVsZW0gJiYgY3VycmVudEVsZW0ucGFyZW50Tm9kZSAmJiBkb21QYXRoLmxlbmd0aCA8IDIwKSB7XG4gICAgY3VycmVudEVsZW0gPSBjdXJyZW50RWxlbS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IHsgbmFtZTogY29tcG9uZW50IH0gPSBnZXRDb21wb25lbnRPYmooY3VycmVudEVsZW0pO1xuICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50ICE9PSAnVW5rbm93bicgJiYgIWlzSFRNTEVsZW1lbnQoY29tcG9uZW50KSkge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBjb21wb25lbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghc2VlbkNvbXBvbmVudE5hbWVzLmhhcyhub3JtYWxpemVkTmFtZSkpIHtcbiAgICAgICAgc2VlbkNvbXBvbmVudE5hbWVzLmFkZChub3JtYWxpemVkTmFtZSk7XG4gICAgICAgIGRvbVBhdGgudW5zaGlmdChjb21wb25lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGRvbVBhdGg7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBmdWxsIGNvbXBvbmVudCBzdHJ1Y3R1cmUgcGF0aCAoaW5jbHVkZXMgYWxsIGNvbXBvbmVudHMpXG4gKiBAcGFyYW0ge0FycmF5fSBjb21wb25lbnRzIC0gQ29tcG9uZW50IG9iamVjdHMgZnJvbSBmaWJlciB0cmVlXG4gKiBAcGFyYW0ge3N0cmluZ30gY3VycmVudENvbXBvbmVudE5hbWUgLSBOYW1lIG9mIGN1cnJlbnQgY29tcG9uZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtIC0gT3JpZ2luYWwgRE9NIGVsZW1lbnQgZm9yIGZhbGxiYWNrXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGdWxsIGNvbXBvbmVudCBwYXRoIHN0cnVjdHVyZVxuICovXG5jb25zdCBidWlsZEZ1bGxTdHJ1Y3R1cmUgPSAoY29tcG9uZW50cywgY3VycmVudENvbXBvbmVudE5hbWUsIGVsZW0pID0+IHtcbiAgaWYgKGNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpbHRlcmVkQ29tcG9uZW50cyA9IGNvbXBvbmVudHMuZmlsdGVyKGNvbXAgPT4gXG4gICAgICBjb21wLm5hbWUgIT09IGN1cnJlbnRDb21wb25lbnROYW1lICYmICFpc0hUTUxFbGVtZW50KGNvbXAubmFtZSlcbiAgICApO1xuICAgIFxuICAgIGlmIChmaWx0ZXJlZENvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZnVsbFBhdGggPSBmaWx0ZXJlZENvbXBvbmVudHMubWFwKGNvbXAgPT4gY29tcC5uYW1lKTtcbiAgICAgIHJldHVybiBbLi4uZnVsbFBhdGgsIGN1cnJlbnRDb21wb25lbnROYW1lXS5qb2luKCcgLT4gJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjdXJyZW50Q29tcG9uZW50TmFtZTtcbiAgfVxuICBcbiAgLy8gRmFsbGJhY2sgdG8gRE9NLWJhc2VkIHRyYXZlcnNhbCAoYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbiAgY29uc3QgZG9tUGF0aCA9IGdldERvbVBhdGgoZWxlbSk7XG4gIFxuICBpZiAoZG9tUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIFsuLi5kb21QYXRoLCBjdXJyZW50Q29tcG9uZW50TmFtZV0uam9pbignIC0+ICcpO1xuICB9XG4gIFxuICByZXR1cm4gY3VycmVudENvbXBvbmVudE5hbWU7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBmaWx0ZXJlZCBjb21wb25lbnQgc3RydWN0dXJlIHBhdGggKG9ubHkgcHJvamVjdC1vd25lZCBjb21wb25lbnRzKVxuICogQHBhcmFtIHtBcnJheX0gY29tcG9uZW50cyAtIENvbXBvbmVudCBvYmplY3RzIGZyb20gZmliZXIgdHJlZVxuICogQHBhcmFtIHtzdHJpbmd9IGN1cnJlbnRDb21wb25lbnROYW1lIC0gTmFtZSBvZiBjdXJyZW50IGNvbXBvbmVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbSAtIE9yaWdpbmFsIERPTSBlbGVtZW50IGZvciBmYWxsYmFja1xuICogQHJldHVybnMge3N0cmluZ30gRmlsdGVyZWQgY29tcG9uZW50IHBhdGggc3RydWN0dXJlXG4gKi9cbmNvbnN0IGJ1aWxkRmlsdGVyZWRTdHJ1Y3R1cmUgPSAoY29tcG9uZW50cywgY3VycmVudENvbXBvbmVudE5hbWUsIGVsZW0pID0+IHtcbiAgaWYgKGNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGZpbHRlcmVkQ29tcG9uZW50cyA9IGNvbXBvbmVudHMuZmlsdGVyKGNvbXAgPT4gXG4gICAgICBjb21wLm5hbWUgIT09IGN1cnJlbnRDb21wb25lbnROYW1lICYmICFpc0hUTUxFbGVtZW50KGNvbXAubmFtZSlcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IHNlZW5Db21wb25lbnRzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHByb2plY3RPd25lZENvbXBvbmVudHMgPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGNvbXAgb2YgZmlsdGVyZWRDb21wb25lbnRzKSB7XG4gICAgICBpZiAoIWNvbXAuaXNJbnRlcm5hbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZE5hbWUgPSBjb21wLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIFxuICAgICAgaWYgKGNvbXAuZmlsZSkge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkRmlsZSA9IGNvbXAuZmlsZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBub3JtYWxpemVkRmlsZS5zcGxpdCgvW1xcL1xcXFxdLyk7XG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gcGF0aFBhcnRzW3BhdGhQYXJ0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgZmlsZW5hbWVXaXRob3V0RXh0ID0gZmlsZW5hbWUucmVwbGFjZSgvXFwuKHRzeD98anN4PykkLywgJycpO1xuXG4gICAgICAgIGNvbnN0IG5hbWVNYXRjaGVzRmlsZSA9IG5vcm1hbGl6ZWRGaWxlLmluY2x1ZGVzKGAvJHtub3JtYWxpemVkTmFtZX1gKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuaW5jbHVkZXMoYFxcXFwke25vcm1hbGl6ZWROYW1lfWApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmVuZHNXaXRoKGAvJHtub3JtYWxpemVkTmFtZX0udHN4YCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYC8ke25vcm1hbGl6ZWROYW1lfS50c2ApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmVuZHNXaXRoKGAvJHtub3JtYWxpemVkTmFtZX0uanN4YCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYC8ke25vcm1hbGl6ZWROYW1lfS5qc2ApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmVuZHNXaXRoKGBcXFxcJHtub3JtYWxpemVkTmFtZX0udHN4YCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYFxcXFwke25vcm1hbGl6ZWROYW1lfS50c2ApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRGaWxlLmVuZHNXaXRoKGBcXFxcJHtub3JtYWxpemVkTmFtZX0uanN4YCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEZpbGUuZW5kc1dpdGgoYFxcXFwke25vcm1hbGl6ZWROYW1lfS5qc2ApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lV2l0aG91dEV4dCA9PT0gbm9ybWFsaXplZE5hbWU7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpblByb2plY3RGaWxlUGF0aHMgPSBbLi4ucHJvamVjdEZpbGVQYXRoc10uc29tZShwYXRoID0+IHBhdGgudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhub3JtYWxpemVkTmFtZSkpO1xuXG4gICAgICAgIGlmICghbmFtZU1hdGNoZXNGaWxlICYmICFpblByb2plY3RGaWxlUGF0aHMpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gRGVkdXBsaWNhdGUgYnkgY29tcG9uZW50IGlkZW50aXR5OiB1c2Ugbm9ybWFsaXplZCBuYW1lICsgbm9ybWFsaXplZCBmaWxlIHBhdGggYXMgdW5pcXVlIGtleVxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcbiAgICAgICAgLy8gMS4gVGhlIHNhbWUgY29tcG9uZW50IChzYW1lIG5hbWUsIHNhbWUgZmlsZSkgYXBwZWFyaW5nIG11bHRpcGxlIHRpbWVzIGlzIG9ubHkgc2hvd24gb25jZVxuICAgICAgICAvLyAgICAoZS5nLiwgV2ViQXBwTGF5b3V0IC0+IFdlYkFwcExheW91dCAtPiBXZWJBcHBMYXlvdXQpXG4gICAgICAgIC8vIDIuIERpZmZlcmVudCBjb21wb25lbnRzIHdpdGggdGhlIHNhbWUgbmFtZSBidXQgZGlmZmVyZW50IGZpbGVzIGFyZSBib3RoIHNob3duXG4gICAgICAgIC8vICAgIChlLmcuLCBjb21wb25lbnRzX2xlZnQvUGFyZW50LmpzeCB2cyBjb21wb25lbnRzX3JpZ2h0L1BhcmVudC5qc3gpXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGaWxlUGF0aCA9IG5vcm1hbGl6ZVBhdGgoY29tcC5maWxlKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50S2V5ID0gYCR7bm9ybWFsaXplZE5hbWV9OiR7bm9ybWFsaXplZEZpbGVQYXRofWA7XG4gICAgICAgIFxuICAgICAgICBpZiAoc2VlbkNvbXBvbmVudHMuaGFzKGNvbXBvbmVudEtleSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2VlbkNvbXBvbmVudHMuYWRkKGNvbXBvbmVudEtleSk7XG4gICAgICAgIHByb2plY3RPd25lZENvbXBvbmVudHMucHVzaChjb21wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEtleSA9IG5vcm1hbGl6ZWROYW1lO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNlZW5Db21wb25lbnRzLmhhcyhjb21wb25lbnRLZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzZWVuQ29tcG9uZW50cy5hZGQoY29tcG9uZW50S2V5KTtcbiAgICAgICAgcHJvamVjdE93bmVkQ29tcG9uZW50cy5wdXNoKGNvbXApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcm9qZWN0T3duZWRDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGZpbHRlcmVkUGF0aCA9IHByb2plY3RPd25lZENvbXBvbmVudHMubWFwKGNvbXAgPT4gY29tcC5uYW1lKTtcbiAgICAgIGNvbnN0IGN1cnJlbnROYW1lTG93ZXIgPSBjdXJyZW50Q29tcG9uZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgY29uc3QgcGF0aENvbnRhaW5zQ3VycmVudCA9IGZpbHRlcmVkUGF0aC5zb21lKG5hbWUgPT4gbmFtZS50b0xvd2VyQ2FzZSgpID09PSBjdXJyZW50TmFtZUxvd2VyKTtcbiAgICAgIFxuICAgICAgbGV0IGZpbmFsUGF0aDtcbiAgICAgIGlmICghcGF0aENvbnRhaW5zQ3VycmVudCkge1xuICAgICAgICBmaW5hbFBhdGggPSBbLi4uZmlsdGVyZWRQYXRoLCBjdXJyZW50Q29tcG9uZW50TmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbFBhdGggPSBmaWx0ZXJlZFBhdGg7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBjb25zZWN1dGl2ZSBkdXBsaWNhdGVzIG9mIHRoZSBzYW1lIGNvbXBvbmVudHMgYmVmb3JlIGpvaW5pbmdcbiAgICAgIGZpbmFsUGF0aCA9IHJlbW92ZUNvbnNlY3V0aXZlRHVwbGljYXRlcyhmaW5hbFBhdGgpO1xuICAgICAgcmV0dXJuIGZpbmFsUGF0aC5qb2luKCcgLT4gJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBjdXJyZW50Q29tcG9uZW50TmFtZTtcbiAgfVxuICBcbiAgY29uc3QgZG9tUGF0aCA9IGdldERvbVBhdGgoZWxlbSk7XG4gIFxuICBpZiAoZG9tUGF0aC5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgY3VycmVudE5hbWVMb3dlciA9IGN1cnJlbnRDb21wb25lbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgcGF0aENvbnRhaW5zQ3VycmVudCA9IGRvbVBhdGguc29tZShuYW1lID0+IG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gY3VycmVudE5hbWVMb3dlcik7XG4gICAgXG4gICAgbGV0IGZpbmFsUGF0aDtcbiAgICBpZiAoIXBhdGhDb250YWluc0N1cnJlbnQpIHtcbiAgICAgIGZpbmFsUGF0aCA9IFsuLi5kb21QYXRoLCBjdXJyZW50Q29tcG9uZW50TmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmFsUGF0aCA9IGRvbVBhdGg7XG4gICAgfVxuICAgIFxuICAgIC8vIFJlbW92ZSBjb25zZWN1dGl2ZSBkdXBsaWNhdGVzIG9mIHRoZSBzYW1lIGNvbXBvbmVudHMgYmVmb3JlIGpvaW5pbmdcbiAgICBmaW5hbFBhdGggPSByZW1vdmVDb25zZWN1dGl2ZUR1cGxpY2F0ZXMoZmluYWxQYXRoKTtcbiAgICByZXR1cm4gZmluYWxQYXRoLmpvaW4oJyAtPiAnKTtcbiAgfVxuICBcbiAgcmV0dXJuIGN1cnJlbnRDb21wb25lbnROYW1lO1xufTtcblxuLyoqXG4gKiBBZGRzIHRoZSBhYnNvbHV0ZSBjb21wb25lbnQgcGF0aCB0byBhbiBvdmVybGF5IGVsZW1lbnRcbiAqIFVzZXMgZmliZXItYmFzZWQgaGllcmFyY2h5IGZvciBhY2N1cmF0ZSBSZWFjdCBjb21wb25lbnQgcGF0aHNcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW0gLSBPcmlnaW5hbCBET00gZWxlbWVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0geHJheVJlYWN0RWxlbSAtIE92ZXJsYXkgZWxlbWVudFxuICovXG5jb25zdCBhZGRBYnNvbHV0ZUNvbXBvbmVudFBhdGggPSAoZWxlbSwgeHJheVJlYWN0RWxlbSkgPT4ge1xuICBjb25zdCBjdXJyZW50Q29tcG9uZW50TmFtZSA9IHhyYXlSZWFjdEVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXhyYXktcmVhY3QtZWxlbWVudC1uYW1lJykgfHwgJyc7XG4gIFxuICBjb25zdCBjb21wb25lbnRzID0gZ2V0Q29tcG9uZW50c0Zyb21FbGVtZW50KGVsZW0pO1xuICBcbiAgY29uc3QgZnVsbFN0cnVjdHVyZSA9IGJ1aWxkRnVsbFN0cnVjdHVyZShjb21wb25lbnRzLCBjdXJyZW50Q29tcG9uZW50TmFtZSwgZWxlbSk7XG4gIGNvbnN0IGZpbHRlcmVkU3RydWN0dXJlID0gYnVpbGRGaWx0ZXJlZFN0cnVjdHVyZShjb21wb25lbnRzLCBjdXJyZW50Q29tcG9uZW50TmFtZSwgZWxlbSk7XG4gIFxuICB4cmF5UmVhY3RFbGVtLnNldEF0dHJpYnV0ZShjb25zdGFudHMueHJheVJlYWN0Q29tcFBhdGhBdHRyLCBmdWxsU3RydWN0dXJlKTtcbiAgeHJheVJlYWN0RWxlbS5zZXRBdHRyaWJ1dGUoY29uc3RhbnRzLnhyYXlSZWFjdEZpbHRlcmVkQ29tcFBhdGhBdHRyLCBmaWx0ZXJlZFN0cnVjdHVyZSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgbW91c2VvdmVyIGV2ZW50cyBvbiBvdmVybGF5IGVsZW1lbnRzXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIE1vdXNlb3ZlciBldmVudFxuICovXG5jb25zdCBvblhyYXlSZWFjdE1vdXNlb3ZlciA9IChldmVudCkgPT4ge1xuICBjb25zdCB7IHRhcmdldCB9ID0gZXZlbnQ7XG4gIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGNvbnN0YW50cy54cmF5UmVhY3RFbGVtQ04pKSB7XG4gICAgY29uc3QgY29tcG9uZW50c1BhdGggPSB0YXJnZXQuZ2V0QXR0cmlidXRlKGNvbnN0YW50cy54cmF5UmVhY3RGaWx0ZXJlZENvbXBQYXRoQXR0cikgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuZ2V0QXR0cmlidXRlKGNvbnN0YW50cy54cmF5UmVhY3RDb21wUGF0aEF0dHIpIHx8ICcnO1xuICAgIGNvbnN0IHBhdGhFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhyYXktcmVhY3QtYWN0aW9ucy13cmFwcGVyIC5jb21wb25lbnRzLXBhdGgnKTtcbiAgICBpZiAocGF0aEVsZW1lbnQpIHtcbiAgICAgIHBhdGhFbGVtZW50LmlubmVySFRNTCA9IGNvbXBvbmVudHNQYXRoO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBUb2dnbGVzIHRoZSB4cmF5LXJlYWN0IG92ZXJsYXkgb24vb2ZmXG4gKi9cbmNvbnN0IHRvZ2dsZVhyYXlSZWFjdCA9ICgpID0+IHtcbiAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gIFxuICBpZiAoYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3hyYXktcmVhY3QtZW5hYmxlZCcpKSB7XG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd4cmF5LXJlYWN0LWVuYWJsZWQnKTtcbiAgICBjb25zdCB4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOfWApO1xuICAgIGNvbnN0IHhyYXlSZWFjdEFjdGlvbkJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LWFjdGlvbi1iYXInKTtcbiAgICBjb25zdCB4cmF5UmVhY3RTdHlsZVRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy54cmF5LXJlYWN0LXN0eWxlLXRhZycpO1xuICAgIGNvbnN0IHRlbXBFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy54cmF5LXJlYWN0LWVsZW1lbnQtdGVtcCcpO1xuICAgIFxuICAgIGlmICh4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIpIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5yZW1vdmUoKTtcbiAgICBpZiAoeHJheVJlYWN0QWN0aW9uQmFyKSB4cmF5UmVhY3RBY3Rpb25CYXIucmVtb3ZlKCk7XG4gICAgaWYgKHhyYXlSZWFjdFN0eWxlVGFnKSB4cmF5UmVhY3RTdHlsZVRhZy5yZW1vdmUoKTtcbiAgICB0ZW1wRWxlbWVudHMuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgXG4gICAgYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvblhyYXlSZWFjdE1vdXNlb3Zlcik7XG4gIH0gZWxzZSB7XG4gICAgYm9keS5jbGFzc0xpc3QuYWRkKCd4cmF5LXJlYWN0LWVuYWJsZWQnKTtcbiAgICBcbiAgICBsZXQgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnhyYXktcmVhY3Qtc3R5bGUtdGFnJyk7XG4gICAgaWYgKCFzdHlsZUVsZW1lbnQpIHtcbiAgICAgIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsZW1lbnQuY2xhc3NOYW1lID0gJ3hyYXktcmVhY3Qtc3R5bGUtdGFnJztcbiAgICAgIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IGNzcztcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdBY3Rpb25CYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueHJheS1yZWFjdC1hY3Rpb24tYmFyJyk7XG4gICAgaWYgKCFleGlzdGluZ0FjdGlvbkJhcikge1xuICAgICAgYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGFjdGlvbkJhcik7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNlYXJjaElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaC1jb21wb25lbnQnKTtcbiAgICBpZiAoc2VhcmNoSW5wdXQpIHtcbiAgICAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlU2VhcmNoQ2hhbmdlKTtcbiAgICB9XG4gICAgYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBvblhyYXlSZWFjdE1vdXNlb3Zlcik7XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y29uc3RhbnRzLnhyYXlSZWFjdFdyYXBwZXJDTn1gKTtcbiAgICBpZiAoZXhpc3RpbmdXcmFwcGVyKSB7XG4gICAgICBleGlzdGluZ1dyYXBwZXIucmVtb3ZlKCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlci5jbGFzc05hbWUgPSBjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOO1xuICAgIGJvZHkuYXBwZW5kKHhyYXlSZWFjdEVsZW1lbnRzV3JhcHBlcik7XG4gICAgXG4gICAgY29uc3QgZXhpc3RpbmdMb2FkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnhyYXktcmVhY3QtZWxlbWVudC10ZW1wJyk7XG4gICAgZXhpc3RpbmdMb2FkaW5nLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgIFxuICAgIGNvbnN0IGxvYWRpbmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbG9hZGluZ0VsZW1lbnQuY2xhc3NOYW1lID0gJ3hyYXktcmVhY3QtZWxlbWVudCB4cmF5LXJlYWN0LWVsZW1lbnQtdGVtcCc7XG4gICAgbG9hZGluZ0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7d2luZG93LmlubmVySGVpZ2h0fXB4YDtcbiAgICBsb2FkaW5nRWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3dpbmRvdy5pbm5lcldpZHRofXB4YDtcbiAgICBsb2FkaW5nRWxlbWVudC5zdHlsZS50b3AgPSBgJHt3aW5kb3cuc2Nyb2xsWX1weGA7XG4gICAgbG9hZGluZ0VsZW1lbnQuc3R5bGUubGVmdCA9IGAke3dpbmRvdy5zY3JvbGxYfXB4YDtcbiAgICBsb2FkaW5nRWxlbWVudC5zdHlsZS56SW5kZXggPSAnMTAwMDAnO1xuICAgIGxvYWRpbmdFbGVtZW50LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwieHJheS1yZWFjdC1zcGlubmVyIHhyYXktcmVhY3QtZWxlbWVudC10ZW1wXCI+PC9kaXY+JztcbiAgICB4cmF5UmVhY3RFbGVtZW50c1dyYXBwZXIuYXBwZW5kQ2hpbGQobG9hZGluZ0VsZW1lbnQpO1xuICAgIFxuICAgIC8vIFBlcmZvcm1hbmNlIGltcHJvdmVtZW50c1xuICAgIGNvbnN0IHByb2Nlc3NFbGVtZW50c0FzeW5jID0gKCkgPT4ge1xuICAgICAgY29uc3QgeHJheVJlYWN0T2JqZWN0cyA9IFtdO1xuICAgICAgY29uc3Qgc2VhcmNoQW5kQ3JlYXRlQ29tcG9uZW50ID0gc2VhcmNoQW5kQ3JlYXRlQ29tcG9uZW50Q2FjaGVkKCk7XG4gICAgICBjb25zdCBhbGxFbGVtZW50cyA9IEFycmF5LmZyb20oYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpKS5maWx0ZXIoZWxlbSA9PiB7XG4gICAgICAgIC8vIEV4Y2x1ZGUgeHJheS1yZWFjdCBlbGVtZW50cyBhbmQgdGhlaXIgY2hpbGRyZW5cbiAgICAgICAgcmV0dXJuICFlbGVtLmNsYXNzTGlzdC5jb250YWlucygneHJheS1yZWFjdC1lbGVtZW50LXRlbXAnKSAmJlxuICAgICAgICAgICAgICAgIWVsZW0uY2xvc2VzdCgnLnhyYXktcmVhY3QtYWN0aW9uLWJhcicpICYmXG4gICAgICAgICAgICAgICAhZWxlbS5jbG9zZXN0KGAuJHtjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOfWApO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBiYXRjaFNpemUgPSAyMDtcbiAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICBcbiAgICAgIGNvbnN0IHByb2Nlc3NCYXRjaCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSBNYXRoLm1pbihpbmRleCArIGJhdGNoU2l6ZSwgYWxsRWxlbWVudHMubGVuZ3RoKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlbGVtID0gYWxsRWxlbWVudHNbaV07XG4gICAgICAgICAgY29uc3QgeHJheVJlYWN0T2JqID0gc2VhcmNoQW5kQ3JlYXRlQ29tcG9uZW50KGVsZW0pO1xuICAgICAgICAgIGlmICh4cmF5UmVhY3RPYmopIHtcbiAgICAgICAgICAgIHhyYXlSZWFjdE9iamVjdHMucHVzaCh4cmF5UmVhY3RPYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaW5kZXggPSBlbmRJbmRleDtcbiAgICAgICAgXG4gICAgICAgIGlmIChpbmRleCA8IGFsbEVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHNldFRpbWVvdXQocHJvY2Vzc0JhdGNoLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgcGF0aEluZGV4ID0gMDtcbiAgICAgICAgICBjb25zdCBwYXRoQmF0Y2hTaXplID0gMTA7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcHJvY2Vzc1BhdGhzID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZW5kSW5kZXggPSBNYXRoLm1pbihwYXRoSW5kZXggKyBwYXRoQmF0Y2hTaXplLCB4cmF5UmVhY3RPYmplY3RzLmxlbmd0aCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBwYXRoSW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgZWxlbSwgeHJheVJlYWN0RWxlbSB9ID0geHJheVJlYWN0T2JqZWN0c1tpXTtcbiAgICAgICAgICAgICAgYWRkQWJzb2x1dGVDb21wb25lbnRQYXRoKGVsZW0sIHhyYXlSZWFjdEVsZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYXRoSW5kZXggPSBlbmRJbmRleDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHBhdGhJbmRleCA8IHhyYXlSZWFjdE9iamVjdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQocHJvY2Vzc1BhdGhzLCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjb25zdGFudHMueHJheVJlYWN0V3JhcHBlckNOfWApO1xuICAgICAgICAgICAgICBpZiAod3JhcHBlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBFbGVtZW50cyA9IHdyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnLnhyYXktcmVhY3QtZWxlbWVudC10ZW1wJyk7XG4gICAgICAgICAgICAgICAgdGVtcEVsZW1lbnRzLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kKC4uLnhyYXlSZWFjdE9iamVjdHMubWFwKG9iaiA9PiBvYmoueHJheVJlYWN0RWxlbSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRUaW1lb3V0KHByb2Nlc3NQYXRocywgMSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIHNldFRpbWVvdXQocHJvY2Vzc0JhdGNoLCAxKTtcbiAgICB9O1xuICAgIFxuICAgIHByb2Nlc3NFbGVtZW50c0FzeW5jKCk7XG4gIH1cbn07XG5cbi8qKlxuICogS2V5ZG93biBldmVudCBoYW5kbGVyIGZvciB4cmF5LXJlYWN0IHNob3J0Y3V0c1xuICogTWF0Y2hlcyB4cmF5LXJhaWxzOiBDbWQrU2hpZnQrWCAoTWFjKSAvIEN0cmwrU2hpZnQrWCAoV2luZG93cy9MaW51eClcbiAqL1xubGV0IGtleWRvd25IYW5kbGVyID0gbnVsbDtcbmxldCBpc0hhbmRsZXJSZWdpc3RlcmVkID0gZmFsc2U7XG5cbmNvbnN0IGNyZWF0ZUtleWRvd25IYW5kbGVyID0gKCkgPT4ge1xuICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgaWYgKGJvZHkgJiYgYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3hyYXktcmVhY3QtZW5hYmxlZCcpKSB7XG4gICAgICAgIHRvZ2dsZVhyYXlSZWFjdCgpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBpc01hYyA9IG5hdmlnYXRvci5wbGF0Zm9ybS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ01BQycpID49IDA7XG4gICAgY29uc3QgaXNNZXRhT3JDdHJsID0gaXNNYWMgPyBldmVudC5tZXRhS2V5IDogZXZlbnQuY3RybEtleTtcbiAgICBjb25zdCBpc1NoaWZ0ID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgY29uc3QgaXNYID0gZXZlbnQua2V5ID09PSAneCcgfHwgZXZlbnQua2V5ID09PSAnWCcgfHwgZXZlbnQua2V5Q29kZSA9PT0gODg7XG4gICAgXG4gICAgaWYgKGlzTWV0YU9yQ3RybCAmJiBpc1NoaWZ0ICYmIGlzWCkge1xuICAgICAgdG9nZ2xlWHJheVJlYWN0KCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBIYW5kbGVzIGtleWJvYXJkIHNob3J0Y3V0IHRvIHRvZ2dsZSB4cmF5LXJlYWN0XG4gKiBFbnN1cmVzIHRoZSBsaXN0ZW5lciBpcyBvbmx5IHJlZ2lzdGVyZWQgb25jZVxuICovXG5jb25zdCBoYW5kbGVYcmF5UmVhY3RUb2dnbGUgPSAoKSA9PiB7XG4gIGlmIChpc0hhbmRsZXJSZWdpc3RlcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBpZiAoIWtleWRvd25IYW5kbGVyKSB7XG4gICAga2V5ZG93bkhhbmRsZXIgPSBjcmVhdGVLZXlkb3duSGFuZGxlcigpO1xuICB9XG4gIFxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkhhbmRsZXIsIHRydWUpO1xuICBpc0hhbmRsZXJSZWdpc3RlcmVkID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogRW5hYmxlcyB4cmF5LXJlYWN0IGZ1bmN0aW9uYWxpdHlcbiAqL1xuZXhwb3J0IGNvbnN0IGVuYWJsZVhyYXlSZWFjdCA9ICgpID0+IHtcbiAgaWYgKCFwcm9qZWN0Um9vdCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuX19YUkFZX1JFQUNUX1BST0pFQ1RfUk9PVF9fKSB7XG4gICAgICBwcm9qZWN0Um9vdCA9IG5vcm1hbGl6ZVBhdGgod2luZG93Ll9fWFJBWV9SRUFDVF9QUk9KRUNUX1JPT1RfXyk7XG4gICAgICBjb25zb2xlLmRlYnVnKCd4cmF5LXJlYWN0OiBVc2luZyBwcm9qZWN0IHJvb3QgZnJvbSBnbG9iYWwgdmFyaWFibGU6JywgcHJvamVjdFJvb3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGV0ZWN0UHJvamVjdFJvb3RGcm9tRE9NKCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH1cbiAgXG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaGFuZGxlWHJheVJlYWN0VG9nZ2xlKTtcbiAgfSBlbHNlIHtcbiAgICBoYW5kbGVYcmF5UmVhY3RUb2dnbGUoKTtcbiAgfVxufTtcbiIsImltcG9ydCB7IGVuYWJsZVhyYXlSZWFjdCwgc2V0UHJvamVjdFJvb3QsIHNldFVzYWdlTWFwLCBzZXRJbXBvcnRNYXAsIHNldFByb2plY3RGaWxlcyB9IGZyb20gJy4uL3NyYy91aS11dGlscy5qcyc7XG5cbi8vIEV4cG9zZSBmdW5jdGlvbnMgZ2xvYmFsbHkgZm9yIGNsaWVudCBidW5kbGUgdG8gdXNlXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgd2luZG93LnhyYXlSZWFjdFNldFByb2plY3RSb290ID0gc2V0UHJvamVjdFJvb3Q7XG4gIHdpbmRvdy54cmF5UmVhY3RTZXRVc2FnZU1hcCA9IHNldFVzYWdlTWFwO1xuICB3aW5kb3cueHJheVJlYWN0U2V0SW1wb3J0TWFwID0gc2V0SW1wb3J0TWFwO1xuICB3aW5kb3cueHJheVJlYWN0U2V0UHJvamVjdEZpbGVzID0gc2V0UHJvamVjdEZpbGVzO1xufVxuXG5lbmFibGVYcmF5UmVhY3QoKTtcbiJdLCJuYW1lcyI6WyJjb25zdGFudHMueHJheVJlYWN0RWxlbUNOIiwiY29uc3RhbnRzLnpJbmRleCIsImNvbnN0YW50cy5IVE1MX0VMRU1FTlRTIiwiY29uc3RhbnRzLnhyYXlSZWFjdENvbXBQYXRoQXR0ciIsImNvbnN0YW50cy54cmF5UmVhY3RGaWx0ZXJlZENvbXBQYXRoQXR0ciIsImNvbnN0YW50cy54cmF5UmVhY3RXcmFwcGVyQ04iXSwibWFwcGluZ3MiOiI7OztFQUFPLE1BQU0sZUFBZSxHQUFHLG9CQUFvQjtFQUM1QyxNQUFNLGtCQUFrQixHQUFHLDZCQUE2QjtFQUN4RCxNQUFNLHFCQUFxQixHQUFHLGlDQUFpQztFQUMvRCxNQUFNLDZCQUE2QixHQUFHLDBDQUEwQztFQUNoRixNQUFNLE1BQU0sR0FBRyxLQUFLOztFQUVwQixNQUFNLGFBQWEsR0FBRyxJQUFJLEdBQUcsQ0FBQztFQUNyQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJO0VBQy9GLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTztFQUN4RSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE9BQU87RUFDbEUsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLFFBQVE7RUFDL0QsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxLQUFLO0VBQ2xFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTTtFQUN2RCxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRSxTQUFTO0VBQzFFLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTztFQUNsRSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUU7RUFDakQsQ0FBQyxDQUFDOztBQ2hCRixZQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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
